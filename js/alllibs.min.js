/*! xtrad-viewer 06-12-2019 */

!function(t){function i(t,e,n,r,l){this._listener=e,this._isOnce=n,this.context=r,this._signal=t,this._priority=l||0}function r(t,e){if("function"!=typeof t)throw Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}var e={VERSION:"0.7.4"};i.prototype={active:!0,params:null,execute:function(t){var e;return this.active&&this._listener&&(t=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,t),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},getListener:function(){return this._listener},_destroy:function(){delete this._signal,delete this._listener,delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},e.Signal=function(){this._bindings=[],this._prevParams=null},e.Signal.prototype={memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,e,n,r){var l=this._indexOfListener(t,n);if(-1!==l){if((t=this._bindings[l]).isOnce()!==e)throw Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else t=new i(this,t,e,n,r),this._addBinding(t);return this.memorize&&this._prevParams&&t.execute(this._prevParams),t},_addBinding:function(t){for(var e=this._bindings.length;--e,this._bindings[e]&&t._priority<=this._bindings[e]._priority;);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,r=this._bindings.length;r--;)if((n=this._bindings[r])._listener===t&&n.context===e)return r;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,n){return r(t,"add"),this._registerListener(t,!1,e,n)},addOnce:function(t,e,n){return r(t,"addOnce"),this._registerListener(t,!0,e,n)},remove:function(t,e){r(t,"remove");var n=this._indexOfListener(t,e);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r)for(e=this._bindings.slice(),this._shouldPropagate=!0;e[--r]&&this._shouldPropagate&&!1!==e[r].execute(n););}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&module.exports?module.exports=e:t.signals=e}(this);var UI={Element:function(t){this.dom=t}};UI.Element.prototype={add:function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];e instanceof UI.Element?this.dom.appendChild(e.dom):console.error("UI.Element:",e,"is not an instance of UI.Element.")}return this},remove:function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];e instanceof UI.Element?this.dom.removeChild(e.dom):console.error("UI.Element:",e,"is not an instance of UI.Element.")}return this},clear:function(){for(;this.dom.children.length;)this.dom.removeChild(this.dom.lastChild)},setId:function(t){return this.dom.id=t,this},setClass:function(t){return this.dom.className=t,this},setStyle:function(t,e){for(var n=0;n<e.length;n++)this.dom.style[t]=e[n];return this},setDisabled:function(t){return this.dom.disabled=t,this},setTextContent:function(t){return this.dom.textContent=t,this}};var properties=["position","left","top","right","bottom","width","height","border","borderLeft","borderTop","borderRight","borderBottom","borderColor","display","overflow","margin","marginLeft","marginTop","marginRight","marginBottom","padding","paddingLeft","paddingTop","paddingRight","paddingBottom","color","background","backgroundColor","opacity","fontSize","fontWeight","textAlign","textDecoration","textTransform","cursor","zIndex"];properties.forEach(function(t){var e="set"+t.substr(0,1).toUpperCase()+t.substr(1,t.length);UI.Element.prototype[e]=function(){return this.setStyle(t,arguments),this}});var events=["KeyUp","KeyDown","MouseOver","MouseOut","Click","DblClick","Change"];events.forEach(function(e){var t="on"+e;UI.Element.prototype[t]=function(t){return this.dom.addEventListener(e.toLowerCase(),t.bind(this),!1),this}}),UI.Span=function(){return UI.Element.call(this),this.dom=document.createElement("span"),this},UI.Span.prototype=Object.create(UI.Element.prototype),UI.Span.prototype.constructor=UI.Span,UI.Div=function(){return UI.Element.call(this),this.dom=document.createElement("div"),this},UI.Div.prototype=Object.create(UI.Element.prototype),UI.Div.prototype.constructor=UI.Div,UI.Row=function(){UI.Element.call(this);var t=document.createElement("div");return t.className="Row",this.dom=t,this},UI.Row.prototype=Object.create(UI.Element.prototype),UI.Row.prototype.constructor=UI.Row,UI.Column=function(t){UI.Element.call(this);var e=document.createElement("div");return e.className=t,this.dom=e,this},UI.Column.prototype=Object.create(UI.Element.prototype),UI.Column.prototype.constructor=UI.Column,UI.Panel=function(){UI.Element.call(this);var t=document.createElement("div");return t.className="Panel",t.style.zIndex="1000",this.dom=t,this},UI.Panel.prototype=Object.create(UI.Element.prototype),UI.Panel.prototype.constructor=UI.Panel,UI.Text=function(t){UI.Element.call(this);var e=document.createElement("span");return e.className="Text",e.style.cursor="default",e.style.display="inline-block",e.style.verticalAlign="middle",e.style.paddingLeft="10px",e.style.paddingTop="4px",e.style.paddingRight="10px",e.style.paddingBottom="4px",this.dom=e,this.setValue(t),this},UI.Text.prototype=Object.create(UI.Element.prototype),UI.Text.prototype.constructor=UI.Text,UI.Text.prototype.getValue=function(){return this.dom.textContent},UI.Text.prototype.setValue=function(t){return void 0!==t&&(this.dom.textContent=t),this},UI.Hidden=function(t){UI.Element.call(this);var e=document.createElement("input");return e.type="hidden",this.dom=e,this.setValue(t),this},UI.Hidden.prototype=Object.create(UI.Element.prototype),UI.Hidden.prototype.constructor=UI.Hidden,UI.Hidden.prototype.getValue=function(){return this.dom.value},UI.Hidden.prototype.setValue=function(t){return this.dom.value=t,this},UI.Input=function(t){UI.Element.call(this);var e=document.createElement("input");return e.className="Input",e.style.padding="2px",e.style.border="1px solid transparent",e.addEventListener("keydown",function(t){t.stopPropagation()},!1),this.dom=e,this.setValue(t),this},UI.Input.prototype=Object.create(UI.Element.prototype),UI.Input.prototype.constructor=UI.Input,UI.Input.prototype.getValue=function(){return this.dom.value},UI.Input.prototype.setValue=function(t){return this.dom.value=t,this},UI.TextArea=function(){UI.Element.call(this);var n=document.createElement("textarea");return n.className="TextArea",n.style.padding="2px",n.spellcheck=!1,n.addEventListener("keydown",function(t){if(t.stopPropagation(),9===t.keyCode){t.preventDefault();var e=n.selectionStart;n.value=n.value.substring(0,e)+"\t"+n.value.substring(e),n.selectionStart=e+1,n.selectionEnd=n.selectionStart}},!1),this.dom=n,this},UI.TextArea.prototype=Object.create(UI.Element.prototype),UI.TextArea.prototype.constructor=UI.TextArea,UI.TextArea.prototype.getValue=function(){return this.dom.value},UI.TextArea.prototype.setValue=function(t){return this.dom.value=t,this},UI.Select=function(t){UI.Element.call(this);var e=document.createElement("select");return e.className="undefined"==t?"select":t,e.style.padding="4px",this.dom=e,this},UI.Select.prototype=Object.create(UI.Element.prototype),UI.Select.prototype.constructor=UI.Select,UI.Select.prototype.setMultiple=function(t){return this.dom.multiple=t,this},UI.Select.prototype.setOptions=function(t){for(var e=this.dom.value;0<this.dom.children.length;)this.dom.removeChild(this.dom.firstChild);for(var n in t){var r=document.createElement("option");r.value=n,r.innerHTML=t[n],this.dom.appendChild(r)}return this.dom.value=e,this},UI.Select.prototype.getValue=function(){return this.dom.value},UI.Select.prototype.setValue=function(t){return t=String(t),this.dom.value!==t&&(this.dom.value=t),this},UI.RadioButtonList=function(t){UI.Element.call(this);var e=document.createElement("div");return e.className="Radio",this.name=t,e.className="xtradradio",e.style.paddingLeft="10px",this.dom=e,this},UI.RadioButtonList.prototype=Object.create(UI.Element.prototype),UI.RadioButtonList.prototype.constructor=UI.RadioButtonList,UI.RadioButtonList.prototype.setOptions=function(t){for(this.dom.value;0<this.dom.children.length;)this.dom.removeChild(this.dom.firstChild);var e=!0;for(var n in t){var r=document.createElement("label");r.style.paddingLeft="6px",r.style.paddingRight="10px";var l=document.createElement("input");l.type="radio",l.name=this.name,l.value=n,e&&(e=!(l.checked=!0)),r.appendChild(l),r.appendChild(document.createTextNode(n)),this.dom.appendChild(r)}return this},UI.RadioButtonList.prototype.getValue=function(){for(var t="",e=0;e<this.dom.children.length;e++)this.dom.children[e].children[0].checked&&(t=this.dom.children[e].children[0].value);return t},UI.RadioButtonList.prototype.setValue=function(t){t=String(t);for(var e=0;e<this.dom.children.length;e++)this.dom.children[e].children[0].defaultValue===t&&(this.dom.children[e].children[0].checked=!0);return this},UI.Checkbox=function(t){UI.Element.call(this);var e=document.createElement("input");return e.className="Checkbox",e.type="checkbox",e.style.padding="8px",this.dom=e,this.setValue(t),this},UI.Checkbox.prototype=Object.create(UI.Element.prototype),UI.Checkbox.prototype.constructor=UI.Checkbox,UI.Checkbox.prototype.getValue=function(){return this.dom.checked},UI.Checkbox.prototype.setValue=function(t){return void 0!==t&&(this.dom.checked=t),this},UI.Color=function(){UI.Element.call(this);var t=document.createElement("input");t.className="Color",t.style.width="64px",t.style.height="17px",t.style.border="0px",t.style.padding="2px",t.style.backgroundColor="transparent";try{t.type="color",t.value="#ffffff"}catch(t){}return this.dom=t,this},UI.Color.prototype=Object.create(UI.Element.prototype),UI.Color.prototype.constructor=UI.Color,UI.Color.prototype.getValue=function(){return this.dom.value},UI.Color.prototype.getHexValue=function(){return parseInt(this.dom.value.substr(1),16)},UI.Color.prototype.setValue=function(t){return this.dom.value=t,this},UI.Color.prototype.setHexValue=function(t){return this.dom.value="#"+("000000"+t.toString(16)).slice(-6),this},UI.Number=function(t){UI.Element.call(this);var r=this,l=document.createElement("input");l.className="Number",l.value="0.00",l.addEventListener("keydown",function(t){t.stopPropagation(),13===t.keyCode&&l.blur()},!1),this.value=0,this.min=-1/0,this.max=1/0,this.precision=2,this.step=1,this.unit="",this.dom=l,this.setValue(t);var i=document.createEvent("HTMLEvents");i.initEvent("change",!0,!0);var o=0,s=0,a=[0,0],u=[0,0];function e(t){var e=r.value;a=[t.clientX,t.clientY],o+=a[0]-u[0]-(a[1]-u[1]);var n=s+o/(t.shiftKey?5:50)*r.step;e!==(n=Math.min(r.max,Math.max(r.min,n)))&&(r.setValue(n),l.dispatchEvent(i)),u=[t.clientX,t.clientY]}function n(t){document.removeEventListener("mousemove",e,!1),document.removeEventListener("mouseup",n,!1),Math.abs(o)<2&&(l.focus(),l.select())}function c(t){var e=r.value;a=[t.touches[0].pageX,t.touches[0].pageY],o+=a[0]-u[0]-(a[1]-u[1]);var n=s+o/(t.shiftKey?5:50)*r.step;e!==(n=Math.min(r.max,Math.max(r.min,n)))&&(r.setValue(n),l.dispatchEvent(i)),u=[t.touches[0].pageX,t.touches[0].pageY]}function h(t){0===t.touches.length&&(document.removeEventListener("touchmove",c,!1),document.removeEventListener("touchend",h,!1))}function f(t){l.style.backgroundColor="transparent",l.style.cursor="col-resize"}return f(),l.addEventListener("mousedown",function(t){t.preventDefault(),o=0,s=r.value,u=[t.clientX,t.clientY],document.addEventListener("mousemove",e,!1),document.addEventListener("mouseup",n,!1)},!1),l.addEventListener("touchstart",function(t){1===t.touches.length&&(o=0,s=r.value,u=[t.touches[0].pageX,t.touches[0].pageY],document.addEventListener("touchmove",c,!1),document.addEventListener("touchend",h,!1))},!1),l.addEventListener("change",function(t){r.setValue(l.value)},!1),l.addEventListener("focus",function(t){l.style.backgroundColor="",l.style.cursor=""},!1),l.addEventListener("blur",f,!1),this},UI.Number.prototype=Object.create(UI.Element.prototype),UI.Number.prototype.constructor=UI.Number,UI.Number.prototype.getValue=function(){return this.value},UI.Number.prototype.setValue=function(t){return void 0!==t&&((t=parseFloat(t))<this.min&&(t=this.min),t>this.max&&(t=this.max),this.value=t,this.dom.value=t.toFixed(this.precision),""!==this.unit&&(this.dom.value+=" "+this.unit)),this},UI.Number.prototype.setPrecision=function(t){return this.precision=t,this},UI.Number.prototype.setStep=function(t){return this.step=t,this},UI.Number.prototype.setRange=function(t,e){return this.min=t,this.max=e,this},UI.Number.prototype.setUnit=function(t){return this.unit=t,this},UI.Integer=function(t){UI.Element.call(this);var r=this,l=document.createElement("input");l.className="Number",l.value="0",l.addEventListener("keydown",function(t){t.stopPropagation()},!1),this.value=0,this.min=-1/0,this.max=1/0,this.step=1,this.dom=l,this.setValue(t);var i=document.createEvent("HTMLEvents");i.initEvent("change",!0,!0);var o=0,s=0,a=[0,0],u=[0,0];function e(t){var e=r.value;a=[t.clientX,t.clientY],o+=a[0]-u[0]-(a[1]-u[1]);var n=s+o/(t.shiftKey?5:50)*r.step;e!==(n=0|Math.min(r.max,Math.max(r.min,n)))&&(r.setValue(n),l.dispatchEvent(i)),u=[t.clientX,t.clientY]}function n(t){document.removeEventListener("mousemove",e,!1),document.removeEventListener("mouseup",n,!1),Math.abs(o)<2&&(l.focus(),l.select())}function c(t){l.style.backgroundColor="transparent",l.style.cursor="col-resize"}return c(),l.addEventListener("mousedown",function(t){t.preventDefault(),o=0,s=r.value,u=[t.clientX,t.clientY],document.addEventListener("mousemove",e,!1),document.addEventListener("mouseup",n,!1)},!1),l.addEventListener("change",function(t){r.setValue(l.value)},!1),l.addEventListener("focus",function(t){l.style.backgroundColor="",l.style.cursor=""},!1),l.addEventListener("blur",c,!1),this},UI.Integer.prototype=Object.create(UI.Element.prototype),UI.Integer.prototype.constructor=UI.Integer,UI.Integer.prototype.getValue=function(){return this.value},UI.Integer.prototype.setValue=function(t){return void 0!==t&&(t=parseInt(t),this.value=t,this.dom.value=t),this},UI.Integer.prototype.setStep=function(t){return this.step=parseInt(t),this},UI.Integer.prototype.setRange=function(t,e){return this.min=t,this.max=e,this},UI.Break=function(){UI.Element.call(this);var t=document.createElement("br");return t.className="Break",this.dom=t,this},UI.Break.prototype=Object.create(UI.Element.prototype),UI.Break.prototype.constructor=UI.Break,UI.HorizontalRule=function(){UI.Element.call(this);var t=document.createElement("hr");return t.className="HorizontalRule",this.dom=t,this},UI.HorizontalRule.prototype=Object.create(UI.Element.prototype),UI.HorizontalRule.prototype.constructor=UI.HorizontalRule,UI.Button=function(t){UI.Element.call(this);var e=document.createElement("button");return e.className="Button",this.dom=e,this.dom.textContent=t,this},UI.Button.prototype=Object.create(UI.Element.prototype),UI.Button.prototype.constructor=UI.Button,UI.Button.prototype.setLabel=function(t){return this.dom.textContent=t,this},UI.Modal=function(t){var e=document.createElement("div");return e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="rgba(0,0,0,0.5)",e.style.display="none",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="1000",this.dom=e,this.container=new UI.Panel,this.container.dom.style.width="200px",this.container.dom.style.padding="20px",this.container.dom.style.backgroundColor="#ffffff",this.container.dom.style.boxShadow="0px 5px 10px rgba(0,0,0,0.5)",this.add(this.container),this},UI.Modal.prototype=Object.create(UI.Element.prototype),UI.Modal.prototype.constructor=UI.Modal,UI.Modal.prototype.show=function(t){return this.container.clear(),this.container.add(t),this.dom.style.display="flex",this},UI.Modal.prototype.hide=function(){return this.dom.style.display="none",this},UI.Texture=function(l){UI.Element.call(this);var i=this,t=document.createElement("span"),e=document.createElement("form"),n=document.createElement("input");n.type="file",n.addEventListener("change",function(t){s(t.target.files[0])}),e.appendChild(n);var r=document.createElement("canvas");r.width=32,r.height=16,r.style.cursor="pointer",r.style.marginRight="5px",r.style.border="1px solid #888",r.addEventListener("click",function(t){n.click()},!1),r.addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation(),s(t.dataTransfer.files[0])},!1),t.appendChild(r);var o=document.createElement("input");function s(r){if(r.type.match("image.*")){var t=new FileReader;"image/targa"===r.type?(t.addEventListener("load",function(t){var e=(new XDTHREE.TGALoader).parse(t.target.result),n=new XDTHREE.CanvasTexture(e,l);n.sourceFile=r.name,i.setValue(n),i.onChangeCallback&&i.onChangeCallback(n)},!1),t.readAsArrayBuffer(r)):(t.addEventListener("load",function(t){var e=document.createElement("img");e.addEventListener("load",function(t){var e=new XDTHREE.Texture(this,l);e.sourceFile=r.name,e.needsUpdate=!0,i.setValue(e),i.onChangeCallback&&i.onChangeCallback(e)},!1),e.src=t.target.result},!1),t.readAsDataURL(r))}e.reset()}return o.disabled=!0,o.style.width="64px",o.style.border="1px solid #ccc",t.appendChild(o),this.dom=t,this.texture=null,this.onChangeCallback=null,this},UI.Texture.prototype=Object.create(UI.Element.prototype),UI.Texture.prototype.constructor=UI.Texture,UI.Texture.prototype.getValue=function(){return this.texture},UI.Texture.prototype.setValue=function(t){var e=this.dom.children[0],n=this.dom.children[1],r=e.getContext("2d");if(null!==t){var l=t.image;if(void 0!==l&&0<l.width){n.value=t.sourceFile;var i=e.width/l.width;r.drawImage(l,0,0,l.width*i,l.height*i)}else n.value=t.sourceFile+" (error)",r.clearRect(0,0,e.width,e.height)}else n.value="",null!==r&&r.clearRect(0,0,e.width,e.height);this.texture=t},UI.Texture.prototype.setEncoding=function(t){var e=this.getValue();return null!==e&&(e.encoding=t),this},UI.Texture.prototype.onChange=function(t){return this.onChangeCallback=t,this},UI.VideoTexture=function(r){UI.Element.call(this);var l=this,t=document.createElement("span"),i=document.createElement("form"),e=document.createElement("input");e.type="file",e.accept=".mp4",e.addEventListener("change",function(t){s(e.value)}),i.appendChild(e);var n=document.createElement("canvas");n.width=32,n.height=16,n.style.cursor="pointer",n.style.marginRight="5px",n.style.border="1px solid #888",n.addEventListener("click",function(t){e.click()},!1),n.addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation(),s(t.dataTransfer.files[0])},!1),t.appendChild(n);var o=document.createElement("input");function s(t){if(t.type.match("video.*")){var e=document.createElement("video");e.src=t.name,e.autoPlay=!0,e.loop=!0,e.controls=!0,e.load(),e.play();var n=new XDTHREE.VideoTexture(e,r);l.setValue(n,e.src)}i.reset()}return o.disabled=!0,o.style.width="64px",o.style.border="1px solid #ccc",t.appendChild(o),this.dom=t,this.videoTexture=null,this.sourceFile=null,this.onChangeCallback=null,this},UI.VideoTexture.prototype=Object.create(UI.Element.prototype),UI.VideoTexture.prototype.constructor=UI.VideoTexture,UI.VideoTexture.prototype.getValue=function(){return this.videoTexture},UI.VideoTexture.prototype.setValue=function(t,e){var n=this.dom.children[1];n.value=null!==t?e:"",this.videoTexture=t,this.sourceFile=e},UI.VideoTexture.prototype.onChange=function(t){return this.onChangeCallback=t,this},UI.ImageSelect=function(t,e,n,r,l,i,o,s,a){UI.Element.call(this);var u=this;this.sourceFile=null,this.dom=document.createElement("div"),this.dom.style.width=r*i+"px",0<o&&(this.dom.style.maxHeight=o+"px",this.dom.style.overflow="scroll",this.dom.style.width=20+r*i+"px");for(var c=null,h=Math.round(e.length/i),f=0;f<h;f++){(c=document.createElement("div")).className="Row",c.style.clear="left",this.dom.appendChild(c),0!==f||"Material"!==n&&"Image"!==n&&"Skybox"!==n||(this.sourceFile=e[f]);var p=e.length-i*f;p=i<=p?i:p;for(var d=0;d<p;d++){var m=document.createElement("img");c.appendChild(m),m.setAttribute("src",t+e[f*i+d]),m.setAttribute("height",l),m.setAttribute("width",r),m.style.border="4px solid white",m.addEventListener("mouseover",function(t){t.target.style.border="4px solid black"}),m.addEventListener("mouseout",function(t){u.selectedDom===t.target?t.target.style.border="4px solid red":t.target.style.border="4px solid white"}),m.addEventListener("click",function(t){null!=u.selectedDom&&(u.selectedDom.style.border="4px solid white"),t.target.style.border="4px solid red",u.sourceFile=t.target.src,u.selectedDom=t.target,u.onChangeCallback&&u.onChangeCallback()})}if(s){var y=document.createElement("div");y.className="Row",y.style.clear="left",this.dom.appendChild(y);for(d=0;d<p;d++){var v=document.createElement("div");v.style.width=r+"px",v.style.float="left";var b=e[f*i+d],_=b.substring(0,b.lastIndexOf("."));a&&(_=_.replace(/_/g," ")),v.innerHTML=_,y.appendChild(v)}}}return this.selectedDom=null,this.onChangeCallback=null,this.type=n,this},UI.ImageSelect.prototype=Object.create(UI.Element.prototype),UI.ImageSelect.prototype.constructor=UI.ImageSelect,UI.ImageSelect.prototype.getValue=function(){return this.sourceFile},UI.ImageSelect.prototype.getImage=function(){var t="";if(null!=this.sourceFile){var e=this.sourceFile.lastIndexOf("."),n=this.sourceFile.substr(e);switch(this.type){case"Skybox":t=this.sourceFile.substring(this.sourceFile.lastIndexOf("/")+1,this.sourceFile.lastIndexOf("-")),t+=n;break;case"Material":t=this.sourceFile.substring(this.sourceFile.lastIndexOf("/")+1,this.sourceFile.lastIndexOf(".")),t=decodeURIComponent(t);break;case"Image":t=this.sourceFile.substring(this.sourceFile.lastIndexOf("/")+1,this.sourceFile.lastIndexOf(".")),t=decodeURIComponent(t),t+=n}}return t},UI.ImageSelect.prototype.onChange=function(t){return this.onChangeCallback=t,this},UI.Outliner=function(t){UI.Element.call(this);var e=this,n=document.createElement("div");return n.className="Outliner",n.tabIndex=0,this.scene=t.scene,n.addEventListener("keydown",function(t){switch(t.keyCode){case 38:case 40:t.preventDefault(),t.stopPropagation()}},!1),n.addEventListener("keyup",function(t){switch(t.keyCode){case 38:e.selectIndex(e.selectedIndex-1);break;case 40:e.selectIndex(e.selectedIndex+1)}},!1),this.dom=n,this.options=[],this.selectedIndex=-1,this.selectedValue=null,this},UI.Outliner.prototype=Object.create(UI.Element.prototype),UI.Outliner.prototype.constructor=UI.Outliner,UI.Outliner.prototype.selectIndex=function(t){if(0<=t&&t<this.options.length){this.setValue(this.options[t].value);var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!0),this.dom.dispatchEvent(e)}},UI.Outliner.prototype.setOptions=function(t){for(var i,o=this;0<o.dom.children.length;)o.dom.removeChild(o.dom.firstChild);function e(){o.setValue(this.value);var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),o.dom.dispatchEvent(t)}function n(t){i=this}function r(t){t.dataTransfer.setData("text","foo")}function l(t){if(this!==i){var e=t.offsetY/this.clientHeight;this.className=e<.25?"option dragTop":.75<e?"option dragBottom":"option drag"}}function s(){this!==i&&(this.className="option")}function a(t){if(this!==i){this.className="option";var e=o.scene,n=e.getObjectById(i.value),r=t.offsetY/this.clientHeight;if(r<.25)u(n,(l=e.getObjectById(this.value)).parent,l);else if(.75<r){var l;u(n,(l=e.getObjectById(this.nextSibling.value)).parent,l)}else{u(n,e.getObjectById(this.value))}}}function u(t,e,n){null===n&&(n=void 0);var r=!1;if(t.traverse(function(t){t===e&&(r=!0)}),!r){editor.execute(new MoveObjectCommand(t,e,n));var l=document.createEvent("HTMLEvents");l.initEvent("change",!0,!0),o.dom.dispatchEvent(l)}}o.options=[];for(var c=0;c<t.length;c++){var h=t[c];h.className="option",o.dom.appendChild(h),o.options.push(h),h.addEventListener("click",e,!1),!0===h.draggable&&(h.addEventListener("drag",n,!1),h.addEventListener("dragstart",r,!1),h.addEventListener("dragover",l,!1),h.addEventListener("dragleave",s,!1),h.addEventListener("drop",a,!1))}return o},UI.Outliner.prototype.getValue=function(){return this.selectedValue},UI.Outliner.prototype.setValue=function(t){for(var e=0;e<this.options.length;e++){var n=this.options[e];if(n.value===t){n.classList.add("active");var r=n.offsetTop-this.dom.offsetTop,l=r+n.offsetHeight-this.dom.offsetHeight;this.dom.scrollTop>r?this.dom.scrollTop=r:this.dom.scrollTop<l&&(this.dom.scrollTop=l),this.selectedIndex=e}else n.classList.remove("active")}return this.selectedValue=t,this},UI.XDTHREE={},UI.XDTHREE.Boolean=function(t,e){UI.Span.call(this),this.setMarginRight("10px"),this.checkbox=new UI.Checkbox(t),this.text=new UI.Text(e).setMarginLeft("3px"),this.add(this.checkbox),this.add(this.text)},UI.XDTHREE.Boolean.prototype=Object.create(UI.Span.prototype),UI.XDTHREE.Boolean.prototype.constructor=UI.XDTHREE.Boolean,UI.XDTHREE.Boolean.prototype.getValue=function(){return this.checkbox.getValue()},UI.XDTHREE.Boolean.prototype.setValue=function(t){return this.checkbox.setValue(t)},function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=t()}}(function(){return function i(o,s,a){function u(n,t){if(!s[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var l=s[n]={exports:{}};o[n][0].call(l.exports,function(t){var e=o[n][1][t];return u(e||t)},l,l.exports,i,o,s,a)}return s[n].exports}for(var c="function"==typeof require&&require,t=0;t<a.length;t++)u(a[t]);return u}({1:[function(t,e,n){"use strict";var p=t("./utils"),h=t("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,r,l,i,o,s,a=[],u=0,c=t.length,h=c,f="string"!==p.getTypeOf(t);u<t.length;)h=c-u,r=f?(e=t[u++],n=u<c?t[u++]:0,u<c?t[u++]:0):(e=t.charCodeAt(u++),n=u<c?t.charCodeAt(u++):0,u<c?t.charCodeAt(u++):0),l=e>>2,i=(3&e)<<4|n>>4,o=1<h?(15&n)<<2|r>>6:64,s=2<h?63&r:64,a.push(d.charAt(l)+d.charAt(i)+d.charAt(o)+d.charAt(s));return a.join("")},n.decode=function(t){var e,n,r,l,i,o,s=0,a=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,c=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===d.charAt(64)&&c--,t.charAt(t.length-2)===d.charAt(64)&&c--,c%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=h.uint8array?new Uint8Array(0|c):new Array(0|c);s<t.length;)e=d.indexOf(t.charAt(s++))<<2|(l=d.indexOf(t.charAt(s++)))>>4,n=(15&l)<<4|(i=d.indexOf(t.charAt(s++)))>>2,r=(3&i)<<6|(o=d.indexOf(t.charAt(s++))),u[a++]=e,64!==i&&(u[a++]=n),64!==o&&(u[a++]=r);return u}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";function r(t,e,n,r,l){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=l}var l=t("./external"),i=t("./stream/DataWorker"),o=t("./stream/DataLengthProbe"),s=t("./stream/Crc32Probe");o=t("./stream/DataLengthProbe");r.prototype={getContentWorker:function(){var t=new i(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new i(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new o("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},e.exports=r},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var r=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var r=t("./utils"),s=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==r.getTypeOf(t)?function(t,e,n,r){var l=s,i=r+n;t^=-1;for(var o=r;o<i;o++)t=t>>>8^l[255&(t^e[o])];return-1^t}(0|e,t,t.length,0):function(t,e,n,r){var l=s,i=r+n;t^=-1;for(var o=r;o<i;o++)t=t>>>8^l[255&(t^e.charCodeAt(o))];return-1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:r}},{lie:58}],7:[function(t,e,n){"use strict";function r(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var l="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako"),o=t("./utils"),s=t("./stream/GenericWorker"),a=l?"uint8array":"array";n.magic="\b\0",o.inherits(r,s),r.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,t.data),!1)},r.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},r.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},r.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(t){return new r("Deflate",t)},n.uncompressWorker=function(){return new r("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(t,e,n){"use strict";function r(t,e,n,r){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var T=t("../utils"),l=t("../stream/GenericWorker"),z=t("../utf8"),O=t("../crc32"),R=t("../signature"),D=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},i=function(t,e,n,r,l,i){var o,s,a=t.file,u=t.compression,c=i!==z.utf8encode,h=T.transformTo("string",i(a.name)),f=T.transformTo("string",z.utf8encode(a.name)),p=a.comment,d=T.transformTo("string",i(p)),m=T.transformTo("string",z.utf8encode(p)),y=f.length!==a.name.length,v=m.length!==p.length,b="",_="",g="",w=a.dir,x=a.date,k={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(k.crc32=t.crc32,k.compressedSize=t.compressedSize,k.uncompressedSize=t.uncompressedSize);var E=0;e&&(E|=8),c||!y&&!v||(E|=2048);var A,I,C,S=0,U=0;w&&(S|=16),"UNIX"===l?(U=798,S|=(A=a.unixPermissions,I=w,(C=A)||(C=I?16893:33204),(65535&C)<<16)):(U=20,S|=63&(a.dosPermissions||0)),o=x.getUTCHours(),o<<=6,o|=x.getUTCMinutes(),o<<=5,o|=x.getUTCSeconds()/2,s=x.getUTCFullYear()-1980,s<<=4,s|=x.getUTCMonth()+1,s<<=5,s|=x.getUTCDate(),y&&(_=D(1,1)+D(O(h),4)+f,b+="up"+D(_.length,2)+_),v&&(g=D(1,1)+D(O(d),4)+m,b+="uc"+D(g.length,2)+g);var F="";return F+="\n\0",F+=D(E,2),F+=u.magic,F+=D(o,2),F+=D(s,2),F+=D(k.crc32,4),F+=D(k.compressedSize,4),F+=D(k.uncompressedSize,4),F+=D(h.length,2),F+=D(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+F+h+b,dirRecord:R.CENTRAL_FILE_HEADER+D(U,2)+F+D(d.length,2)+"\0\0\0\0"+D(S,4)+D(r,4)+h+b+d}};T.inherits(r,l),r.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,l.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},r.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},r.prototype.closedSource=function(t){this.accumulate=!1;var e,n=this.streamFiles&&!t.file.dir,r=i(t,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),n)this.push({data:(e=t,R.DATA_DESCRIPTOR+D(e.crc32,4)+D(e.compressedSize,4)+D(e.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},r.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n,r,l,i,o,s,a=this.bytesWritten-t,u=(n=this.dirRecords.length,r=a,l=t,i=this.zipComment,o=this.encodeFileName,s=T.transformTo("string",o(i)),R.CENTRAL_DIRECTORY_END+"\0\0\0\0"+D(n,2)+D(n,2)+D(r,4)+D(l,4)+D(s.length,2)+s);this.push({data:u,meta:{percent:100}})},r.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},r.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},r.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},r.prototype.error=function(t){var e=this._sources;if(!l.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},r.prototype.lock=function(){l.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=r},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var u=t("../compressions"),r=t("./ZipFileWorker");n.generateWorker=function(t,o,e){var s=new r(o.streamFiles,e,o.platform,o.encodeFileName),a=0;try{t.forEach(function(t,e){a++;var n=function(t,e){var n=t||e,r=u[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(e.options.compression,o.compression),r=e.options.compressionOptions||o.compressionOptions||{},l=e.dir,i=e.date;e._compressWorker(n,r).withStreamInfo("file",{name:t,dir:l,date:i,comment:e.comment||"",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(s)}),s.entriesCount=a}catch(t){s.error(t)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.1.5",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";function l(r){return new s.Promise(function(t,e){var n=r.decompressed.getContentWorker().pipe(new i);n.on("error",function(t){e(t)}).on("end",function(){n.streamInfo.crc32!==r.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}var r=t("./utils"),s=t("./external"),a=t("./utf8"),u=(r=t("./utils"),t("./zipEntries")),i=t("./stream/Crc32Probe"),c=t("./nodejsUtils");e.exports=function(t,i){var o=this;return i=r.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(t)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,i.optimizedBinaryString,i.base64).then(function(t){var e=new u(i);return e.load(t),e}).then(function(t){var e=[s.Promise.resolve(t)],n=t.files;if(i.checkCRC32)for(var r=0;r<n.length;r++)e.push(l(n[r]));return s.Promise.all(e)}).then(function(t){for(var e=t.shift(),n=e.files,r=0;r<n.length;r++){var l=n[r];o.file(l.fileNameStr,l.decompressed,{binary:!0,optimizedBinaryString:!0,date:l.date,dir:l.dir,comment:l.fileCommentStr.length?l.fileCommentStr:null,unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions,createFolders:i.createFolders})}return e.zipComment.length&&(o.comment=e.zipComment),o})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";function r(t,e){i.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var l=t("../utils"),i=t("../stream/GenericWorker");l.inherits(r,i),r.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},r.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";function r(t,e,n){l.call(this,e),this._helper=t;var r=this;t.on("data",function(t,e){r.push(t)||r._helper.pause(),n&&n(e)}).on("error",function(t){r.emit("error",t)}).on("end",function(){r.push(null)})}var l=t("readable-stream").Readable;t("../utils").inherits(r,l),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){return new Buffer(t,e)},allocBuffer:function(t){return Buffer.alloc?Buffer.alloc(t):new Buffer(t)},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){"use strict";function i(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var l=t("./utf8"),u=t("./utils"),c=t("./stream/GenericWorker"),o=t("./stream/StreamHelper"),h=t("./defaults"),f=t("./compressedObject"),p=t("./zipObject"),s=t("./generate"),d=t("./nodejsUtils"),m=t("./nodejs/NodejsStreamInputAdapter"),a=function(t,e,n){var r,l=u.getTypeOf(e),i=u.extend(n||{},h);i.date=i.date||new Date,null!==i.compression&&(i.compression=i.compression.toUpperCase()),"string"==typeof i.unixPermissions&&(i.unixPermissions=parseInt(i.unixPermissions,8)),i.unixPermissions&&16384&i.unixPermissions&&(i.dir=!0),i.dosPermissions&&16&i.dosPermissions&&(i.dir=!0),i.dir&&(t=v(t)),i.createFolders&&(r=y(t))&&b.call(this,r,!0);var o="string"===l&&!1===i.binary&&!1===i.base64;n&&void 0!==n.binary||(i.binary=!o),(e instanceof f&&0===e.uncompressedSize||i.dir||!e||0===e.length)&&(i.base64=!1,i.binary=!0,e="",i.compression="STORE",l="string");var s;s=e instanceof f||e instanceof c?e:d.isNode&&d.isStream(e)?new m(t,e):u.prepareContent(t,e,i.binary,i.optimizedBinaryString,i.base64);var a=new p(t,s,i);this.files[t]=a},y=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},v=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},b=function(t,e){return e=void 0!==e?e:h.createFolders,t=v(t),this.files[t]||a.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},r={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r))},filter:function(n){var r=[];return this.forEach(function(t,e){n(t,e)&&r.push(e)}),r},file:function(t,e,n){if(1!==arguments.length)return t=this.root+t,a.call(this,t,e,n),this;if(i(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}var l=this.files[this.root+t];return l&&!l.dir?l:null},folder:function(n){if(!n)return this;if(i(n))return this.filter(function(t,e){return e.dir&&n.test(t)});var t=this.root+n,e=b.call(this,t),r=this.clone();return r.root=e.name,r},remove:function(n){n=this.root+n;var t=this.files[n];if(t||("/"!==n.slice(-1)&&(n+="/"),t=this.files[n]),t&&!t.dir)delete this.files[n];else for(var e=this.filter(function(t,e){return e.name.slice(0,n.length)===n}),r=0;r<e.length;r++)delete this.files[e[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=u.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");u.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";e=s.generateWorker(this,n,r)}catch(t){(e=new c("error")).error(t)}return new o(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=r},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";function r(t){l.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var l=t("./DataReader");t("../utils").inherits(r,l),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),l=t.charCodeAt(3),i=this.length-4;0<=i;--i)if(this.data[i]===e&&this.data[i+1]===n&&this.data[i+2]===r&&this.data[i+3]===l)return i-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),l=t.charCodeAt(3),i=this.readData(4);return e===i[0]&&n===i[1]&&r===i[2]&&l===i[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var l=t("../utils");r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return l.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=r},{"../utils":32}],19:[function(t,e,n){"use strict";function r(t){l.call(this,t)}var l=t("./Uint8ArrayReader");t("../utils").inherits(r,l),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";function r(t){l.call(this,t)}var l=t("./DataReader");t("../utils").inherits(r,l),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";function r(t){l.call(this,t)}var l=t("./ArrayReader");t("../utils").inherits(r,l),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var r=t("../utils"),l=t("../support"),i=t("./ArrayReader"),o=t("./StringReader"),s=t("./NodeBufferReader"),a=t("./Uint8ArrayReader");e.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||l.uint8array?"nodebuffer"===e?new s(t):l.uint8array?new a(r.transformTo("uint8array",t)):new i(r.transformTo("array",t)):new o(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,n){"use strict";function r(t){l.call(this,"ConvertWorker to "+t),this.destType=t}var l=t("./GenericWorker"),i=t("../utils");i.inherits(r,l),r.prototype.processChunk=function(t){this.push({data:i.transformTo(this.destType,t.data),meta:t.meta})},e.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";function r(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var l=t("./GenericWorker"),i=t("../crc32");t("../utils").inherits(r,l),r.prototype.processChunk=function(t){this.streamInfo.crc32=i(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";function r(t){i.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var l=t("../utils"),i=t("./GenericWorker");l.inherits(r,i),r.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}i.prototype.processChunk.call(this,t)},e.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";function r(t){i.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=l.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var l=t("../utils"),i=t("./GenericWorker");l.inherits(r,i),r.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=r},{}],29:[function(t,e,n){"use strict";function r(t,s){return new c.Promise(function(e,n){var r=[],l=t._internalType,i=t._outputType,o=t._mimeType;t.on("data",function(t,e){r.push(t),s&&s(e)}).on("error",function(t){r=[],n(t)}).on("end",function(){try{var t=function(t,e,n){switch(t){case"blob":return a.newBlob(a.transformTo("arraybuffer",e),n);case"base64":return u.encode(e);default:return a.transformTo(t,e)}}(i,function(t,e){var n,r=0,l=null,i=0;for(n=0;n<e.length;n++)i+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(l=new Uint8Array(i),n=0;n<e.length;n++)l.set(e[n],r),r+=e[n].length;return l;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(l,r),o);e(t)}catch(t){n(t)}r=[]}).resume()})}function l(t,e,n){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=n,a.checkSupport(r),this._worker=t.pipe(new i(r)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}var a=t("../utils"),i=t("./ConvertWorker"),o=t("./GenericWorker"),u=t("../base64"),s=t("../support"),c=t("../external"),h=null;if(s.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}l.prototype={accumulate:function(t){return r(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){a.delay(e,arguments,n)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(t){try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(r),n.blob=0===l.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,i){"use strict";function n(){o.call(this,"utf-8 decode"),this.leftOver=null}function r(){o.call(this,"utf-8 encode")}for(var s=t("./utils"),a=t("./support"),l=t("./nodejsUtils"),o=t("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;i.utf8encode=function(t){return a.nodebuffer?l.newBufferFrom(t,"utf-8"):function(t){var e,n,r,l,i,o=t.length,s=0;for(l=0;l<o;l++)55296==(64512&(n=t.charCodeAt(l)))&&l+1<o&&56320==(64512&(r=t.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(r-56320),l++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=a.uint8array?new Uint8Array(s):new Array(s),l=i=0;i<s;l++)55296==(64512&(n=t.charCodeAt(l)))&&l+1<o&&56320==(64512&(r=t.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(r-56320),l++),e[i++]=n<128?n:(e[i++]=n<2048?192|n>>>6:(e[i++]=n<65536?224|n>>>12:(e[i++]=240|n>>>18,128|n>>>12&63),128|n>>>6&63),128|63&n);return e}(t)},i.utf8decode=function(t){return a.nodebuffer?s.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,r,l,i=t.length,o=new Array(2*i);for(e=n=0;e<i;)if((r=t[e++])<128)o[n++]=r;else if(4<(l=u[r]))o[n++]=65533,e+=l-1;else{for(r&=2===l?31:3===l?15:7;1<l&&e<i;)r=r<<6|63&t[e++],l--;o[n++]=1<l?65533:r<65536?r:(r-=65536,o[n++]=55296|r>>10&1023,56320|1023&r)}return o.length!==n&&(o.subarray?o=o.subarray(0,n):o.length=n),s.applyFromCharCode(o)}(t=s.transformTo(a.uint8array?"uint8array":"array",t))},s.inherits(n,o),n.prototype.processChunk=function(t){var e=s.transformTo(a.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var n=e;(e=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),e.set(n,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var r=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+u[t[n]]>e?n:e}(e),l=e;r!==e.length&&(a.uint8array?(l=e.subarray(0,r),this.leftOver=e.subarray(r,e.length)):(l=e.slice(0,r),this.leftOver=e.slice(r,e.length))),this.push({data:i.utf8decode(l),meta:t.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=n,s.inherits(r,o),r.prototype.processChunk=function(t){this.push({data:i.utf8encode(t.data),meta:t.meta})},i.Utf8EncodeWorker=r},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,s){"use strict";function n(t){return t}function a(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function r(t){var e=65536,n=s.getTypeOf(t),r=!0;if("uint8array"===n?r=f.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=f.applyCanBeUsed.nodebuffer),r)for(;1<e;)try{return f.stringifyByChunk(t,n,e)}catch(t){e=Math.floor(e/2)}return f.stringifyByChar(t)}function l(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var u=t("./support"),c=t("./base64"),i=t("./nodejsUtils"),o=t("core-js/library/fn/set-immediate"),h=t("./external");s.newBlob=function(e,n){s.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(t,e,n){var r=[],l=0,i=t.length;if(i<=n)return String.fromCharCode.apply(null,t);for(;l<i;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(l,Math.min(l+n,i)))):r.push(String.fromCharCode.apply(null,t.subarray(l,Math.min(l+n,i)))),l+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&1===String.fromCharCode.apply(null,i.allocBuffer(1)).length}catch(t){return!1}}()}};s.applyFromCharCode=r;var p={};p.string={string:n,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:function(t){return a(t,i.allocBuffer(t.length))}},p.array={string:r,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return i.newBufferFrom(t)}},p.arraybuffer={string:function(t){return r(new Uint8Array(t))},array:function(t){return l(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return i.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:r,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return i.newBufferFrom(t)}},p.nodebuffer={string:r,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:n},s.transformTo=function(t,e){if(e||(e=""),!t)return e;s.checkSupport(t);var n=s.getTypeOf(e);return p[n][t](e)},s.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":u.nodebuffer&&i.isBuffer(t)?"nodebuffer":u.uint8array&&t instanceof Uint8Array?"uint8array":u.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(t){if(!u[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)r+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},s.delay=function(t,e,n){o(function(){t.apply(n||null,e||[])})},s.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},s.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},s.prepareContent=function(r,t,l,i,o){return h.Promise.resolve(t).then(function(r){return u.blob&&(r instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(r)))&&"undefined"!=typeof FileReader?new h.Promise(function(e,n){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)},t.readAsArrayBuffer(r)}):r}).then(function(t){var e,n=s.getTypeOf(t);return n?("arraybuffer"===n?t=s.transformTo("uint8array",t):"string"===n&&(o?t=c.decode(t):l&&!0!==i&&(t=a(e=t,u.uint8array?new Uint8Array(e.length):new Array(e.length)))),t):h.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(t,e,n){"use strict";function r(t){this.files=[],this.loadOptions=t}var l=t("./reader/readerFor"),i=t("./utils"),o=t("./signature"),s=t("./zipEntry"),a=(t("./utf8"),t("./support"));r.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(e)+", expected "+i.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=a.uint8array?"uint8array":"array",n=i.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(0<r)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=l(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=r},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var l=t("./reader/readerFor"),i=t("./utils"),o=t("./compressedObject"),s=t("./crc32"),a=t("./utf8"),u=t("./compressions"),c=t("./support");r.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=l(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,l=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<l;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r}},handleUTF8:function(){var t=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=i.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var l=i.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(l)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=l(t.value);return 1!==e.readInt(1)?null:s(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=l(t.value);return 1!==e.readInt(1)?null:s(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null}},e.exports=r},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";var i=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),o=t("./utf8"),l=t("./compressedObject"),s=t("./stream/GenericWorker"),a=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};a.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var l=!this._dataBinary;l&&!r&&(e=e.pipe(new o.Utf8EncodeWorker)),!l&&r&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new s("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof l&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),l.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)a.prototype[u[h]]=c;e.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],38:[function(t,e,n){var r=t("./_is-object");e.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":51}],39:[function(t,e,n){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],40:[function(t,e,n){var r=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=r)},{}],41:[function(t,e,n){var i=t("./_a-function");e.exports=function(r,l,t){if(i(r),void 0===l)return r;switch(t){case 1:return function(t){return r.call(l,t)};case 2:return function(t,e){return r.call(l,t,e)};case 3:return function(t,e,n){return r.call(l,t,e,n)}}return function(){return r.apply(l,arguments)}}},{"./_a-function":37}],42:[function(t,e,n){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(t,e,n){var r=t("./_is-object"),l=t("./_global").document,i=r(l)&&r(l.createElement);e.exports=function(t){return i?l.createElement(t):{}}},{"./_global":46,"./_is-object":51}],44:[function(t,e,n){var m=t("./_global"),y=t("./_core"),v=t("./_ctx"),b=t("./_hide"),_="prototype",g=function(t,e,n){var r,l,i,o=t&g.F,s=t&g.G,a=t&g.S,u=t&g.P,c=t&g.B,h=t&g.W,f=s?y:y[e]||(y[e]={}),p=f[_],d=s?m:a?m[e]:(m[e]||{})[_];for(r in s&&(n=e),n)(l=!o&&d&&void 0!==d[r])&&r in f||(i=l?d[r]:n[r],f[r]=s&&"function"!=typeof d[r]?n[r]:c&&l?v(i,m):h&&d[r]==i?function(r){var t=function(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)};return t[_]=r[_],t}(i):u&&"function"==typeof i?v(Function.call,i):i,u&&((f.virtual||(f.virtual={}))[r]=i,t&g.R&&p&&!p[r]&&b(p,r,i)))};g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,g.U=64,g.R=128,e.exports=g},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],46:[function(t,e,n){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],47:[function(t,e,n){var r=t("./_object-dp"),l=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return r.f(t,e,l(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(t,e,n){e.exports=t("./_global").document&&document.documentElement},{"./_global":46}],49:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(t,e,n){e.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],51:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],52:[function(t,e,n){var r=t("./_an-object"),l=t("./_ie8-dom-define"),i=t("./_to-primitive"),o=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),l)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],54:[function(t,e,n){var r,l,i,o=t("./_ctx"),s=t("./_invoke"),a=t("./_html"),u=t("./_dom-create"),c=t("./_global"),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,m=0,y={},v="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},_=function(t){b.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},p=function(t){delete y[t]},"process"==t("./_cof")(h)?r=function(t){h.nextTick(o(b,t,1))}:d?(i=(l=new d).port2,l.port1.onmessage=_,r=o(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):r=v in u("script")?function(t){a.appendChild(u("script"))[v]=function(){a.removeChild(this),b.call(t)}}:function(t){setTimeout(o(b,t,1),0)}),e.exports={set:f,clear:p}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(t,e,n){var l=t("./_is-object");e.exports=function(t,e){if(!l(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!l(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!l(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!l(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(t,e,n){var r=t("./_export"),l=t("./_task");r(r.G+r.B,{setImmediate:l.set,clearImmediate:l.clear})},{"./_export":44,"./_task":54}],57:[function(t,c,e){(function(e){"use strict";function n(){a=!0;for(var t,e,n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}a=!1}var r,t=e.MutationObserver||e.WebKitMutationObserver;if(t){var l=0,i=new t(n),o=e.document.createTextNode("");i.observe(o,{characterData:!0}),r=function(){o.data=l=++l%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var s=new e.MessageChannel;s.port1.onmessage=n,r=function(){s.port2.postMessage(0)}}var a,u=[];c.exports=function(t){1!==u.push(t)||a||r()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(t,e,n){"use strict";function u(){}function r(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,t!==u&&s(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function i(e,n,r){c(function(){var t;try{t=n(r)}catch(t){return h.reject(e,t)}t===e?h.reject(e,new TypeError("Cannot resolve promise with itself")):h.resolve(e,t)})}function o(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function s(e,t){function n(t){l||(l=!0,h.reject(e,t))}function r(t){l||(l=!0,h.resolve(e,t))}var l=!1,i=a(function(){t(r,n)});"error"===i.status&&n(i.value)}function a(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}var c=t("immediate"),h={},f=["REJECTED"],p=["FULFILLED"],d=["PENDING"];(e.exports=r).prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===p||"function"!=typeof e&&this.state===f)return this;var n=new this.constructor(u);this.state!==d?i(n,this.state===p?t:e,this.outcome):this.queue.push(new l(n,t,e));return n},l.prototype.callFulfilled=function(t){h.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){i(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){h.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){i(this.promise,this.onRejected,t)},h.resolve=function(t,e){var n=a(o,e);if("error"===n.status)return h.reject(t,n.value);var r=n.value;if(r)s(t,r);else{t.state=p,t.outcome=e;for(var l=-1,i=t.queue.length;++l<i;)t.queue[l].callFulfilled(e)}return t},h.reject=function(t,e){t.state=f,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},r.resolve=function(t){return t instanceof this?t:h.resolve(new this(u),t)},r.reject=function(t){var e=new this(u);return h.reject(e,t)},r.all=function(t){function e(t,e){n.resolve(t).then(function(t){i[e]=t,++o!==r||l||(l=!0,h.resolve(a,i))},function(t){l||(l=!0,h.reject(a,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,l=!1;if(!r)return this.resolve([]);for(var i=new Array(r),o=0,s=-1,a=new this(u);++s<r;)e(t[s],s);return a},r.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n,r=t.length,l=!1;if(!r)return this.resolve([]);for(var i=-1,o=new this(u);++i<r;)n=t[i],e.resolve(n).then(function(t){l||(l=!0,h.resolve(o,t))},function(t){l||(l=!0,h.reject(o,t))});return o}},{immediate:57}],59:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(t,e,n){"use strict";function l(t){if(!(this instanceof l))return new l(t);this.options=s.assign({level:f,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==h)throw new Error(i[n]);if(e.header&&o.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=o.deflateSetDictionary(this.strm,r))!==h)throw new Error(i[n]);this._dict_set=!0}}function r(t,e){var n=new l(e);if(n.push(t,!0),n.err)throw n.msg||i[n.err];return n.result}var o=t("./zlib/deflate"),s=t("./utils/common"),a=t("./utils/strings"),i=t("./zlib/messages"),u=t("./zlib/zstream"),c=Object.prototype.toString,h=0,f=-1,p=0,d=8;l.prototype.push=function(t,e){var n,r,l=this.strm,i=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?l.input=a.string2buf(t):"[object ArrayBuffer]"===c.call(t)?l.input=new Uint8Array(t):l.input=t,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new s.Buf8(i),l.next_out=0,l.avail_out=i),1!==(n=o.deflate(l,r))&&n!==h)return this.onEnd(n),!(this.ended=!0);0!==l.avail_out&&(0!==l.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(a.buf2binstring(s.shrinkBuf(l.output,l.next_out))):this.onData(s.shrinkBuf(l.output,l.next_out)))}while((0<l.avail_in||0===l.avail_out)&&1!==n);return 4===r?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h):2!==r||(this.onEnd(h),!(l.avail_out=0))},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=l,n.deflate=r,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,r(t,e)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=f.inflateInit2(this.strm,e.windowBits);if(n!==m.Z_OK)throw new Error(i[n]);this.header=new s,f.inflateGetHeader(this.strm,this.header)}function l(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||i[n.err];return n.result}var f=t("./zlib/inflate"),p=t("./utils/common"),d=t("./utils/strings"),m=t("./zlib/constants"),i=t("./zlib/messages"),o=t("./zlib/zstream"),s=t("./zlib/gzheader"),y=Object.prototype.toString;r.prototype.push=function(t,e){var n,r,l,i,o,s,a=this.strm,u=this.options.chunkSize,c=this.options.dictionary,h=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?m.Z_FINISH:m.Z_NO_FLUSH,"string"==typeof t?a.input=d.binstring2buf(t):"[object ArrayBuffer]"===y.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new p.Buf8(u),a.next_out=0,a.avail_out=u),(n=f.inflate(a,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&c&&(s="string"==typeof c?d.string2buf(c):"[object ArrayBuffer]"===y.call(c)?new Uint8Array(c):c,n=f.inflateSetDictionary(this.strm,s)),n===m.Z_BUF_ERROR&&!0===h&&(n=m.Z_OK,h=!1),n!==m.Z_STREAM_END&&n!==m.Z_OK)return this.onEnd(n),!(this.ended=!0);a.next_out&&(0!==a.avail_out&&n!==m.Z_STREAM_END&&(0!==a.avail_in||r!==m.Z_FINISH&&r!==m.Z_SYNC_FLUSH)||("string"===this.options.to?(l=d.utf8border(a.output,a.next_out),i=a.next_out-l,o=d.buf2string(a.output,l),a.next_out=i,a.avail_out=u-i,i&&p.arraySet(a.output,a.output,l,i,0),this.onData(o)):this.onData(p.shrinkBuf(a.output,a.next_out)))),0===a.avail_in&&0===a.avail_out&&(h=!0)}while((0<a.avail_in||0===a.avail_out)&&n!==m.Z_STREAM_END);return n===m.Z_STREAM_END&&(r=m.Z_FINISH),r===m.Z_FINISH?(n=f.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===m.Z_OK):r!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(a.avail_out=0))},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===m.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=r,n.inflate=l,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},n.ungzip=l},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var l={arraySet:function(t,e,n,r,l){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),l);else for(var i=0;i<r;i++)t[l+i]=e[n+i]},flattenChunks:function(t){var e,n,r,l,i,o;for(e=r=0,n=t.length;e<n;e++)r+=t[e].length;for(o=new Uint8Array(r),e=l=0,n=t.length;e<n;e++)i=t[e],o.set(i,l),l+=i.length;return o}},i={arraySet:function(t,e,n,r,l){for(var i=0;i<r;i++)t[l+i]=e[n+i]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,l)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,i))},n.setTyped(r)},{}],63:[function(t,e,n){"use strict";function a(t,e){if(e<65537&&(t.subarray&&i||!t.subarray&&l))return String.fromCharCode.apply(null,u.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var u=t("./common"),l=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(t){l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){i=!1}for(var c=new u.Buf8(256),r=0;r<256;r++)c[r]=252<=r?6:248<=r?5:240<=r?4:224<=r?3:192<=r?2:1;c[254]=c[254]=1,n.string2buf=function(t){var e,n,r,l,i,o=t.length,s=0;for(l=0;l<o;l++)55296==(64512&(n=t.charCodeAt(l)))&&l+1<o&&(56320==(64512&(r=t.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(r-56320),l++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new u.Buf8(s),l=i=0;i<s;l++)55296==(64512&(n=t.charCodeAt(l)))&&l+1<o&&(56320==(64512&(r=t.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(r-56320),l++)),e[i++]=n<128?n:(e[i++]=n<2048?192|n>>>6:(e[i++]=n<65536?224|n>>>12:(e[i++]=240|n>>>18,128|n>>>12&63),128|n>>>6&63),128|63&n);return e},n.buf2binstring=function(t){return a(t,t.length)},n.binstring2buf=function(t){for(var e=new u.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,l,i,o=e||t.length,s=new Array(2*o);for(n=r=0;n<o;)if((l=t[n++])<128)s[r++]=l;else if(4<(i=c[l]))s[r++]=65533,n+=i-1;else{for(l&=2===i?31:3===i?15:7;1<i&&n<o;)l=l<<6|63&t[n++],i--;s[r++]=1<i?65533:l<65536?l:(l-=65536,s[r++]=55296|l>>10&1023,56320|1023&l)}return a(s,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+c[t[n]]>e?n:e}},{"./common":62}],64:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var l=65535&t|0,i=t>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;i=i+(l=l+e[r++]|0)|0,--o;);l%=65521,i%=65521}return l|i<<16|0}},{}],65:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(t,e,n){"use strict";var s=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,r){var l=s,i=r+n;t^=-1;for(var o=r;o<i;o++)t=t>>>8^l[255&(t^e[o])];return-1^t}},{}],67:[function(t,e,n){"use strict";function a(t,e){return t.msg=E[e],e}function u(t){return(t<<1)-(4<t?9:0)}function h(t){for(var e=t.length;0<=--e;)t[e]=0}function c(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(g.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function f(t,e){w._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,c(t.strm)}function p(t,e){t.pending_buf[t.pending++]=e}function d(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function i(t,e){var n,r,l=t.max_chain_length,i=t.strstart,o=t.prev_length,s=t.nice_match,a=t.strstart>t.w_size-M?t.strstart-(t.w_size-M):0,u=t.window,c=t.w_mask,h=t.prev,f=t.strstart+P,p=u[i+o-1],d=u[i+o];t.prev_length>=t.good_match&&(l>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+o]===d&&u[n+o-1]===p&&u[n]===u[i]&&u[++n]===u[i+1]){i+=2,n++;do{}while(u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&i<f);if(r=P-(f-i),i=f-P,o<r){if(t.match_start=e,s<=(o=r))break;p=u[i+o-1],d=u[i+o]}}}while((e=h[e&c])>a&&0!=--l);return o<=t.lookahead?o:t.lookahead}function m(t){var e,n,r,l,i,o,s,a,u,c,h=t.w_size;do{if(l=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-M)){for(g.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=n=t.hash_size;r=t.head[--e],t.head[e]=h<=r?r-h:0,--n;);for(e=n=h;r=t.prev[--e],t.prev[e]=h<=r?r-h:0,--n;);l+=h}if(0===t.strm.avail_in)break;if(o=t.strm,s=t.window,a=t.strstart+t.lookahead,u=l,c=void 0,c=o.avail_in,u<c&&(c=u),n=0===c?0:(o.avail_in-=c,g.arraySet(s,o.input,o.next_in,c,a),1===o.state.wrap?o.adler=x(o.adler,s,c,a):2===o.state.wrap&&(o.adler=k(o.adler,s,c,a)),o.next_in+=c,o.total_in+=c,c),t.lookahead+=n,t.lookahead+t.insert>=N)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+N-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<N)););}while(t.lookahead<M&&0!==t.strm.avail_in)}function r(t,e){for(var n,r;;){if(t.lookahead<M){if(m(t),t.lookahead<M&&e===A)return W;if(0===t.lookahead)break}if(n=0,t.lookahead>=N&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-M&&(t.match_length=i(t,n)),t.match_length>=N)if(r=w._tr_tally(t,t.strstart-t.match_start,t.match_length-N),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=N){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=w._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(f(t,!1),0===t.strm.avail_out))return W}return t.insert=t.strstart<N-1?t.strstart:N-1,e===I?(f(t,!0),0===t.strm.avail_out?Y:G):t.last_lit&&(f(t,!1),0===t.strm.avail_out)?W:H}function l(t,e){for(var n,r,l;;){if(t.lookahead<M){if(m(t),t.lookahead<M&&e===A)return W;if(0===t.lookahead)break}if(n=0,t.lookahead>=N&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=N-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-M&&(t.match_length=i(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===N&&4096<t.strstart-t.match_start)&&(t.match_length=N-1)),t.prev_length>=N&&t.match_length<=t.prev_length){for(l=t.strstart+t.lookahead-N,r=w._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-N),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=l&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+N-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=N-1,t.strstart++,r&&(f(t,!1),0===t.strm.avail_out))return W}else if(t.match_available){if((r=w._tr_tally(t,0,t.window[t.strstart-1]))&&f(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return W}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=w._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<N-1?t.strstart:N-1,e===I?(f(t,!0),0===t.strm.avail_out?Y:G):t.last_lit&&(f(t,!1),0===t.strm.avail_out)?W:H}function o(t,e,n,r,l){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=l}function y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(2*j),this.dyn_dtree=new g.Buf16(2*(2*D+1)),this.bl_tree=new g.Buf16(2*(2*B+1)),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(L+1),this.heap=new g.Buf16(2*R+1),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(2*R+1),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function s(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=T,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Z:V,t.adler=2===e.wrap?0:1,e.last_flush=A,w._tr_init(e),C):a(t,S)}function v(t){var e,n=s(t);return n===C&&((e=t.state).window_size=2*e.w_size,h(e.head),e.max_lazy_match=_[e.level].max_lazy,e.good_match=_[e.level].good_length,e.nice_match=_[e.level].nice_length,e.max_chain_length=_[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=N-1,e.match_available=0,e.ins_h=0),n}function b(t,e,n,r,l,i){if(!t)return S;var o=1;if(e===U&&(e=6),r<0?(o=0,r=-r):15<r&&(o=2,r-=16),l<1||O<l||n!==z||r<8||15<r||e<0||9<e||i<0||F<i)return a(t,S);8===r&&(r=9);var s=new y;return(t.state=s).strm=t,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=l+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+N-1)/N),s.window=new g.Buf8(2*s.w_size),s.head=new g.Buf16(s.hash_size),s.prev=new g.Buf16(s.w_size),s.lit_bufsize=1<<l+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new g.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=i,s.method=n,v(t)}var _,g=t("../utils/common"),w=t("./trees"),x=t("./adler32"),k=t("./crc32"),E=t("./messages"),A=0,I=4,C=0,S=-2,U=-1,F=4,T=2,z=8,O=9,R=286,D=30,B=19,j=2*R+1,L=15,N=3,P=258,M=P+N+1,Z=42,V=113,W=1,H=2,Y=3,G=4;_=[new o(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(m(t),0===t.lookahead&&e===A)return W;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,f(t,!1),0===t.strm.avail_out))return W;if(t.strstart-t.block_start>=t.w_size-M&&(f(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===I?(f(t,!0),0===t.strm.avail_out?Y:G):(t.strstart>t.block_start&&(f(t,!1),t.strm.avail_out),W)}),new o(4,4,8,4,r),new o(4,5,16,8,r),new o(4,6,32,32,r),new o(4,4,16,16,l),new o(8,16,32,32,l),new o(8,16,128,128,l),new o(8,32,128,256,l),new o(32,128,258,1024,l),new o(32,258,258,4096,l)],n.deflateInit=function(t,e){return b(t,e,z,15,8,0)},n.deflateInit2=b,n.deflateReset=v,n.deflateResetKeep=s,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?S:(t.state.gzhead=e,C):S},n.deflate=function(t,e){var n,r,l,i;if(!t||!t.state||5<e||e<0)return t?a(t,S):S;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&e!==I)return a(t,0===t.avail_out?-5:S);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===Z)if(2===r.wrap)t.adler=0,p(r,31),p(r,139),p(r,8),r.gzhead?(p(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),p(r,255&r.gzhead.time),p(r,r.gzhead.time>>8&255),p(r,r.gzhead.time>>16&255),p(r,r.gzhead.time>>24&255),p(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),p(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(p(r,255&r.gzhead.extra.length),p(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=k(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(p(r,0),p(r,0),p(r,0),p(r,0),p(r,0),p(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),p(r,3),r.status=V);else{var o=z+(r.w_bits-8<<4)<<8;o|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(o|=32),o+=31-o%31,r.status=V,d(r,o),0!==r.strstart&&(d(r,t.adler>>>16),d(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(l=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>l&&(t.adler=k(t.adler,r.pending_buf,r.pending-l,l)),c(t),l=r.pending,r.pending!==r.pending_buf_size));)p(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>l&&(t.adler=k(t.adler,r.pending_buf,r.pending-l,l)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){l=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>l&&(t.adler=k(t.adler,r.pending_buf,r.pending-l,l)),c(t),l=r.pending,r.pending===r.pending_buf_size)){i=1;break}p(r,i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0)}while(0!==i);r.gzhead.hcrc&&r.pending>l&&(t.adler=k(t.adler,r.pending_buf,r.pending-l,l)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){l=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>l&&(t.adler=k(t.adler,r.pending_buf,r.pending-l,l)),c(t),l=r.pending,r.pending===r.pending_buf_size)){i=1;break}p(r,i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0)}while(0!==i);r.gzhead.hcrc&&r.pending>l&&(t.adler=k(t.adler,r.pending_buf,r.pending-l,l)),0===i&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&c(t),r.pending+2<=r.pending_buf_size&&(p(r,255&t.adler),p(r,t.adler>>8&255),t.adler=0,r.status=V)):r.status=V),0!==r.pending){if(c(t),0===t.avail_out)return r.last_flush=-1,C}else if(0===t.avail_in&&u(e)<=u(n)&&e!==I)return a(t,-5);if(666===r.status&&0!==t.avail_in)return a(t,-5);if(0!==t.avail_in||0!==r.lookahead||e!==A&&666!==r.status){var s=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(m(t),0===t.lookahead)){if(e===A)return W;break}if(t.match_length=0,n=w._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(f(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===I?(f(t,!0),0===t.strm.avail_out?Y:G):t.last_lit&&(f(t,!1),0===t.strm.avail_out)?W:H}(r,e):3===r.strategy?function(t,e){for(var n,r,l,i,o=t.window;;){if(t.lookahead<=P){if(m(t),t.lookahead<=P&&e===A)return W;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=N&&0<t.strstart&&(r=o[l=t.strstart-1])===o[++l]&&r===o[++l]&&r===o[++l]){i=t.strstart+P;do{}while(r===o[++l]&&r===o[++l]&&r===o[++l]&&r===o[++l]&&r===o[++l]&&r===o[++l]&&r===o[++l]&&r===o[++l]&&l<i);t.match_length=P-(i-l),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=N?(n=w._tr_tally(t,1,t.match_length-N),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=w._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(f(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===I?(f(t,!0),0===t.strm.avail_out?Y:G):t.last_lit&&(f(t,!1),0===t.strm.avail_out)?W:H}(r,e):_[r.level].func(r,e);if(s!==Y&&s!==G||(r.status=666),s===W||s===Y)return 0===t.avail_out&&(r.last_flush=-1),C;if(s===H&&(1===e?w._tr_align(r):5!==e&&(w._tr_stored_block(r,0,0,!1),3===e&&(h(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),c(t),0===t.avail_out))return r.last_flush=-1,C}return e!==I?C:r.wrap<=0?1:(2===r.wrap?(p(r,255&t.adler),p(r,t.adler>>8&255),p(r,t.adler>>16&255),p(r,t.adler>>24&255),p(r,255&t.total_in),p(r,t.total_in>>8&255),p(r,t.total_in>>16&255),p(r,t.total_in>>24&255)):(d(r,t.adler>>>16),d(r,65535&t.adler)),c(t),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?C:1)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==Z&&69!==e&&73!==e&&91!==e&&103!==e&&e!==V&&666!==e?a(t,S):(t.state=null,e===V?a(t,-3):C):S},n.deflateSetDictionary=function(t,e){var n,r,l,i,o,s,a,u,c=e.length;if(!t||!t.state)return S;if(2===(i=(n=t.state).wrap)||1===i&&n.status!==Z||n.lookahead)return S;for(1===i&&(t.adler=x(t.adler,e,c,0)),n.wrap=0,c>=n.w_size&&(0===i&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new g.Buf8(n.w_size),g.arraySet(u,e,c-n.w_size,n.w_size,0),e=u,c=n.w_size),o=t.avail_in,s=t.next_in,a=t.input,t.avail_in=c,t.next_in=0,t.input=e,m(n);n.lookahead>=N;){for(r=n.strstart,l=n.lookahead-(N-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+N-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--l;);n.strstart=r,n.lookahead=N-1,m(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=N-1,n.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,n.wrap=i,C},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],69:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,l,i,o,s,a,u,c,h,f,p,d,m,y,v,b,_,g,w,x,k,E,A,I;n=t.state,r=t.next_in,A=t.input,l=r+(t.avail_in-5),i=t.next_out,I=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=n.dmax,u=n.wsize,c=n.whave,h=n.wnext,f=n.window,p=n.hold,d=n.bits,m=n.lencode,y=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;t:do{d<15&&(p+=A[r++]<<d,d+=8,p+=A[r++]<<d,d+=8),_=m[p&v];e:for(;;){if(p>>>=g=_>>>24,d-=g,0===(g=_>>>16&255))I[i++]=65535&_;else{if(!(16&g)){if(0==(64&g)){_=m[(65535&_)+(p&(1<<g)-1)];continue e}if(32&g){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&_,(g&=15)&&(d<g&&(p+=A[r++]<<d,d+=8),w+=p&(1<<g)-1,p>>>=g,d-=g),d<15&&(p+=A[r++]<<d,d+=8,p+=A[r++]<<d,d+=8),_=y[p&b];n:for(;;){if(p>>>=g=_>>>24,d-=g,!(16&(g=_>>>16&255))){if(0==(64&g)){_=y[(65535&_)+(p&(1<<g)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&_,d<(g&=15)&&(p+=A[r++]<<d,(d+=8)<g&&(p+=A[r++]<<d,d+=8)),a<(x+=p&(1<<g)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=g,d-=g,(g=i-o)<x){if(c<(g=x-g)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=f,(k=0)===h){if(k+=u-g,g<w){for(w-=g;I[i++]=f[k++],--g;);k=i-x,E=I}}else if(h<g){if(k+=u+h-g,(g-=h)<w){for(w-=g;I[i++]=f[k++],--g;);if(k=0,h<w){for(w-=g=h;I[i++]=f[k++],--g;);k=i-x,E=I}}}else if(k+=h-g,g<w){for(w-=g;I[i++]=f[k++],--g;);k=i-x,E=I}for(;2<w;)I[i++]=E[k++],I[i++]=E[k++],I[i++]=E[k++],w-=3;w&&(I[i++]=E[k++],1<w&&(I[i++]=E[k++]))}else{for(k=i-x;I[i++]=I[k++],I[i++]=I[k++],I[i++]=I[k++],2<(w-=3););w&&(I[i++]=I[k++],1<w&&(I[i++]=I[k++]))}break}}break}}while(r<l&&i<s);r-=w=d>>3,p&=(1<<(d-=w<<3))-1,t.next_in=r,t.next_out=i,t.avail_in=r<l?l-r+5:5-(r-l),t.avail_out=i<s?s-i+257:257-(i-s),n.hold=p,n.bits=d}},{}],70:[function(t,e,n){"use strict";function U(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new z.Buf16(320),this.work=new z.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=M,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new z.Buf32(c),e.distcode=e.distdyn=new z.Buf32(h),e.sane=1,e.back=-1,N):P}function i(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,r(t)):P}function o(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?P:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,i(t))):P}function s(t,e){var n,r;return t?(r=new l,(t.state=r).window=null,(n=o(t,e))!==N&&(t.state=null),n):P}function F(t){if(f){var e;for(a=new z.Buf32(512),u=new z.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(B(j,t.lens,0,288,a,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;B(L,t.lens,0,32,u,0,t.work,{bits:5}),f=!1}t.lencode=a,t.lenbits=9,t.distcode=u,t.distbits=5}function T(t,e,n,r){var l,i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new z.Buf8(i.wsize)),r>=i.wsize?(z.arraySet(i.window,e,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(r<(l=i.wsize-i.wnext)&&(l=r),z.arraySet(i.window,e,n-r,l,i.wnext),(r-=l)?(z.arraySet(i.window,e,n-r,r,0),i.wnext=r,i.whave=i.wsize):(i.wnext+=l,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=l))),0}var a,u,z=t("../utils/common"),O=t("./adler32"),R=t("./crc32"),D=t("./inffast"),B=t("./inftrees"),j=1,L=2,N=0,P=-2,M=1,c=852,h=592,f=!0;n.inflateReset=i,n.inflateReset2=o,n.inflateResetKeep=r,n.inflateInit=function(t){return s(t,15)},n.inflateInit2=s,n.inflate=function(t,e){var n,r,l,i,o,s,a,u,c,h,f,p,d,m,y,v,b,_,g,w,x,k,E,A,I=0,C=new z.Buf8(4),S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return P;12===(n=t.state).mode&&(n.mode=13),o=t.next_out,l=t.output,a=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,u=n.hold,c=n.bits,h=s,f=a,k=N;t:for(;;)switch(n.mode){case M:if(0===n.wrap){n.mode=13;break}for(;c<16;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}if(2&n.wrap&&35615===u){C[n.check=0]=255&u,C[1]=u>>>8&255,n.check=R(n.check,C,2,0),c=u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&u)){t.msg="unknown compression method",n.mode=30;break}if(c-=4,x=8+(15&(u>>>=4)),0===n.wbits)n.wbits=x;else if(x>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<x,t.adler=n.check=1,n.mode=512&u?10:12,c=u=0;break;case 2:for(;c<16;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}if(n.flags=u,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(C[0]=255&u,C[1]=u>>>8&255,n.check=R(n.check,C,2,0)),c=u=0,n.mode=3;case 3:for(;c<32;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}n.head&&(n.head.time=u),512&n.flags&&(C[0]=255&u,C[1]=u>>>8&255,C[2]=u>>>16&255,C[3]=u>>>24&255,n.check=R(n.check,C,4,0)),c=u=0,n.mode=4;case 4:for(;c<16;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(C[0]=255&u,C[1]=u>>>8&255,n.check=R(n.check,C,2,0)),c=u=0,n.mode=5;case 5:if(1024&n.flags){for(;c<16;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(C[0]=255&u,C[1]=u>>>8&255,n.check=R(n.check,C,2,0)),c=u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(s<(p=n.length)&&(p=s),p&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),z.arraySet(n.head.extra,r,i,p,x)),512&n.flags&&(n.check=R(n.check,r,p,i)),s-=p,i+=p,n.length-=p),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break t;for(p=0;x=r[i+p++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x)),x&&p<s;);if(512&n.flags&&(n.check=R(n.check,r,p,i)),s-=p,i+=p,x)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break t;for(p=0;x=r[i+p++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x)),x&&p<s;);if(512&n.flags&&(n.check=R(n.check,r,p,i)),s-=p,i+=p,x)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;c<16;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}if(u!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}c=u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;c<32;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}t.adler=n.check=U(u),c=u=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=o,t.avail_out=a,t.next_in=i,t.avail_in=s,n.hold=u,n.bits=c,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){u>>>=7&c,c-=7&c,n.mode=27;break}for(;c<3;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}switch(n.last=1&u,c-=1,3&(u>>>=1)){case 0:n.mode=14;break;case 1:if(F(n),n.mode=20,6!==e)break;u>>>=2,c-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}u>>>=2,c-=2;break;case 14:for(u>>>=7&c,c-=7&c;c<32;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&u,c=u=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(p=n.length){if(s<p&&(p=s),a<p&&(p=a),0===p)break t;z.arraySet(l,r,i,p,o),s-=p,i+=p,a-=p,o+=p,n.length-=p;break}n.mode=12;break;case 17:for(;c<14;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}if(n.nlen=257+(31&u),u>>>=5,c-=5,n.ndist=1+(31&u),u>>>=5,c-=5,n.ncode=4+(15&u),u>>>=4,c-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;c<3;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}n.lens[S[n.have++]]=7&u,u>>>=3,c-=3}for(;n.have<19;)n.lens[S[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},k=B(0,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,k){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(I=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,b=65535&I,!((y=I>>>24)<=c);){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}if(b<16)u>>>=y,c-=y,n.lens[n.have++]=b;else{if(16===b){for(A=y+2;c<A;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}if(u>>>=y,c-=y,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}x=n.lens[n.have-1],p=3+(3&u),u>>>=2,c-=2}else if(17===b){for(A=y+3;c<A;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}c-=y,x=0,p=3+(7&(u>>>=y)),u>>>=3,c-=3}else{for(A=y+7;c<A;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}c-=y,x=0,p=11+(127&(u>>>=y)),u>>>=7,c-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;p--;)n.lens[n.have++]=x}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,E={bits:n.lenbits},k=B(j,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,k){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},k=B(L,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,k){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=s&&258<=a){t.next_out=o,t.avail_out=a,t.next_in=i,t.avail_in=s,n.hold=u,n.bits=c,D(t,f),o=t.next_out,l=t.output,a=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,u=n.hold,c=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;v=(I=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,b=65535&I,!((y=I>>>24)<=c);){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}if(v&&0==(240&v)){for(_=y,g=v,w=b;v=(I=n.lencode[w+((u&(1<<_+g)-1)>>_)])>>>16&255,b=65535&I,!(_+(y=I>>>24)<=c);){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}u>>>=_,c-=_,n.back+=_}if(u>>>=y,c-=y,n.back+=y,n.length=b,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=12;break}if(64&v){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(A=n.extra;c<A;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(I=n.distcode[u&(1<<n.distbits)-1])>>>16&255,b=65535&I,!((y=I>>>24)<=c);){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}if(0==(240&v)){for(_=y,g=v,w=b;v=(I=n.distcode[w+((u&(1<<_+g)-1)>>_)])>>>16&255,b=65535&I,!(_+(y=I>>>24)<=c);){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}u>>>=_,c-=_,n.back+=_}if(u>>>=y,c-=y,n.back+=y,64&v){t.msg="invalid distance code",n.mode=30;break}n.offset=b,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(A=n.extra;c<A;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===a)break t;if(p=f-a,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}d=p>n.wnext?(p-=n.wnext,n.wsize-p):n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=l,d=o-n.offset,p=n.length;for(a<p&&(p=a),a-=p,n.length-=p;l[o++]=m[d++],--p;);0===n.length&&(n.mode=21);break;case 26:if(0===a)break t;l[o++]=n.length,a--,n.mode=21;break;case 27:if(n.wrap){for(;c<32;){if(0===s)break t;s--,u|=r[i++]<<c,c+=8}if(f-=a,t.total_out+=f,n.total+=f,f&&(t.adler=n.check=n.flags?R(n.check,l,f,o-f):O(n.check,l,f,o-f)),f=a,(n.flags?u:U(u))!==n.check){t.msg="incorrect data check",n.mode=30;break}c=u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;c<32;){if(0===s)break t;s--,u+=r[i++]<<c,c+=8}if(u!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}c=u=0}n.mode=29;case 29:k=1;break t;case 30:k=-3;break t;case 31:return-4;case 32:default:return P}return t.next_out=o,t.avail_out=a,t.next_in=i,t.avail_in=s,n.hold=u,n.bits=c,(n.wsize||f!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&T(t,t.output,t.next_out,f-t.avail_out)?(n.mode=31,-4):(h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,n.total+=f,n.wrap&&f&&(t.adler=n.check=n.flags?R(n.check,l,f,t.next_out-f):O(n.check,l,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===h&&0===f||4===e)&&k===N&&(k=-5),k)},n.inflateEnd=function(t){if(!t||!t.state)return P;var e=t.state;return e.window&&(e.window=null),t.state=null,N},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?P:((n.head=e).done=!1,N):P},n.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?P:11===n.mode&&O(1,e,r,0)!==n.check?-3:T(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,N):P},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(t,e,n){"use strict";var R=t("../utils/common"),D=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],B=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],L=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,r,l,i,o,s){var a,u,c,h,f,p,d,m,y,v=s.bits,b=0,_=0,g=0,w=0,x=0,k=0,E=0,A=0,I=0,C=0,S=null,U=0,F=new R.Buf16(16),T=new R.Buf16(16),z=null,O=0;for(b=0;b<=15;b++)F[b]=0;for(_=0;_<r;_++)F[e[n+_]]++;for(x=v,w=15;1<=w&&0===F[w];w--);if(w<x&&(x=w),0===w)return l[i++]=20971520,l[i++]=20971520,s.bits=1,0;for(g=1;g<w&&0===F[g];g++);for(x<g&&(x=g),b=A=1;b<=15;b++)if(A<<=1,(A-=F[b])<0)return-1;if(0<A&&(0===t||1!==w))return-1;for(T[1]=0,b=1;b<15;b++)T[b+1]=T[b]+F[b];for(_=0;_<r;_++)0!==e[n+_]&&(o[T[e[n+_]]++]=_);if(p=0===t?(S=z=o,19):1===t?(S=D,U-=257,z=B,O-=257,256):(S=j,z=L,-1),b=g,f=i,E=_=C=0,c=-1,h=(I=1<<(k=x))-1,1===t&&852<I||2===t&&592<I)return 1;for(;;){for(d=b-E,y=o[_]<p?(m=0,o[_]):o[_]>p?(m=z[O+o[_]],S[U+o[_]]):(m=96,0),a=1<<b-E,g=u=1<<k;l[f+(C>>E)+(u-=a)]=d<<24|m<<16|y|0,0!==u;);for(a=1<<b-1;C&a;)a>>=1;if(0!==a?(C&=a-1,C+=a):C=0,_++,0==--F[b]){if(b===w)break;b=e[n+o[_]]}if(x<b&&(C&h)!==c){for(0===E&&(E=x),f+=g,A=1<<(k=b-E);k+E<w&&!((A-=F[k+E])<=0);)k++,A<<=1;if(I+=1<<k,1===t&&852<I||2===t&&592<I)return 1;l[c=C&h]=x<<24|k<<16|f-i|0}}return 0!==C&&(l[f+C]=b-E<<24|64<<16|0),s.bits=x,0}},{"../utils/common":62}],72:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(t,e,n){"use strict";function r(t){for(var e=t.length;0<=--e;)t[e]=0}function o(t,e,n,r,l){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=l,this.has_stree=t&&t.length}function l(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?W[t]:W[256+(t>>>7)]}function u(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function c(t,e,n){t.bi_valid>z-n?(t.bi_buf|=e<<t.bi_valid&65535,u(t,t.bi_buf),t.bi_buf=e>>z-t.bi_valid,t.bi_valid+=n-z):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function h(t,e,n){c(t,n[2*e],n[2*e+1])}function f(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function p(t,e,n){var r,l,i=new Array(T+1),o=0;for(r=1;r<=T;r++)i[r]=o=o+n[r-1]<<1;for(l=0;l<=e;l++){var s=t[2*l+1];0!==s&&(t[2*l]=f(i[s]++,s))}}function s(t){var e;for(e=0;e<C;e++)t.dyn_ltree[2*e]=0;for(e=0;e<S;e++)t.dyn_dtree[2*e]=0;for(e=0;e<U;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*R]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function d(t){8<t.bi_valid?u(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function i(t,e,n,r){var l=2*e,i=2*n;return t[l]<t[i]||t[l]===t[i]&&r[e]<=r[n]}function m(t,e,n){for(var r=t.heap[n],l=n<<1;l<=t.heap_len&&(l<t.heap_len&&i(e,t.heap[l+1],t.heap[l],t.depth)&&l++,!i(e,r,t.heap[l],t.depth));)t.heap[n]=t.heap[l],n=l,l<<=1;t.heap[n]=r}function y(t,e,n){var r,l,i,o,s=0;if(0!==t.last_lit)for(;r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],l=t.pending_buf[t.l_buf+s],s++,0===r?h(t,l,e):(h(t,(i=H[l])+I+1,e),0!==(o=L[i])&&c(t,l-=Y[i],o),h(t,i=a(--r),n),0!==(o=N[i])&&c(t,r-=G[i],o)),s<t.last_lit;);h(t,R,e)}function v(t,e){var n,r,l,i=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=F,n=0;n<a;n++)0!==i[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):i[2*n+1]=0;for(;t.heap_len<2;)i[2*(l=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[l]=0,t.opt_len--,s&&(t.static_len-=o[2*l+1]);for(e.max_code=u,n=t.heap_len>>1;1<=n;n--)m(t,i,n);for(l=a;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],m(t,i,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,i[2*l]=i[2*n]+i[2*r],t.depth[l]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,i[2*n+1]=i[2*r+1]=l,t.heap[1]=l++,m(t,i,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,l,i,o,s,a=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,m=0;for(i=0;i<=T;i++)t.bl_count[i]=0;for(a[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<F;n++)d<(i=a[2*a[2*(r=t.heap[n])+1]+1]+1)&&(i=d,m++),a[2*r+1]=i,u<r||(t.bl_count[i]++,o=0,p<=r&&(o=f[r-p]),s=a[2*r],t.opt_len+=s*(i+o),h&&(t.static_len+=s*(c[2*r+1]+o)));if(0!==m){do{for(i=d-1;0===t.bl_count[i];)i--;t.bl_count[i]--,t.bl_count[i+1]+=2,t.bl_count[d]--,m-=2}while(0<m);for(i=d;0!==i;i--)for(r=t.bl_count[i];0!==r;)u<(l=t.heap[--n])||(a[2*l+1]!==i&&(t.opt_len+=(i-a[2*l+1])*a[2*l],a[2*l+1]=i),r--)}}(t,e),p(i,u,t.bl_count)}function b(t,e,n){var r,l,i=-1,o=e[1],s=0,a=7,u=4;for(0===o&&(a=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)l=o,o=e[2*(r+1)+1],++s<a&&l===o||(s<u?t.bl_tree[2*l]+=s:0!==l?(l!==i&&t.bl_tree[2*l]++,t.bl_tree[2*D]++):s<=10?t.bl_tree[2*B]++:t.bl_tree[2*j]++,i=l,u=(s=0)===o?(a=138,3):l===o?(a=6,3):(a=7,4))}function _(t,e,n){var r,l,i=-1,o=e[1],s=0,a=7,u=4;for(0===o&&(a=138,u=3),r=0;r<=n;r++)if(l=o,o=e[2*(r+1)+1],!(++s<a&&l===o)){if(s<u)for(;h(t,l,t.bl_tree),0!=--s;);else 0!==l?(l!==i&&(h(t,l,t.bl_tree),s--),h(t,D,t.bl_tree),c(t,s-3,2)):s<=10?(h(t,B,t.bl_tree),c(t,s-3,3)):(h(t,j,t.bl_tree),c(t,s-11,7));i=l,u=(s=0)===o?(a=138,3):l===o?(a=6,3):(a=7,4)}}function g(t,e,n,r){var l,i,o,s;c(t,(E<<1)+(r?1:0),3),i=e,o=n,s=!0,d(l=t),s&&(u(l,o),u(l,~o)),w.arraySet(l.pending_buf,l.window,i,o,l.pending),l.pending+=o}var w=t("../utils/common"),x=0,k=1,E=0,A=29,I=256,C=I+1+A,S=30,U=19,F=2*C+1,T=15,z=16,O=7,R=256,D=16,B=17,j=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=new Array(2*(C+2));r(Z);var V=new Array(2*S);r(V);var W=new Array(512);r(W);var H=new Array(256);r(H);var Y=new Array(A);r(Y);var G=new Array(S);r(G);var J,X,q,K=!1;n._tr_init=function(t){K||(function(){var t,e,n,r,l,i=new Array(T+1);for(r=n=0;r<A-1;r++)for(Y[r]=n,t=0;t<1<<L[r];t++)H[n++]=r;for(H[n-1]=r,r=l=0;r<16;r++)for(G[r]=l,t=0;t<1<<N[r];t++)W[l++]=r;for(l>>=7;r<S;r++)for(G[r]=l<<7,t=0;t<1<<N[r]-7;t++)W[256+l++]=r;for(e=0;e<=T;e++)i[e]=0;for(t=0;t<=143;)Z[2*t+1]=8,t++,i[8]++;for(;t<=255;)Z[2*t+1]=9,t++,i[9]++;for(;t<=279;)Z[2*t+1]=7,t++,i[7]++;for(;t<=287;)Z[2*t+1]=8,t++,i[8]++;for(p(Z,C+1,i),t=0;t<S;t++)V[2*t+1]=5,V[2*t]=f(t,5);J=new o(Z,L,I+1,C,T),X=new o(V,N,0,S,T),q=new o(new Array(0),P,0,U,O)}(),K=!0),t.l_desc=new l(t.dyn_ltree,J),t.d_desc=new l(t.dyn_dtree,X),t.bl_desc=new l(t.bl_tree,q),t.bi_buf=0,t.bi_valid=0,s(t)},n._tr_stored_block=g,n._tr_flush_block=function(t,e,n,r){var l,i,o=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return x;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return k;for(e=32;e<I;e++)if(0!==t.dyn_ltree[2*e])return k;return x}(t)),v(t,t.l_desc),v(t,t.d_desc),o=function(t){var e;for(b(t,t.dyn_ltree,t.l_desc.max_code),b(t,t.dyn_dtree,t.d_desc.max_code),v(t,t.bl_desc),e=U-1;3<=e&&0===t.bl_tree[2*M[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),l=t.opt_len+3+7>>>3,(i=t.static_len+3+7>>>3)<=l&&(l=i)):l=i=n+5,n+4<=l&&-1!==e?g(t,e,n,r):4===t.strategy||i===l?(c(t,2+(r?1:0),3),y(t,Z,V)):(c(t,4+(r?1:0),3),function(t,e,n,r){var l;for(c(t,e-257,5),c(t,n-1,5),c(t,r-4,4),l=0;l<r;l++)c(t,t.bl_tree[2*M[l]+1],3);_(t,t.dyn_ltree,e-1),_(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),y(t,t.dyn_ltree,t.dyn_dtree)),s(t),r&&d(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(H[n]+I+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){var e;c(t,2,3),h(t,R,Z),16===(e=t).bi_valid?(u(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":62}],74:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[10])(10)}),function(){"use strict";var x=void 0,i=this;function t(t,e){var n,r=t.split("."),l=i;!(r[0]in l)&&l.execScript&&l.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||e===x?l=l[n]?l[n]:l[n]={}:l[n]=e}var k="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function E(t){var e,n,r,l,i,o,s,a,u,c,h=t.length,f=0,p=Number.POSITIVE_INFINITY;for(a=0;a<h;++a)t[a]>f&&(f=t[a]),t[a]<p&&(p=t[a]);for(e=1<<f,n=new(k?Uint32Array:Array)(e),r=1,l=0,i=2;r<=f;){for(a=0;a<h;++a)if(t[a]===r){for(s=l,u=o=0;u<r;++u)o=o<<1|1&s,s>>=1;for(c=r<<16|a,u=o;u<e;u+=i)n[u]=c;++l}++r,l<<=1,i<<=1}return[n,f,p]}function l(t,e){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=k?new Uint8Array(t):t,this.m=!1,this.i=I,this.r=!1,(e||(e={},0))&&(e.index&&(this.a=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.r=e.resize)),this.i){case A:this.b=32768,this.c=new(k?Uint8Array:Array)(32768+this.h+258);break;case I:this.b=0,this.c=new(k?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var A=0,I=1,e=A,n=I;l.prototype.k=function(){for(;!this.m;){var t=F(this,3);switch(1&t&&(this.m=!0),t>>>=1){case 0:var e=this.input,n=this.a,r=this.c,l=this.b,i=e.length,o=x,s=r.length,a=x;if(this.d=this.f=0,i<=n+1)throw Error("invalid uncompressed block header: LEN");if(o=e[n++]|e[n++]<<8,i<=n+1)throw Error("invalid uncompressed block header: NLEN");if(o===~(e[n++]|e[n++]<<8))throw Error("invalid uncompressed block header: length verify");if(n+o>e.length)throw Error("input buffer is broken");switch(this.i){case A:for(;l+o>r.length;){if(o-=a=s-l,k)r.set(e.subarray(n,n+a),l),l+=a,n+=a;else for(;a--;)r[l++]=e[n++];this.b=l,r=this.e(),l=this.b}break;case I:for(;l+o>r.length;)r=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(k)r.set(e.subarray(n,n+o),l),l+=o,n+=o;else for(;o--;)r[l++]=e[n++];this.a=n,this.b=l,this.c=r;break;case 1:this.j(S,U);break;case 2:var u,c,h,f,p=F(this,5)+257,d=F(this,5)+1,m=F(this,4)+4,y=new(k?Uint8Array:Array)(C.length),v=x,b=x,_=x,g=x,w=x;for(w=0;w<m;++w)y[C[w]]=F(this,3);if(!k)for(w=m,m=y.length;w<m;++w)y[C[w]]=0;for(u=E(y),v=new(k?Uint8Array:Array)(p+d),w=0,f=p+d;w<f;)switch(b=T(this,u),b){case 16:for(g=3+F(this,2);g--;)v[w++]=_;break;case 17:for(g=3+F(this,3);g--;)v[w++]=0;_=0;break;case 18:for(g=11+F(this,7);g--;)v[w++]=0;_=0;break;default:_=v[w++]=b}c=E(k?v.subarray(0,p):v.slice(0,p)),h=E(k?v.subarray(p):v.slice(p)),this.j(c,h);break;default:throw Error("unknown BTYPE: "+t)}}return this.n()};var r,o,s=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=k?new Uint16Array(s):s,a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],u=k?new Uint16Array(a):a,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],h=k?new Uint8Array(c):c,f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],p=k?new Uint16Array(f):f,d=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],m=k?new Uint8Array(d):d,y=new(k?Uint8Array:Array)(288);for(r=0,o=y.length;r<o;++r)y[r]=r<=143?8:r<=255?9:r<=279?7:8;var v,b,S=E(y),_=new(k?Uint8Array:Array)(30);for(v=0,b=_.length;v<b;++v)_[v]=5;var U=E(_);function F(t,e){for(var n,r=t.f,l=t.d,i=t.input,o=t.a,s=i.length;l<e;){if(s<=o)throw Error("input buffer is broken");r|=i[o++]<<l,l+=8}return n=r&(1<<e)-1,t.f=r>>>e,t.d=l-e,t.a=o,n}function T(t,e){for(var n,r,l=t.f,i=t.d,o=t.input,s=t.a,a=o.length,u=e[0],c=e[1];i<c&&!(a<=s);)l|=o[s++]<<i,i+=8;if(i<(r=(n=u[l&(1<<c)-1])>>>16))throw Error("invalid code length: "+r);return t.f=l>>r,t.d=i-r,t.a=s,65535&n}function g(t,e){var n,r;switch(this.input=t,this.a=0,(e||(e={},0))&&(e.index&&(this.a=e.index),e.verify&&(this.A=e.verify)),n=t[this.a++],r=t[this.a++],15&n){case w:this.method=w;break;default:throw Error("unsupported compression method")}if(0!=((n<<8)+r)%31)throw Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw Error("fdict flag is not supported");this.q=new l(t,{index:this.a,bufferSize:e.bufferSize,bufferType:e.bufferType,resize:e.resize})}l.prototype.j=function(t,e){var n=this.c,r=this.b;this.o=t;for(var l,i,o,s,a=n.length-258;256!==(l=T(this,t));)if(l<256)a<=r&&(this.b=r,n=this.e(),r=this.b),n[r++]=l;else for(s=u[i=l-257],0<h[i]&&(s+=F(this,h[i])),l=T(this,e),o=p[l],0<m[l]&&(o+=F(this,m[l])),a<=r&&(this.b=r,n=this.e(),r=this.b);s--;)n[r]=n[r++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},l.prototype.w=function(t,e){var n=this.c,r=this.b;this.o=t;for(var l,i,o,s,a=n.length;256!==(l=T(this,t));)if(l<256)a<=r&&(a=(n=this.e()).length),n[r++]=l;else for(s=u[i=l-257],0<h[i]&&(s+=F(this,h[i])),l=T(this,e),o=p[l],0<m[l]&&(o+=F(this,m[l])),a<r+s&&(a=(n=this.e()).length);s--;)n[r]=n[r++-o];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},l.prototype.e=function(){var t,e,n=new(k?Uint8Array:Array)(this.b-32768),r=this.b-32768,l=this.c;if(k)n.set(l.subarray(32768,n.length));else for(t=0,e=n.length;t<e;++t)n[t]=l[t+32768];if(this.g.push(n),this.l+=n.length,k)l.set(l.subarray(r,r+32768));else for(t=0;t<32768;++t)l[t]=l[r+t];return this.b=32768,l},l.prototype.z=function(t){var e,n,r,l=this.input.length/this.a+1|0,i=this.input,o=this.c;return t&&("number"==typeof t.p&&(l=t.p),"number"==typeof t.u&&(l+=t.u)),n=l<2?(r=(i.length-this.a)/this.o[2]/2*258|0)<o.length?o.length+r:o.length<<1:o.length*l,k?(e=new Uint8Array(n)).set(o):e=o,this.c=e},l.prototype.n=function(){var t,e,n,r,l,i=0,o=this.c,s=this.g,a=new(k?Uint8Array:Array)(this.l+(this.b-32768));if(0===s.length)return k?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(e=0,n=s.length;e<n;++e)for(r=0,l=(t=s[e]).length;r<l;++r)a[i++]=t[r];for(e=32768,n=this.b;e<n;++e)a[i++]=o[e];return this.g=[],this.buffer=a},l.prototype.v=function(){var t,e=this.b;return k?this.r?(t=new Uint8Array(e)).set(this.c.subarray(0,e)):t=this.c.subarray(0,e):(this.c.length>e&&(this.c.length=e),t=this.c),this.buffer=t},g.prototype.k=function(){var t,e,n=this.input;if(t=this.q.k(),this.a=this.q.a,this.A){e=(n[this.a++]<<24|n[this.a++]<<16|n[this.a++]<<8|n[this.a++])>>>0;var r=t;if("string"==typeof r){var l,i,o=r.split("");for(l=0,i=o.length;l<i;l++)o[l]=(255&o[l].charCodeAt(0))>>>0;r=o}for(var s,a=1,u=0,c=r.length,h=0;0<c;){for(c-=s=1024<c?1024:c;u+=a+=r[h++],--s;);a%=65521,u%=65521}if(e!==(u<<16|a)>>>0)throw Error("invalid adler-32 checksum")}return t};var w=8;t("Zlib.Inflate",g),t("Zlib.Inflate.prototype.decompress",g.prototype.k);var z,O,R,D,B={ADAPTIVE:n,BLOCK:e};if(Object.keys)z=Object.keys(B);else for(O in z=[],R=0,B)z[R++]=O;for(R=0,D=z.length;R<D;++R)t("Zlib.Inflate.BufferType."+(O=z[R]),B[O])}.call(this);var jsonlint=function(){var t={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(t,e,n,r,l,i,o){var s=i.length-1;switch(l){case 1:this.$=t.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(t);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=i[s-1];case 13:this.$={};break;case 14:this.$=i[s-1];break;case 15:this.$=[i[s-2],i[s]];break;case 16:this.$={},this.$[i[s][0]]=i[s][1];break;case 17:this.$=i[s-2],i[s-2][i[s][0]]=i[s][1];break;case 18:this.$=[];break;case 19:this.$=i[s-1];break;case 20:this.$=[i[s]];break;case 21:this.$=i[s-2],i[s-2].push(i[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,n=[0],r=[null],l=[],i=this.table,o="",s=0,a=0,u=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;function h(){var t;return"number"!=typeof(t=e.lexer.lex()||1)&&(t=e.symbols_[t]||t),t}l.push(c),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,d,m,y,v,b,_,g,w,x={};;){if(d=n[n.length-1],void 0===(m=this.defaultActions[d]?this.defaultActions[d]:(null==f&&(f=h()),i[d]&&i[d][f]))||!m.length||!m[0]){if(!u){for(v in g=[],i[d])this.terminals_[v]&&2<v&&g.push("'"+this.terminals_[v]+"'");var k="";k=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+g.join(", ")+", got '"+this.terminals_[f]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:c,expected:g})}if(3==u){if(1==f)throw new Error(k||"Parsing halted.");a=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,f=h()}for(;!(2..toString()in i[d]);){if(0==d)throw new Error(k||"Parsing halted.");w=1,n.length=n.length-2*w,r.length=r.length-w,l.length=l.length-w,d=n[n.length-1]}p=f,f=2,m=i[d=n[n.length-1]]&&i[d][2],u=3}if(m[0]instanceof Array&&1<m.length)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+f);switch(m[0]){case 1:n.push(f),r.push(this.lexer.yytext),l.push(this.lexer.yylloc),n.push(m[1]),f=null,p?(f=p,p=null):(a=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,c=this.lexer.yylloc,0<u&&u--);break;case 2:if(b=this.productions_[m[1]][1],x.$=r[r.length-b],x._$={first_line:l[l.length-(b||1)].first_line,last_line:l[l.length-1].last_line,first_column:l[l.length-(b||1)].first_column,last_column:l[l.length-1].last_column},void 0!==(y=this.performAction.call(x,o,a,s,this.yy,m[1],r,l)))return y;b&&(n=n.slice(0,-1*b*2),r=r.slice(0,-1*b),l=l.slice(0,-1*b)),n.push(this.productions_[m[1]][0]),r.push(x.$),l.push(x._$),_=i[n[n.length-2]][n[n.length-1]],n.push(_);break;case 3:return!0}}return!0}},e={EOF:1,parseError:function(t,e){if(!this.yy.parseError)throw new Error(t);this.yy.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.match+=t,this.matched+=t,t.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),t},unput:function(t){return this._input=t+this._input,this},more:function(){return this._more=!0,this},less:function(t){this._input=this.match.slice(t)+this._input},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,n,r,l;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length&&(!(n=this._input.match(this.rules[i[o]]))||e&&!(n[0].length>e[0].length)||(e=n,r=o,this.options.flex));o++);return e?((l=e[0].match(/\n.*/g))&&(this.yylineno+=l.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:l?l[l.length-1].length-1:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,i[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return t.lexer=e,t}();function html2canvas(t){var h=document.createRange();function f(t,e,n,r){""!==r&&(m.font=t.fontSize+" "+t.fontFamily,m.textBaseline="top",m.fillStyle=t.color,m.fillText(r,e,n))}function p(t,e,n,r,l,i){var o=t[e+"Width"],s=t[e+"Style"],a=t[e+"Color"];"0px"!==o&&"none"!==s&&"transparent"!==a&&"rgba(0, 0, 0, 0)"!==a&&(m.strokeStyle=a,m.beginPath(),m.moveTo(n,r),m.lineTo(n+l,r+i),m.stroke())}var d=t.getBoundingClientRect(),e=document.createElement("canvas");e.width=d.width,e.height=d.height;var m=e.getContext("2d"),y=new function(o){var s=[],a=!1;function e(){if(a&&(a=!1,o.restore()),0!==s.length){for(var t=-1/0,e=-1/0,n=1/0,r=1/0,l=0;l<s.length;l++){var i=s[l];t=Math.max(t,i.x),e=Math.max(e,i.y),n=Math.min(n,i.x+i.width),r=Math.min(r,i.y+i.height)}o.save(),o.beginPath(),o.rect(t,e,n-t,r-e),o.clip(),a=!0}}return{add:function(t){s.push(t),e()},remove:function(){s.pop(),e()}}}(m);return console.time("drawElement"),function t(e,n){var r=0,l=0,i=0,o=0;if(3===e.nodeType)h.selectNode(e),r=(s=h.getBoundingClientRect()).left-d.left-.5,l=s.top-d.top-.5,i=s.width,o=s.height,f(n,r,l,e.nodeValue.trim());else{if("none"===e.style.display)return;var s;r=(s=e.getBoundingClientRect()).left-d.left-.5,l=s.top-d.top-.5,i=s.width,o=s.height;var a=(n=window.getComputedStyle(e)).backgroundColor;"transparent"!==a&&"rgba(0, 0, 0, 0)"!==a&&(m.fillStyle=a,m.fillRect(r,l,i,o)),p(n,"borderTop",r,l,i,0),p(n,"borderLeft",r,l,0,o),p(n,"borderBottom",r,l+o,i,0),p(n,"borderRight",r+i,l,0,o),"color"!==e.type&&"text"!==e.type||(y.add({x:r,y:l,width:i,height:o}),f(n,r+parseInt(n.paddingLeft),l+parseInt(n.paddingTop),e.value),y.remove())}var u="auto"===n.overflow||"hidden"===n.overflow;u&&y.add({x:r,y:l,width:i,height:o});for(var c=0;c<e.childNodes.length;c++)t(e.childNodes[c],n);u&&y.remove()}(t),console.timeEnd("drawElement"),e}"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=jsonlint,exports.parse=function(){return jsonlint.parse.apply(jsonlint,arguments)},exports.main=function(t){if(!t[1])throw new Error("Usage: "+t[0]+" FILE");if("undefined"!=typeof process)var e=require("fs").readFileSync(require("path").join(process.cwd(),t[1]),"utf8");else e=require("file").path(require("file").cwd()).join(t[1]).read({charset:"utf-8"});return exports.parser.parse(e)},"undefined"!=typeof module&&require.main===module&&exports.main("undefined"!=typeof process?process.argv.slice(1):require("system").args)),function(){var aa=this;function da(t){return void 0!==t}function ea(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function fa(t,e,n){return t.call.apply(t.bind,arguments)}function ga(e,n,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function ia(t,e,n){return(ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ga).apply(null,arguments)}function ka(t,e){var n,r=t.split("."),l=aa;r[0]in l||!l.execScript||l.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)!r.length&&da(e)?l[n]=e:l=l[n]?l[n]:l[n]={}}function v(t,i){function e(){}e.prototype=i.prototype,t.Ma=i.prototype,t.prototype=new e,(t.prototype.constructor=t).La=function(t,e,n){for(var r=Array(arguments.length-2),l=2;l<arguments.length;l++)r[l-2]=arguments[l];return i.prototype[e].apply(t,r)}}var la={};function z(p,t){function e(t){var e;e=(r=t.charCodeAt(0))<=255?(t="x",2):(t="u",4);var n=r.toString(16).toUpperCase(),r=n;for(e-=n.length,n=0;n<e;n++)r="0"+r;return"\\"+t+r}function l(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,e)+'"'}function d(t){ve<_e||(_e<ve&&(_e=ve,ge=[]),ge.push(t))}function m(){var t,e="newLine@"+ve,n=we[e];return n?(ve=n.b,n.result):(t=ve,/^[\n]/.test(p.charAt(ve))?(n=p.charAt(ve),ve++):(n=null,0===be&&d("[\\n]")),null!==n&&(n="\n"),null===n&&(ve=t),we[e]={b:ve,result:n},n)}function y(){var t,e="EOF@"+ve,n=we[e];return n?(ve=n.b,n.result):(t=ve,be++,p.length>ve?(n=p.charAt(ve),ve++):(n=null,0===be&&d("any character")),be--,null===n?n="":(n=null,ve=t),we[e]={b:ve,result:n},n)}function v(){var t,e="_@"+ve,n=we[e];if(n)return ve=n.b,n.result;if(be++,null===(t=m())&&(/^[\\\n]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[\\\\\\n]")),null===t&&(/^[\r\t\f\x0B ]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[\\r\\t\\f\\x0B ]")),null===t&&(t=i()))),null!==t)for(n=[];null!==t;)n.push(t),null===(t=m())&&(/^[\\\n]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[\\\\\\n]")),null===t&&(/^[\r\t\f\x0B ]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[\\r\\t\\f\\x0B ]")),null===t&&(t=i())));else n=null;return 0===--be&&null===n&&d("whitespace"),we[e]={b:ve,result:n},n}function r(){var t,e,n,r,l,i="noNewlineComment@"+ve,o=we[i];if(o)return ve=o.b,o.result;if(r=ve,"/*"===p.substr(ve,2)?(o="/*",ve+=2):(o=null,0===be&&d('"/*"')),null!==o){for(t=[],n=l=ve,be++,"*/"===p.substr(ve,2)?(e="*/",ve+=2):(e=null,0===be&&d('"*/"')),be--,null===e?e="":(e=null,ve=n),null!==e?(p.length>ve?(n=p.charAt(ve),ve++):(n=null,0===be&&d("any character")),null!==n?e=[e,n]:(e=null,ve=l)):(e=null,ve=l);null!==e;)t.push(e),n=l=ve,be++,"*/"===p.substr(ve,2)?(e="*/",ve+=2):(e=null,0===be&&d('"*/"')),be--,null===e?e="":(e=null,ve=n),null!==e?(p.length>ve?(n=p.charAt(ve),ve++):(n=null,0===be&&d("any character")),null!==n?e=[e,n]:(e=null,ve=l)):(e=null,ve=l);null!==t?("*/"===p.substr(ve,2)?(e="*/",ve+=2):(e=null,0===be&&d('"*/"')),null!==e?o=[o,t,e]:(o=null,ve=r)):(o=null,ve=r)}else o=null,ve=r;if(null===o)if(r=ve,"//"===p.substr(ve,2)?(o="//",ve+=2):(o=null,0===be&&d('"//"')),null!==o){for(t=[],/^[^\n]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[^\\n]"));null!==e;)t.push(e),/^[^\n]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[^\\n]"));null!==t?o=[o,t]:(o=null,ve=r)}else o=null,ve=r;return we[i]={b:ve,result:o},o}function a(){var t,e="noNewlineWhitespace@"+ve,n=we[e];if(n)return ve=n.b,n.result;if(/^[\r\t\f\x0B ]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[\\r\\t\\f\\x0B ]")),null===t&&(t=r()),null!==t)for(n=[];null!==t;)n.push(t),/^[\r\t\f\x0B ]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[\\r\\t\\f\\x0B ]")),null===t&&(t=r());else n=null;return we[e]={b:ve,result:n},n}function i(){var t,e,n,r,l,i="comment@"+ve,o=we[i];if(o)return ve=o.b,o.result;if(be++,r=ve,"/*"===p.substr(ve,2)?(o="/*",ve+=2):(o=null,0===be&&d('"/*"')),null!==o){for(t=[],n=l=ve,be++,"*/"===p.substr(ve,2)?(e="*/",ve+=2):(e=null,0===be&&d('"*/"')),be--,null===e?e="":(e=null,ve=n),null!==e?(p.length>ve?(n=p.charAt(ve),ve++):(n=null,0===be&&d("any character")),null!==n?e=[e,n]:(e=null,ve=l)):(e=null,ve=l);null!==e;)t.push(e),n=l=ve,be++,"*/"===p.substr(ve,2)?(e="*/",ve+=2):(e=null,0===be&&d('"*/"')),be--,null===e?e="":(e=null,ve=n),null!==e?(p.length>ve?(n=p.charAt(ve),ve++):(n=null,0===be&&d("any character")),null!==n?e=[e,n]:(e=null,ve=l)):(e=null,ve=l);null!==t?("*/"===p.substr(ve,2)?(e="*/",ve+=2):(e=null,0===be&&d('"*/"')),null!==e?o=[o,t,e]:(o=null,ve=r)):(o=null,ve=r)}else o=null,ve=r;if(null===o)if(r=ve,"//"===p.substr(ve,2)?(o="//",ve+=2):(o=null,0===be&&d('"//"')),null!==o){for(t=[],/^[^\n]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[^\\n]"));null!==e;)t.push(e),/^[^\n]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[^\\n]"));null!==t?(null===(e=m())&&(e=y()),null!==e?o=[o,t,e]:(o=null,ve=r)):(o=null,ve=r)}else o=null,ve=r;return 0===--be&&null===o&&d("comment"),we[i]={b:ve,result:o},o}function b(){var t,e,n,r="semicolon@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=ve,null!==(l=null!==(l=v())?l:"")?(59===p.charCodeAt(ve)?(t=";",ve+=1):(t=null,0===be&&d('";"')),null!==t?null!==(e=null!==(e=v())?e:"")?l=[l,t,e]:(l=null,ve=n):(l=null,ve=n)):(l=null,ve=n),we[r]={b:ve,result:l},l)}function _(){var t,e,n,r="comma@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=ve,null!==(l=null!==(l=v())?l:"")?(44===p.charCodeAt(ve)?(t=",",ve+=1):(t=null,0===be&&d('","')),null!==t?null!==(e=null!==(e=v())?e:"")?l=[l,t,e]:(l=null,ve=n):(l=null,ve=n)):(l=null,ve=n),we[r]={b:ve,result:l},l)}function g(){var t,e,n,r="left_bracket@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=ve,null!==(l=null!==(l=v())?l:"")?(91===p.charCodeAt(ve)?(t="[",ve+=1):(t=null,0===be&&d('"["')),null!==t?null!==(e=null!==(e=v())?e:"")?l=[l,t,e]:(l=null,ve=n):(l=null,ve=n)):(l=null,ve=n),we[r]={b:ve,result:l},l)}function w(){var t,e,n,r="right_bracket@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=ve,null!==(l=null!==(l=v())?l:"")?(93===p.charCodeAt(ve)?(t="]",ve+=1):(t=null,0===be&&d('"]"')),null!==t?null!==(e=null!==(e=v())?e:"")?l=[l,t,e]:(l=null,ve=n):(l=null,ve=n)):(l=null,ve=n),we[r]={b:ve,result:l},l)}function o(){var t,e,n,r="equals@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=ve,null!==(l=null!==(l=v())?l:"")?(61===p.charCodeAt(ve)?(t="=",ve+=1):(t=null,0===be&&d('"="')),null!==t?null!==(e=null!==(e=v())?e:"")?l=[l,t,e]:(l=null,ve=n):(l=null,ve=n)):(l=null,ve=n),we[r]={b:ve,result:l},l)}function f(){var t,e,n,r="left_paren@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=ve,null!==(l=null!==(l=v())?l:"")?(40===p.charCodeAt(ve)?(t="(",ve+=1):(t=null,0===be&&d('"("')),null!==t?null!==(e=null!==(e=v())?e:"")?l=[l,t,e]:(l=null,ve=n):(l=null,ve=n)):(l=null,ve=n),we[r]={b:ve,result:l},l)}function x(){var t,e,n,r="right_paren@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=ve,null!==(l=null!==(l=v())?l:"")?(41===p.charCodeAt(ve)?(t=")",ve+=1):(t=null,0===be&&d('")"')),null!==t?null!==(e=null!==(e=v())?e:"")?l=[l,t,e]:(l=null,ve=n):(l=null,ve=n)):(l=null,ve=n),we[r]={b:ve,result:l},l)}function h(){var t,e,n,r="left_brace@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=ve,null!==(l=null!==(l=v())?l:"")?(123===p.charCodeAt(ve)?(t="{",ve+=1):(t=null,0===be&&d('"{"')),null!==t?null!==(e=null!==(e=v())?e:"")?l=[l,t,e]:(l=null,ve=n):(l=null,ve=n)):(l=null,ve=n),we[r]={b:ve,result:l},l)}function k(){var t,e,n,r="right_brace@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=ve,null!==(l=null!==(l=v())?l:"")?(125===p.charCodeAt(ve)?(t="}",ve+=1):(t=null,0===be&&d('"}"')),null!==t?null!==(e=null!==(e=v())?e:"")?l=[l,t,e]:(l=null,ve=n):(l=null,ve=n)):(l=null,ve=n),we[r]={b:ve,result:l},l)}function u(){var t="external_statement_list@"+ve;if(r=we[t])return ve=r.b,r.result;var e,n,r=ve;for(e=[],n=s();null!==n;)e.push(n),n=s();if(null!==e){n=new pe({type:"root",C:[]});for(var l=0;l<e.length;l++)e[l]&&(n.C=n.C.concat(e[l]));e=n}return null===e&&(ve=r),we[t]={b:ve,result:e},e}function s(){var t,e="external_statement@"+ve,n=we[e];return n?(ve=n.b,n.result):(t=ve,null===(n=D())&&(n=c()),null===n&&(ve=t),null===n&&(t=ve,null!==(n=v())&&(n=""),null===n&&(ve=t)),we[e]={b:ve,result:n},n)}function c(){var t="external_declaration@"+ve,e=we[t];return e?(ve=e.b,e.result):(null===(e=B())&&(null===(e=K())&&(null===(e=F())&&(null===(e=E())&&(null===(e=ht())&&(e=U()))))),we[t]={b:ve,result:e},e)}function E(){var t,e,n,r,l,i,o,s="preprocessor_operator@"+ve,a=we[s];if(a)return ve=a.b,a.result;if(i=l=ve,35===p.charCodeAt(ve)?(a="#",ve+=1):(a=null,0===be&&d('"#"')),null!==a)if("undef"===p.substr(ve,5)?(t="undef",ve+=5):(t=null,0===be&&d('"undef"')),null===t&&("pragma"===p.substr(ve,6)?(t="pragma",ve+=6):(t=null,0===be&&d('"pragma"')),null===t&&("version"===p.substr(ve,7)?(t="version",ve+=7):(t=null,0===be&&d('"version"')),null===t&&("error"===p.substr(ve,5)?(t="error",ve+=5):(t=null,0===be&&d('"error"')),null===t&&("extension"===p.substr(ve,9)?(t="extension",ve+=9):(t=null,0===be&&d('"extension"')),null===t&&("line"===p.substr(ve,4)?(t="line",ve+=4):(t=null,0===be&&d('"line"'))))))),null!==t)if(null!==(e=v())){for(o=ve,n=[],/^[^\n]/.test(p.charAt(ve))?(r=p.charAt(ve),ve++):(r=null,0===be&&d("[^\\n]"));null!==r;)n.push(r),/^[^\n]/.test(p.charAt(ve))?(r=p.charAt(ve),ve++):(r=null,0===be&&d("[^\\n]"));null!==n&&(n=n.join("")),null===n&&(ve=o),null!==n?(null===(r=m())&&(r=y()),null!==r?a=[a,t,e,n,r]:(a=null,ve=i)):(a=null,ve=i)}else a=null,ve=i;else a=null,ve=i;else a=null,ve=i;return null!==a&&(a=new pe({type:"preprocessor",B:"#"+a[1],value:a[3]})),null===a&&(ve=l),we[s]={b:ve,result:a},a}function A(){var t,e,n,r,l="macro_identifier@"+ve,i=we[l];if(i)return ve=i.b,i.result;if(r=n=ve,/^[A-Za-z_]/.test(p.charAt(ve))?(i=p.charAt(ve),ve++):(i=null,0===be&&d("[A-Za-z_]")),null!==i){for(t=[],/^[A-Za-z_0-9]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[A-Za-z_0-9]"));null!==e;)t.push(e),/^[A-Za-z_0-9]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[A-Za-z_0-9]"));null!==t?i=[i,t]:(i=null,ve=r)}else i=null,ve=r;return null!==i&&(i=new pe({type:"identifier",name:i[0]+i[1].join("")})),null===i&&(ve=n),we[l]={b:ve,result:i},i}function I(){var t,e,n,r,l,i,o,s,a,u="preprocessor_parameter_list@"+ve,c=we[u];if(c)return ve=c.b,c.result;if(i=l=ve,40===p.charCodeAt(ve)?(c="(",ve+=1):(c=null,0===be&&d('"("')),null!==c)if(null!==(t=null!==(t=A())?t:"")){for(e=[],o=ve,null!==(n=_())?null!==(r=A())?n=[n,r]:(n=null,ve=o):(n=null,ve=o);null!==n;)e.push(n),o=ve,null!==(n=_())?null!==(r=A())?n=[n,r]:(n=null,ve=o):(n=null,ve=o);null!==e?null!==(n=x())?c=[c,t,e,n]:(c=null,ve=i):(c=null,ve=i)}else c=null,ve=i;else c=null,ve=i;return null!==c&&(s=c[1],a=c[2],c=s?[s].concat(a.map(function(t){return t[1]})):[]),null===c&&(ve=l),we[u]={b:ve,result:c},c}function C(){var t,e,n,r,l,i,o,s,a="macro_paren_parameter@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(i=l=ve,null!==(u=f())){for(s=o=ve,t=[],/^[^()]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[^()]"));null!==e;)t.push(e),/^[^()]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[^()]"));if(null!==t)if(null!==(e=null!==(e=C())?e:"")){for(n=[],/^[^()]/.test(p.charAt(ve))?(r=p.charAt(ve),ve++):(r=null,0===be&&d("[^()]"));null!==r;)n.push(r),/^[^()]/.test(p.charAt(ve))?(r=p.charAt(ve),ve++):(r=null,0===be&&d("[^()]"));null!==n?t=[t,e,n]:(t=null,ve=s)}else t=null,ve=s;else t=null,ve=s;null!==t&&(t=t[0].join("")+t[1]+t[2].join("")),null===t&&(ve=o),null!==t?null!==(e=x())?u=[u,t,e]:(u=null,ve=i):(u=null,ve=i)}else u=null,ve=i;return null!==u&&(u="("+u[1]+")"),null===u&&(ve=l),we[a]={b:ve,result:u},u}function S(){var t,e,n,r="macro_call_parameter@"+ve;if(n=we[r])return ve=n.b,n.result;if(null===(n=C())){for(e=ve,n=[],/^[^,)]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[^,)]"));null!==t;)n.push(t),/^[^,)]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[^,)]"));null!==n&&(n=n.join("")),null===n&&(ve=e)}return we[r]={b:ve,result:n},n}function U(){var t,e,n,r,l,i,o="macro_call@"+ve,s=we[o];return s?(ve=s.b,s.result):(i=s=ve,null!==(t=A())?null!==(e=null!==(e=v())?e:"")?null!==(n=f())?null!==(r=null!==(r=jt())?r:"")?(41===p.charCodeAt(ve)?(l=")",ve+=1):(l=null,0===be&&d('")"')),null!==l?t=[t,e,n,r,l]:(t=null,ve=i)):(t=null,ve=i):(t=null,ve=i):(t=null,ve=i):(t=null,ve=i),null!==t&&(e=t[3],t=new pe({type:"macro_call",oa:t[0],l:e}),e||(t.l=[])),null===t&&(ve=s),we[o]={b:ve,result:t},t)}function F(){var t,e,n,r,l,i,o,s,a,u,c,h="preprocessor_define@"+ve,f=we[h];if(f)return ve=f.b,f.result;if(u=a=ve,35===p.charCodeAt(ve)?(f="#",ve+=1):(f=null,0===be&&d('"#"')),null!==f)if(null!==(t=null!==(t=v())?t:""))if("define"===p.substr(ve,6)?(e="define",ve+=6):(e=null,0===be&&d('"define"')),null!==e)if(null!==(n=v()))if(null!==(r=A()))if(null!==(l=null!==(l=I())?l:"")){for(i=[],/^[ \t]/.test(p.charAt(ve))?(o=p.charAt(ve),ve++):(o=null,0===be&&d("[ \\t]"));null!==o;)i.push(o),/^[ \t]/.test(p.charAt(ve))?(o=p.charAt(ve),ve++):(o=null,0===be&&d("[ \\t]"));if(null!==i){for(c=ve,o=[],/^[^\n]/.test(p.charAt(ve))?(s=p.charAt(ve),ve++):(s=null,0===be&&d("[^\\n]"));null!==s;)o.push(s),/^[^\n]/.test(p.charAt(ve))?(s=p.charAt(ve),ve++):(s=null,0===be&&d("[^\\n]"));null!==o&&(o=o.join("")),null===o&&(ve=c),null!==o?(null===(s=m())&&(s=y()),null!==s?f=[f,t,e,n,r,l,i,o,s]:(f=null,ve=u)):(f=null,ve=u)}else f=null,ve=u}else f=null,ve=u;else f=null,ve=u;else f=null,ve=u;else f=null,ve=u;else f=null,ve=u;else f=null,ve=u;return null!==f&&(f=new pe({type:"preprocessor",B:"#define",identifier:f[4].name,pa:f[7],l:f[5]||null})),null===f&&(ve=a),we[h]={b:ve,result:f},f}function T(){var t,e,n,r,l,i,o,s,a="preprocessor_if@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,35===p.charCodeAt(ve)?(u="#",ve+=1):(u=null,0===be&&d('"#"')),null!==u)if(null!==(t=null!==(t=v())?t:""))if("ifdef"===p.substr(ve,5)?(e="ifdef",ve+=5):(e=null,0===be&&d('"ifdef"')),null===e&&("ifndef"===p.substr(ve,6)?(e="ifndef",ve+=6):(e=null,0===be&&d('"ifndef"')),null===e&&("if"===p.substr(ve,2)?(e="if",ve+=2):(e=null,0===be&&d('"if"')))),null!==e)if(null!==(n=v())){for(s=ve,r=[],/^[^\n]/.test(p.charAt(ve))?(l=p.charAt(ve),ve++):(l=null,0===be&&d("[^\\n]"));null!==l;)r.push(l),/^[^\n]/.test(p.charAt(ve))?(l=p.charAt(ve),ve++):(l=null,0===be&&d("[^\\n]"));null!==r&&(r=r.join("")),null===r&&(ve=s),null!==r?(null===(l=m())&&(l=y()),null!==l?u=[u,t,e,n,r,l]:(u=null,ve=o)):(u=null,ve=o)}else u=null,ve=o;else u=null,ve=o;else u=null,ve=o;else u=null,ve=o;return null!==u&&(u=new pe({type:"preprocessor",B:"#"+u[2],value:u[4]})),null===u&&(ve=i),we[a]={b:ve,result:u},u}function z(){var t,e,n,r,l,i,o,s,a="preprocessor_else_if@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,35===p.charCodeAt(ve)?(u="#",ve+=1):(u=null,0===be&&d('"#"')),null!==u)if(null!==(t=null!==(t=v())?t:""))if("elif"===p.substr(ve,4)?(e="elif",ve+=4):(e=null,0===be&&d('"elif"')),null!==e)if(null!==(n=v())){for(s=ve,r=[],/^[^\n]/.test(p.charAt(ve))?(l=p.charAt(ve),ve++):(l=null,0===be&&d("[^\\n]"));null!==l;)r.push(l),/^[^\n]/.test(p.charAt(ve))?(l=p.charAt(ve),ve++):(l=null,0===be&&d("[^\\n]"));null!==r&&(r=r.join("")),null===r&&(ve=s),null!==r?(null===(l=m())&&(l=y()),null!==l?u=[u,t,e,n,r,l]:(u=null,ve=o)):(u=null,ve=o)}else u=null,ve=o;else u=null,ve=o;else u=null,ve=o;else u=null,ve=o;return null!==u&&(u=new pe({type:"preprocessor",B:"#elif",value:u[4]})),null===u&&(ve=i),we[a]={b:ve,result:u},u}function O(){var t,e,n,r,l,i,o="preprocessor_else@"+ve,s=we[o];return s?(ve=s.b,s.result):(i=l=ve,35===p.charCodeAt(ve)?(s="#",ve+=1):(s=null,0===be&&d('"#"')),null!==s?null!==(t=null!==(t=v())?t:"")?("else"===p.substr(ve,4)?(e="else",ve+=4):(e=null,0===be&&d('"else"')),null!==e?null!==(n=null!==(n=a())?n:"")?null!==(r=m())?s=[s,t,e,n,r]:(s=null,ve=i):(s=null,ve=i):(s=null,ve=i)):(s=null,ve=i):(s=null,ve=i),null!==s&&(s=new pe({type:"preprocessor",B:"#else"})),null===s&&(ve=l),we[o]={b:ve,result:s},s)}function R(){var t,e,n,r,l,i,o="preprocessor_end@"+ve,s=we[o];return s?(ve=s.b,s.result):(i=ve,35===p.charCodeAt(ve)?(s="#",ve+=1):(s=null,0===be&&d('"#"')),null!==s?null!==(t=null!==(t=v())?t:"")?("endif"===p.substr(ve,5)?(e="endif",ve+=5):(e=null,0===be&&d('"endif"')),null!==e?null!==(n=null!==(n=a())?n:"")?(null===(r=m())&&(r=y()),null!==r?null!==(l=null!==(l=v())?l:"")?s=[s,t,e,n,r,l]:(s=null,ve=i):(s=null,ve=i)):(s=null,ve=i):(s=null,ve=i)):(s=null,ve=i):(s=null,ve=i),we[o]={b:ve,result:s},s)}function D(){var t,e,n,r,l,i,o="preprocessor_external_branch@"+ve,s=we[o];if(s)return ve=s.b,s.result;if(i=l=r=ve,null!==(s=T())?null!==(t=u())?s=[s,t]:(s=null,ve=i):(s=null,ve=i),null!==s){for(t=[],i=ve,null!==(e=z())?null!==(n=u())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==e;)t.push(e),i=ve,null!==(e=z())?null!==(n=u())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==t?(i=ve,null!==(e=O())?null!==(n=u())?e=[e,n]:(e=null,ve=i):(e=null,ve=i),null!==(e=null!==e?e:"")?null!==(n=R())?s=[s,t,e,n]:(s=null,ve=l):(s=null,ve=l)):(s=null,ve=l)}else s=null,ve=l;return null!==s&&(s=me(s[0],s[1],s[2])),null===s&&(ve=r),we[o]={b:ve,result:s},s}function n(){var t,e,n,r,l,i,o="preprocessor_statement_branch@"+ve,s=we[o];if(s)return ve=s.b,s.result;if(i=l=r=ve,null!==(s=T())?null!==(t=L())?s=[s,t]:(s=null,ve=i):(s=null,ve=i),null!==s){for(t=[],i=ve,null!==(e=z())?null!==(n=L())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==e;)t.push(e),i=ve,null!==(e=z())?null!==(n=L())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==t?(i=ve,null!==(e=O())?null!==(n=L())?e=[e,n]:(e=null,ve=i):(e=null,ve=i),null!==(e=null!==e?e:"")?null!==(n=R())?s=[s,t,e,n]:(s=null,ve=l):(s=null,ve=l)):(s=null,ve=l)}else s=null,ve=l;return null!==s&&(s=me(s[0],s[1],s[2])),null===s&&(ve=r),we[o]={b:ve,result:s},s}function B(){var t,e,n,r="function_definition@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=e=ve,null!==(l=Q())?null!==(t=j())?l=[l,t]:(l=null,ve=n):(l=null,ve=n),null!==l&&(t=l[0],l=Ae=new pe({type:"function_declaration",name:t.name,ma:t.ma,l:t.l,body:l[1]})),null===l&&(ve=e),we[r]={b:ve,result:l},l)}function j(){var t,e,n,r,l="compound_statement@"+ve,i=we[l];return i?(ve=i.b,i.result):(r=i=ve,null!==(t=h())?null!==(e=null!==(e=L())?e:"")?null!==(n=k())?t=[t,e,n]:(t=null,ve=r):(t=null,ve=r):(t=null,ve=r),null!==t&&(t=t[1],Ae=new pe({type:"scope",C:[]}),t&&t.C&&(Ae.C=t.C),t=Ae),null===t&&(ve=i),we[l]={b:ve,result:t},t)}function L(){var t,e,n,r,l="statement_list@"+ve,i=we[l];if(i)return ve=i.b,i.result;if(r=n=ve,null!==(i=null!==(i=v())?i:"")){for(t=[],e=N();null!==e;)t.push(e),e=N();null!==t?null!==(e=null!==(e=v())?e:"")?i=[i,t,e]:(i=null,ve=r):(i=null,ve=r)}else i=null,ve=r;return null!==i&&(i={C:i[1]}),null===i&&(ve=n),we[l]={b:ve,result:i},i}function N(){var t="statement_no_new_scope@"+ve,e=we[t];return e?(ve=e.b,e.result):(null===(e=j())&&(null===(e=M())&&(e=n())),we[t]={b:ve,result:e},e)}function P(){var t="statement_with_scope@"+ve,e=we[t];return e?(ve=e.b,e.result):(null===(e=j())&&(null===(e=M())&&(e=n())),we[t]={b:ve,result:e},e)}function M(){var t,e="simple_statement@"+ve,n=we[e];return n?(ve=n.b,n.result):(t=ve,null===(n=q())&&(null===(n=X())&&(null===(n=Z())&&(null===(n=G())&&(null===(n=J())&&(null===(n=F())&&(null===(n=E())&&(n=U()))))))),null===n&&(ve=t),we[e]={b:ve,result:n},n)}function Z(){var t,e,n,r,l,i,o,s,a,u,c="selection_statement@"+ve,h=we[c];return h?(ve=h.b,h.result):(a=s=ve,"if"===p.substr(ve,2)?(h="if",ve+=2):(h=null,0===be&&d('"if"')),null!==h?null!==(t=f())?null!==(e=ce())?null!==(n=x())?null!==(r=P())?(u=ve,"else"===p.substr(ve,4)?(l="else",ve+=4):(l=null,0===be&&d('"else"')),null!==l?null!==(i=null!==(i=v())?i:"")?null!==(o=P())?l=[l,i,o]:(l=null,ve=u):(l=null,ve=u):(l=null,ve=u),null!==(l=null!==l?l:"")?h=[h,t,e,n,r,l]:(h=null,ve=a)):(h=null,ve=a):(h=null,ve=a):(h=null,ve=a):(h=null,ve=a):(h=null,ve=a),null!==h&&(t=h[5],Ae=new pe({type:"if_statement",F:h[2],body:h[4]}),t&&(Ae.M=t[2]),h=Ae),null===h&&(ve=s),we[c]={b:ve,result:h},h)}function V(){var t,e,n,r,l,i,o,s,a,u="for_loop@"+ve,c=we[u];return c?(ve=c.b,c.result):(a=s=ve,"for"===p.substr(ve,3)?(c="for",ve+=3):(c=null,0===be&&d('"for"')),null!==c?null!==(t=f())?(null===(e=X())&&(e=q()),null!==e?null!==(n=null!==(n=he())?n:"")?null!==(r=b())?null!==(l=null!==(l=ce())?l:"")?null!==(i=x())?null!==(o=N())?c=[c,t,e,n,r,l,i,o]:(c=null,ve=a):(c=null,ve=a):(c=null,ve=a):(c=null,ve=a):(c=null,ve=a):(c=null,ve=a)):(c=null,ve=a):(c=null,ve=a),null!==c&&(c=new pe({type:"for_statement",H:c[2],F:c[3],Fa:c[5],body:c[7]})),null===c&&(ve=s),we[u]={b:ve,result:c},c)}function W(){var t,e,n,r,l,i="while_statement@"+ve,o=we[i];return o?(ve=o.b,o.result):(l=r=ve,"while"===p.substr(ve,5)?(o="while",ve+=5):(o=null,0===be&&d('"while"')),null!==o?null!==(t=f())?null!==(e=he())?null!==(n=x())?o=[o,t,e,n]:(o=null,ve=l):(o=null,ve=l):(o=null,ve=l):(o=null,ve=l),null!==o&&(o={F:o[2]}),null===o&&(ve=r),we[i]={b:ve,result:o},o)}function H(){var t,e,n,r="while_loop@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=e=ve,null!==(l=W())?null!==(t=N())?l=[l,t]:(l=null,ve=n):(l=null,ve=n),null!==l&&(l=new pe({type:"while_statement",F:l[0].F,body:l[1]})),null===l&&(ve=e),we[r]={b:ve,result:l},l)}function Y(){var t,e,n,r,l="do_while@"+ve,i=we[l];return i?(ve=i.b,i.result):(r=n=ve,"do"===p.substr(ve,2)?(i="do",ve+=2):(i=null,0===be&&d('"do"')),null!==i?null!==(t=P())?null!==(e=W())?i=[i,t,e]:(i=null,ve=r):(i=null,ve=r):(i=null,ve=r),null!==i&&(i=new pe({type:"do_statement",F:i[2].F,body:i[1]})),null===i&&(ve=n),we[l]={b:ve,result:i},i)}function G(){var t="iteration_statement@"+ve,e=we[t];return e?(ve=e.b,e.result):(null===(e=H())&&(null===(e=Y())&&(e=V())),we[t]={b:ve,result:e},e)}function J(){var t,e,n,r,l,i="jump_statement@"+ve,o=we[i];return o?(ve=o.b,o.result):(l=r=ve,"return"===p.substr(ve,6)?(o="return",ve+=6):(o=null,0===be&&d('"return"')),null!==o?null!==(t=null!==(t=v())?t:"")?null!==(e=ce())?null!==(n=b())?o=[o,t,e,n]:(o=null,ve=l):(o=null,ve=l):(o=null,ve=l):(o=null,ve=l),null!==o&&(o=new pe({type:"return",value:o[2]})),null===o&&(ve=r),null===o&&(l=r=ve,"continue"===p.substr(ve,8)?(o="continue",ve+=8):(o=null,0===be&&d('"continue"')),null!==o?null!==(t=b())?o=[o,t]:(o=null,ve=l):(o=null,ve=l),null===o&&(l=ve,"break"===p.substr(ve,5)?(o="break",ve+=5):(o=null,0===be&&d('"break"')),null!==o?null!==(t=b())?o=[o,t]:(o=null,ve=l):(o=null,ve=l),null===o&&(l=ve,"return"===p.substr(ve,6)?(o="return",ve+=6):(o=null,0===be&&d('"return"')),null!==o?null!==(t=b())?o=[o,t]:(o=null,ve=l):(o=null,ve=l),null===o&&(n=e=l=ve,null!==(o="fs"==Ee?"":null)?("discard"===p.substr(ve,7)?(t="discard",ve+=7):(t=null,0===be&&d('"discard"')),null!==t?o=[o,t]:(o=null,ve=n)):(o=null,ve=n),null!==o&&(o="discard"),null===o&&(ve=e),null!==o?null!==(t=b())?o=[o,t]:(o=null,ve=l):(o=null,ve=l)))),null!==o&&(o=new pe({type:o[0]})),null===o&&(ve=r)),we[i]={b:ve,result:o},o)}function X(){var t,e,n,r="expression_statement@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=e=ve,null!==(l=null!==(l=ce())?l:"")?null!==(t=b())?l=[l,t]:(l=null,ve=n):(l=null,ve=n),null!==l&&(l=new pe({type:"expression",N:l[0]})),null===l&&(ve=e),we[r]={b:ve,result:l},l)}function q(){var t,e,n,r,l,i,o,s,a,u,c,h="declaration@"+ve,f=we[h];if(f)return ve=f.b,f.result;if(be++,s=o=ve,null!==(f=Q())?null!==(t=b())?f=[f,t]:(f=null,ve=s):(f=null,ve=s),null!==f&&(f=f[0]),null===f&&(ve=o),null===f&&(s=o=ve,null!==(f=pt())?null!==(t=v())?null!==(e=nt())?null!==(n=b())?f=[f,t,e,n]:(f=null,ve=s):(f=null,ve=s):(f=null,ve=s):(f=null,ve=s),null!==f&&(f=new pe({type:"declarator",w:f[0],A:f[2]})),null===f&&(ve=o),null===f)){if(s=o=ve,null!==(f="vs"==Ee?"":null))if("invariant"===p.substr(ve,9)?(t="invariant",ve+=9):(t=null,0===be&&d('"invariant"')),null!==t)if(null!==(e=v()))if(null!==(n=xt())){for(r=[],a=ve,null!==(l=_())?null!==(i=xt())?l=[l,i]:(l=null,ve=a):(l=null,ve=a);null!==l;)r.push(l),a=ve,null!==(l=_())?null!==(i=xt())?l=[l,i]:(l=null,ve=a):(l=null,ve=a);null!==r?null!==(l=b())?f=[f,t,e,n,r,l]:(f=null,ve=s):(f=null,ve=s)}else f=null,ve=s;else f=null,ve=s;else f=null,ve=s;else f=null,ve=s;null!==f&&(u=f[3],c=f[4],f=new pe({type:"invariant",Ea:[u].concat(c.map(function(t){return t[1]}))})),null===f&&(ve=o),null===f&&(s=o=ve,"precision"===p.substr(ve,9)?(f="precision",ve+=9):(f=null,0===be&&d('"precision"')),null!==f?null!==(t=v())?null!==(e=vt())?null!==(n=v())?null!==(r=wt())?null!==(l=b())?f=[f,t,e,n,r,l]:(f=null,ve=s):(f=null,ve=s):(f=null,ve=s):(f=null,ve=s):(f=null,ve=s):(f=null,ve=s),null!==f&&(f=new pe({type:"precision",precision:f[2],typeName:f[4]})),null===f&&(ve=o))}return 0===--be&&null===f&&d("declaration"),we[h]={b:ve,result:f},f}function K(){var t,e,n,r,l,i,o="global_declaration@"+ve;return(i=we[o])?(ve=i.b,i.result):(null===(i=q())&&(l=r=ve,null!==(i=yt())?null!==(t=v())?null!==(e=nt())?null!==(n=b())?i=[i,t,e,n]:(i=null,ve=l):(i=null,ve=l):(i=null,ve=l):(i=null,ve=l),null!==i&&(i=new pe({type:"declarator",w:i[0],A:i[2]})),null===i&&(ve=r),null===i&&(l=r=ve,null!==(i=mt())?null!==(t=v())?null!==(e=lt())?null!==(n=b())?i=[i,t,e,n]:(i=null,ve=l):(i=null,ve=l):(i=null,ve=l):(i=null,ve=l),null!==i&&(i=new pe({type:"declarator",w:i[0],A:i[2]})),null===i&&(ve=r))),we[o]={b:ve,result:i},i)}function $(){var t,e,n,r,l,i,o,s,a="function_prototype_parameter_list@"+ve,u=we[a];if(u)return ve=u.b,u.result;if("void"===p.substr(ve,4)?(u="void",ve+=4):(u=null,0===be&&d('"void"')),null===u){if(l=r=ve,null!==(u=et())){for(t=[],i=ve,null!==(e=_())?null!==(n=et())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==e;)t.push(e),i=ve,null!==(e=_())?null!==(n=et())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==t?u=[u,t]:(u=null,ve=l)}else u=null,ve=l;null!==u&&(o=u[0],s=u[1],u=[o].concat(s.map(function(t){return t[1]}))),null===u&&(ve=r)}return we[a]={b:ve,result:u},u}function Q(){var t,e,n,r,l,i,o,s="function_prototype@"+ve,a=we[s];return a?(ve=a.b,a.result):(o=i=ve,null===(a=gt())&&(a=ft()),null!==a?null!==(t=v())?null!==(e=xt())?null!==(n=f())?null!==(r=null!==(r=$())?r:"")?null!==(l=x())?a=[a,t,e,n,r,l]:(a=null,ve=o):(a=null,ve=o):(a=null,ve=o):(a=null,ve=o):(a=null,ve=o):(a=null,ve=o),null!==a&&(t=a[4],Ae=new pe({type:"function_prototype",name:a[2].name,ma:a[0],l:t}),"void"!=t&&t||(Ae.l=[]),a=Ae),null===a&&(ve=i),we[s]={b:ve,result:a},a)}function tt(){var t="parameter_qualifier@"+ve,e=we[t];return e?(ve=e.b,e.result):("inout"===p.substr(ve,5)?(e="inout",ve+=5):(e=null,0===be&&d('"inout"')),null===e&&("in"===p.substr(ve,2)?(e="in",ve+=2):(e=null,0===be&&d('"in"')),null===e&&("out"===p.substr(ve,3)?(e="out",ve+=3):(e=null,0===be&&d('"out"')))),we[t]={b:ve,result:e},e)}function et(){var t,e,n,r,l,i,o,s,a,u,c,h="parameter_declaration@"+ve,f=we[h];return f?(ve=f.b,f.result):(c=u=f=ve,null!==(t=bt())?null!==(e=v())?t=[t,e]:(t=null,ve=c):(t=null,ve=c),null!==(t=null!==t?t:"")?(c=ve,null!==(e=tt())?null!==(n=v())?e=[e,n]:(e=null,ve=c):(e=null,ve=c),null!==(e=null!==e?e:"")?(c=ve,null!==(n=vt())?null!==(r=v())?n=[n,r]:(n=null,ve=c):(n=null,ve=c),null!==(n=null!==n?n:"")?null!==(r=wt())?null!==(l=v())?null!==(i=xt())?(c=ve,null!==(o=g())?null!==(s=ue())?null!==(a=w())?o=[o,s,a]:(o=null,ve=c):(o=null,ve=c):(o=null,ve=c),null!==(o=null!==o?o:"")?t=[t,e,n,r,l,i,o]:(t=null,ve=u)):(t=null,ve=u):(t=null,ve=u):(t=null,ve=u):(t=null,ve=u)):(t=null,ve=u)):(t=null,ve=u),null!==t&&(e=t[0],n=t[1],r=t[2],l=t[6],t=new pe({type:"parameter",Ka:t[3],name:t[5].name}),e&&(t.qa=e[0]),n&&(t.la=n[0]),r&&(t.precision=r[0]),l&&(t.$=l[1]),t=t.qa&&t.la&&"in"!=t.la?null:t),null===t&&(ve=f),we[h]={b:ve,result:t},t)}function nt(){var t,e,n,r,l,i,o,s,a="init_declarator_list@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(l=r=ve,null!==(u=ut())){for(t=[],i=ve,null!==(e=_())?null!==(n=ut())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==e;)t.push(e),i=ve,null!==(e=_())?null!==(n=ut())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==t?u=[u,t]:(u=null,ve=l)}else u=null,ve=l;return null!==u&&(o=u[0],s=u[1],u=[o].concat(s.map(function(t){return t[1]}))),null===u&&(ve=r),we[a]={b:ve,result:u},u}function rt(){var t,e,n,r,l,i,o,s,a="declarator_list@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(l=r=ve,null!==(u=at())){for(t=[],i=ve,null!==(e=_())?null!==(n=at())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==e;)t.push(e),i=ve,null!==(e=_())?null!==(n=at())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==t?u=[u,t]:(u=null,ve=l)}else u=null,ve=l;return null!==u&&(o=u[0],s=u[1],u=[o].concat(s.map(function(t){return t[1]}))),null===u&&(ve=r),we[a]={b:ve,result:u},u}function lt(){var t,e,n,r,l,i,o,s,a="declarator_list_no_array@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(l=r=ve,null!==(u=ot())){for(t=[],i=ve,null!==(e=_())?null!==(n=ot())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==e;)t.push(e),i=ve,null!==(e=_())?null!==(n=ot())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==t?u=[u,t]:(u=null,ve=l)}else u=null,ve=l;return null!==u&&(o=u[0],s=u[1],u=[o].concat(s.map(function(t){return t[1]}))),null===u&&(ve=r),we[a]={b:ve,result:u},u}function it(){var t,e,n,r,l,i,o,s,a="declarator_list_arrays_have_size@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(l=r=ve,null!==(u=st())){for(t=[],i=ve,null!==(e=_())?null!==(n=st())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==e;)t.push(e),i=ve,null!==(e=_())?null!==(n=st())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==t?u=[u,t]:(u=null,ve=l)}else u=null,ve=l;return null!==u&&(o=u[0],s=u[1],u=[o].concat(s.map(function(t){return t[1]}))),null===u&&(ve=r),we[a]={b:ve,result:u},u}function ot(){var t,e="declarator_no_array@"+ve,n=we[e];return n?(ve=n.b,n.result):(t=ve,null!==(n=xt())&&(n=new pe({type:"declarator_item",name:n})),null===n&&(ve=t),we[e]={b:ve,result:n},n)}function st(){var t,e,n,r,l,i="declarator_array_with_size@"+ve,o=we[i];return o?(ve=o.b,o.result):(l=r=ve,null!==(o=xt())?null!==(t=g())?null!==(e=ue())?null!==(n=w())?o=[o,t,e,n]:(o=null,ve=l):(o=null,ve=l):(o=null,ve=l):(o=null,ve=l),null!==o&&(o=new pe({type:"declarator_item",name:o[0],$:o[2],isArray:!0})),null===o&&(ve=r),null===o&&(o=ot()),we[i]={b:ve,result:o},o)}function at(){var t,e,n,r,l="declarator@"+ve,i=we[l];return i?(ve=i.b,i.result):(r=n=ve,null!==(i=xt())?null!==(t=g())?null!==(e=w())?i=[i,t,e]:(i=null,ve=r):(i=null,ve=r):(i=null,ve=r),null!==i&&(i=new pe({type:"declarator_item",name:i[0],isArray:!0})),null===i&&(ve=n),null===i&&(i=st()),we[l]={b:ve,result:i},i)}function ut(){var t,e,n,r,l="init_declarator@"+ve,i=we[l];return i?(ve=i.b,i.result):(r=n=ve,null!==(i=xt())?null!==(t=o())?null!==(e=ue())?i=[i,t,e]:(i=null,ve=r):(i=null,ve=r):(i=null,ve=r),null!==i&&(i=new pe({type:"declarator_item",name:i[0],H:i[2]})),null===i&&(ve=n),null===i&&(i=at()),we[l]={b:ve,result:i},i)}function ct(){var t,e,n,r,l,i,o="member_list@"+ve,s=we[o];if(s)return ve=s.b,s.result;if(i=l=ve,null!==(t=pt())?null!==(e=v())?null!==(n=it())?null!==(r=b())?t=[t,e,n,r]:(t=null,ve=i):(t=null,ve=i):(t=null,ve=i):(t=null,ve=i),null!==t)for(s=[];null!==t;)s.push(t),i=ve,null!==(t=pt())?null!==(e=v())?null!==(n=it())?null!==(r=b())?t=[t,e,n,r]:(t=null,ve=i):(t=null,ve=i):(t=null,ve=i):(t=null,ve=i);else s=null;return null!==s&&(s=s.map(function(t){return new pe({type:"declarator",w:t[0],A:t[2]})})),null===s&&(ve=l),we[o]={b:ve,result:s},s}function ht(){var t,e,n,r,l,i,o,s,a,u="struct_definition@"+ve,c=we[u];return c?(ve=c.b,c.result):(l=a=c=ve,null===(t=_t())&&(t=dt()),null!==t?null!==(e=v())?t=[t,e]:(t=null,ve=l):(t=null,ve=l),null!==(t=null!==t?t:"")?("struct"===p.substr(ve,6)?(e="struct",ve+=6):(e=null,0===be&&d('"struct"')),null!==e?(l=ve,null!==(n=v())?null!==(r=xt())?n=[n,r]:(n=null,ve=l):(n=null,ve=l),null!==(n=null!==n?n:"")?null!==(r=h())?null!==(l=ct())?null!==(i=k())?null!==(o=null!==(o=rt())?o:"")?null!==(s=b())?t=[t,e,n,r,l,i,o,s]:(t=null,ve=a):(t=null,ve=a):(t=null,ve=a):(t=null,ve=a):(t=null,ve=a):(t=null,ve=a)):(t=null,ve=a)):(t=null,ve=a),null!==t&&(e=t[0],n=t[2],r=t[6],t=new pe({type:"struct_definition",Ia:t[4]}),e&&(t.qualifier=e[0]),n&&(t.name=n[1].name,xe[t.name]=t),r&&(t.A=r)),null===t&&(ve=c),we[u]={b:ve,result:t},t)}function ft(){var t,e,n,r,l="precision_type@"+ve,i=we[l];return i?(ve=i.b,i.result):(r=n=i=ve,null!==(t=vt())?null!==(e=v())?t=[t,e]:(t=null,ve=r):(t=null,ve=r),null!==(t=null!==t?t:"")?null!==(e=wt())?t=[t,e]:(t=null,ve=n):(t=null,ve=n),null!==t&&(e=t[0],t=new pe({type:"type",name:t[1]}),e&&(t.precision=e[0])),null===t&&(ve=i),we[l]={b:ve,result:t},t)}function pt(){var t,e,n,r,l="locally_specified_type@"+ve,i=we[l];return i?(ve=i.b,i.result):(be++,r=n=i=ve,null!==(t=bt())?null!==(e=v())?t=[t,e]:(t=null,ve=r):(t=null,ve=r),null!==(t=null!==t?t:"")?null!==(e=ft())?t=[t,e]:(t=null,ve=n):(t=null,ve=n),null!==t&&(e=t[0],t=t[1],e&&(t.qualifier=e[0])),null===t&&(ve=i),0===--be&&null===t&&d("locally specified type"),we[l]={b:ve,result:t},t)}function dt(){var t,e,n,r="attribute_qualifier@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=e=ve,null!==(l="vs"==Ee?"":null)?("attribute"===p.substr(ve,9)?(t="attribute",ve+=9):(t=null,0===be&&d('"attribute"')),null!==t?l=[l,t]:(l=null,ve=n)):(l=null,ve=n),null!==l&&(l="attribute"),null===l&&(ve=e),we[r]={b:ve,result:l},l)}function mt(){var t,e,n,r,l="attribute_type@"+ve,i=we[l];return i?(ve=i.b,i.result):(be++,r=n=ve,null!==(i=dt())?null!==(t=v())?null!==(e=ft())?i=[i,t,e]:(i=null,ve=r):(i=null,ve=r):(i=null,ve=r),null!==i&&((t=i[2]).qualifier=i[0],i=t),null===i&&(ve=n),0===--be&&null===i&&d("locally specified type"),we[l]={b:ve,result:i},i)}function yt(){var t,e,n,r,l="fully_specified_type@"+ve,i=we[l];return i?(ve=i.b,i.result):(be++,r=n=i=ve,null!==(t=_t())?null!==(e=v())?t=[t,e]:(t=null,ve=r):(t=null,ve=r),null!==(t=null!==t?t:"")?null!==(e=ft())?t=[t,e]:(t=null,ve=n):(t=null,ve=n),null!==t&&(e=t[0],t=t[1],e&&(t.qualifier=e[0])),null===t&&(ve=i),0===--be&&null===t&&d("fully specified type"),we[l]={b:ve,result:t},t)}function vt(){var t="precision_qualifier@"+ve,e=we[t];return e?(ve=e.b,e.result):(be++,"highp"===p.substr(ve,5)?(e="highp",ve+=5):(e=null,0===be&&d('"highp"')),null===e&&("mediump"===p.substr(ve,7)?(e="mediump",ve+=7):(e=null,0===be&&d('"mediump"')),null===e&&("lowp"===p.substr(ve,4)?(e="lowp",ve+=4):(e=null,0===be&&d('"lowp"')))),0===--be&&null===e&&d("precision qualifier"),we[t]={b:ve,result:e},e)}function bt(){var t="const_qualifier@"+ve,e=we[t];return e?(ve=e.b,e.result):("const"===p.substr(ve,5)?(e="const",ve+=5):(e=null,0===be&&d('"const"')),we[t]={b:ve,result:e},e)}function _t(){var t,e,n,r,l="type_qualifier@"+ve,i=we[l];return i?(ve=i.b,i.result):(be++,null===(i=bt())&&("varying"===p.substr(ve,7)?(i="varying",ve+=7):(i=null,0===be&&d('"varying"')),null===i&&(r=n=ve,"invariant"===p.substr(ve,9)?(i="invariant",ve+=9):(i=null,0===be&&d('"invariant"')),null!==i?null!==(t=v())?("varying"===p.substr(ve,7)?(e="varying",ve+=7):(e=null,0===be&&d('"varying"')),null!==e?i=[i,t,e]:(i=null,ve=r)):(i=null,ve=r):(i=null,ve=r),null!==i&&(i="invariant varying"),null===i&&(ve=n),null===i&&("uniform"===p.substr(ve,7)?(i="uniform",ve+=7):(i=null,0===be&&d('"uniform"'))))),0===--be&&null===i&&d("type qualifier"),we[l]={b:ve,result:i},i)}function gt(){var t,e="void_type@"+ve,n=we[e];return n?(ve=n.b,n.result):(be++,t=ve,"void"===p.substr(ve,4)?(n="void",ve+=4):(n=null,0===be&&d('"void"')),null!==n&&(n=new pe({type:"type",name:"void"})),null===n&&(ve=t),0===--be&&null===n&&d("void"),we[e]={b:ve,result:n},n)}function wt(){var t,e="type_name@"+ve,n=we[e];return n?(ve=n.b,n.result):(be++,"float"===p.substr(ve,5)?(n="float",ve+=5):(n=null,0===be&&d('"float"')),null===n&&("int"===p.substr(ve,3)?(n="int",ve+=3):(n=null,0===be&&d('"int"')),null===n&&("bool"===p.substr(ve,4)?(n="bool",ve+=4):(n=null,0===be&&d('"bool"')),null===n&&("sampler2D"===p.substr(ve,9)?(n="sampler2D",ve+=9):(n=null,0===be&&d('"sampler2D"')),null===n&&("samplerCube"===p.substr(ve,11)?(n="samplerCube",ve+=11):(n=null,0===be&&d('"samplerCube"')),null===n&&(null===(n=Et())&&(null===(n=At())&&(t=ve,null!==(n=xt())&&(n=n.name in xe?n.name:null),null===n&&(ve=t)))))))),0===--be&&null===n&&d("type name"),we[e]={b:ve,result:n},n)}function xt(){var t,e,n,r,l,i="identifier@"+ve,o=we[i];if(o)return ve=o.b,o.result;if(be++,e=l=r=ve,be++,n=ve,null!==(o=kt())?(/^[^A-Za-z_0-9]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[^A-Za-z_0-9]")),null!==t?o=[o,t]:(o=null,ve=n)):(o=null,ve=n),be--,null===o?o="":(o=null,ve=e),null!==o)if(/^[A-Za-z_]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[A-Za-z_]")),null!==t){for(e=[],/^[A-Za-z_0-9]/.test(p.charAt(ve))?(n=p.charAt(ve),ve++):(n=null,0===be&&d("[A-Za-z_0-9]"));null!==n;)e.push(n),/^[A-Za-z_0-9]/.test(p.charAt(ve))?(n=p.charAt(ve),ve++):(n=null,0===be&&d("[A-Za-z_0-9]"));null!==e?o=[o,t,e]:(o=null,ve=l)}else o=null,ve=l;else o=null,ve=l;return null!==o&&(o=new pe({type:"identifier",name:o[1]+o[2].join("")})),null===o&&(ve=r),0===--be&&null===o&&d("identifier"),we[i]={b:ve,result:o},o}function kt(){var t="keyword@"+ve,e=we[t];return e?(ve=e.b,e.result):(be++,"attribute"===p.substr(ve,9)?(e="attribute",ve+=9):(e=null,0===be&&d('"attribute"')),null===e&&("const"===p.substr(ve,5)?(e="const",ve+=5):(e=null,0===be&&d('"const"')),null===e&&("bool"===p.substr(ve,4)?(e="bool",ve+=4):(e=null,0===be&&d('"bool"')),null===e&&("float"===p.substr(ve,5)?(e="float",ve+=5):(e=null,0===be&&d('"float"')),null===e&&("int"===p.substr(ve,3)?(e="int",ve+=3):(e=null,0===be&&d('"int"')),null===e&&("break"===p.substr(ve,5)?(e="break",ve+=5):(e=null,0===be&&d('"break"')),null===e&&("continue"===p.substr(ve,8)?(e="continue",ve+=8):(e=null,0===be&&d('"continue"')),null===e&&("do"===p.substr(ve,2)?(e="do",ve+=2):(e=null,0===be&&d('"do"')),null===e&&("else"===p.substr(ve,4)?(e="else",ve+=4):(e=null,0===be&&d('"else"')),null===e&&("for"===p.substr(ve,3)?(e="for",ve+=3):(e=null,0===be&&d('"for"')),null===e&&("if"===p.substr(ve,2)?(e="if",ve+=2):(e=null,0===be&&d('"if"')),null===e&&("discard"===p.substr(ve,7)?(e="discard",ve+=7):(e=null,0===be&&d('"discard"')),null===e&&("return"===p.substr(ve,6)?(e="return",ve+=6):(e=null,0===be&&d('"return"')),null===e&&(null===(e=Et())&&(null===(e=At())&&("in"===p.substr(ve,2)?(e="in",ve+=2):(e=null,0===be&&d('"in"')),null===e&&("out"===p.substr(ve,3)?(e="out",ve+=3):(e=null,0===be&&d('"out"')),null===e&&("inout"===p.substr(ve,5)?(e="inout",ve+=5):(e=null,0===be&&d('"inout"')),null===e&&("uniform"===p.substr(ve,7)?(e="uniform",ve+=7):(e=null,0===be&&d('"uniform"')),null===e&&("varying"===p.substr(ve,7)?(e="varying",ve+=7):(e=null,0===be&&d('"varying"')),null===e&&("sampler2D"===p.substr(ve,9)?(e="sampler2D",ve+=9):(e=null,0===be&&d('"sampler2D"')),null===e&&("samplerCube"===p.substr(ve,11)?(e="samplerCube",ve+=11):(e=null,0===be&&d('"samplerCube"')),null===e&&("struct"===p.substr(ve,6)?(e="struct",ve+=6):(e=null,0===be&&d('"struct"')),null===e&&("void"===p.substr(ve,4)?(e="void",ve+=4):(e=null,0===be&&d('"void"')),null===e&&("while"===p.substr(ve,5)?(e="while",ve+=5):(e=null,0===be&&d('"while"')),null===e&&("highp"===p.substr(ve,5)?(e="highp",ve+=5):(e=null,0===be&&d('"highp"')),null===e&&("mediump"===p.substr(ve,7)?(e="mediump",ve+=7):(e=null,0===be&&d('"mediump"')),null===e&&("lowp"===p.substr(ve,4)?(e="lowp",ve+=4):(e=null,0===be&&d('"lowp"')),null===e&&("true"===p.substr(ve,4)?(e="true",ve+=4):(e=null,0===be&&d('"true"')),null===e&&("false"===p.substr(ve,5)?(e="false",ve+=5):(e=null,0===be&&d('"false"'))))))))))))))))))))))))))))))),0===--be&&null===e&&d("keyword"),we[t]={b:ve,result:e},e)}function Et(){var t,e,n,r,l="vector@"+ve,i=we[l];return i?(ve=i.b,i.result):(r=n=ve,/^[bi]/.test(p.charAt(ve))?(i=p.charAt(ve),ve++):(i=null,0===be&&d("[bi]")),null!==(i=null!==i?i:"")?("vec"===p.substr(ve,3)?(t="vec",ve+=3):(t=null,0===be&&d('"vec"')),null!==t?(/^[234]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[234]")),null!==e?i=[i,t,e]:(i=null,ve=r)):(i=null,ve=r)):(i=null,ve=r),null!==i&&(i=i.join("")),null===i&&(ve=n),we[l]={b:ve,result:i},i)}function At(){var t,e,n,r="matrix@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=e=ve,"mat"===p.substr(ve,3)?(l="mat",ve+=3):(l=null,0===be&&d('"mat"')),null!==l?(/^[234]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[234]")),null!==t?l=[l,t]:(l=null,ve=n)):(l=null,ve=n),null!==l&&(l=l.join("")),null===l&&(ve=e),we[r]={b:ve,result:l},l)}function It(){var t,e,n,r,l="single_underscore_identifier@"+ve,i=we[l];if(i)return ve=i.b,i.result;for(r=ve,i=[],/^[A-Za-z0-9]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[A-Za-z0-9]"));null!==t;)i.push(t),/^[A-Za-z0-9]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[A-Za-z0-9]"));if(null!==i)if(95===p.charCodeAt(ve)?(t="_",ve+=1):(t=null,0===be&&d('"_"')),null!==t){if(/^[A-Za-z0-9]/.test(p.charAt(ve))?(n=p.charAt(ve),ve++):(n=null,0===be&&d("[A-Za-z0-9]")),null!==n)for(e=[];null!==n;)e.push(n),/^[A-Za-z0-9]/.test(p.charAt(ve))?(n=p.charAt(ve),ve++):(n=null,0===be&&d("[A-Za-z0-9]"));else e=null;null!==e?i=[i,t,e]:(i=null,ve=r)}else i=null,ve=r;else i=null,ve=r;return we[l]={b:ve,result:i},i}function Ct(){var t,e,n,r,l,i="int_constant@"+ve,o=we[i];if(o)return ve=o.b,o.result;if(l=r=ve,/^[1-9]/.test(p.charAt(ve))?(o=p.charAt(ve),ve++):(o=null,0===be&&d("[1-9]")),null!==o){for(t=[],/^[0-9]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[0-9]"));null!==e;)t.push(e),/^[0-9]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[0-9]"));null!==t?o=[o,t]:(o=null,ve=l)}else o=null,ve=l;if(null!==o&&(o=new pe({type:"int",value:parseInt([o[0]].concat(o[1]).join(""),10)})),null===o&&(ve=r),null===o){if(l=r=ve,48===p.charCodeAt(ve)?(o="0",ve+=1):(o=null,0===be&&d('"0"')),null!==o)if(/^[Xx]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[Xx]")),null!==t){if(/^[0-9A-Fa-f]/.test(p.charAt(ve))?(n=p.charAt(ve),ve++):(n=null,0===be&&d("[0-9A-Fa-f]")),null!==n)for(e=[];null!==n;)e.push(n),/^[0-9A-Fa-f]/.test(p.charAt(ve))?(n=p.charAt(ve),ve++):(n=null,0===be&&d("[0-9A-Fa-f]"));else e=null;null!==e?o=[o,t,e]:(o=null,ve=l)}else o=null,ve=l;else o=null,ve=l;if(null!==o&&(o=new pe({type:"int",value:parseInt(o[2].join(""),16)})),null===o&&(ve=r),null===o){if(l=r=ve,48===p.charCodeAt(ve)?(o="0",ve+=1):(o=null,0===be&&d('"0"')),null!==o){if(/^[0-7]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[0-7]")),null!==e)for(t=[];null!==e;)t.push(e),/^[0-7]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[0-7]"));else t=null;null!==t?o=[o,t]:(o=null,ve=l)}else o=null,ve=l;null!==o&&(o=new pe({type:"int",value:parseInt(o[1].join(""),8)})),null===o&&(ve=r),null===o&&(r=ve,48===p.charCodeAt(ve)?(o="0",ve+=1):(o=null,0===be&&d('"0"')),null!==o&&(o=new pe({type:"int",value:0})),null===o&&(ve=r))}}return we[i]={b:ve,result:o},o}function St(){var t,e,n,r,l,i="float_constant@"+ve,o=we[i];if(o)return ve=o.b,o.result;for(l=o=ve,t=[],/^[0-9]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[0-9]"));null!==e;)t.push(e),/^[0-9]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[0-9]"));if(null!==t)if(46===p.charCodeAt(ve)?(e=".",ve+=1):(e=null,0===be&&d('"."')),null!==e){if(/^[0-9]/.test(p.charAt(ve))?(r=p.charAt(ve),ve++):(r=null,0===be&&d("[0-9]")),null!==r)for(n=[];null!==r;)n.push(r),/^[0-9]/.test(p.charAt(ve))?(r=p.charAt(ve),ve++):(r=null,0===be&&d("[0-9]"));else n=null;null!==n?null!==(r=null!==(r=Ut())?r:"")?t=[t,e,n,r]:(t=null,ve=l):(t=null,ve=l)}else t=null,ve=l;else t=null,ve=l;if(null===t){if(l=ve,/^[0-9]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[0-9]")),null!==e)for(t=[];null!==e;)t.push(e),/^[0-9]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[0-9]"));else t=null;if(null!==t)if(46===p.charCodeAt(ve)?(e=".",ve+=1):(e=null,0===be&&d('"."')),null!==e){for(n=[],/^[0-9]/.test(p.charAt(ve))?(r=p.charAt(ve),ve++):(r=null,0===be&&d("[0-9]"));null!==r;)n.push(r),/^[0-9]/.test(p.charAt(ve))?(r=p.charAt(ve),ve++):(r=null,0===be&&d("[0-9]"));null!==n?null!==(r=null!==(r=Ut())?r:"")?t=[t,e,n,r]:(t=null,ve=l):(t=null,ve=l)}else t=null,ve=l;else t=null,ve=l}if(null!==t&&(t[0]=t[0].join(""),t[2]=t[2].join(""),t=new pe({type:"float",value:parseFloat(t.join(""))})),null===t&&(ve=o),null===t){if(l=o=ve,/^[0-9]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[0-9]")),null!==e)for(t=[];null!==e;)t.push(e),/^[0-9]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[0-9]"));else t=null;null!==t?null!==(e=Ut())?t=[t,e]:(t=null,ve=l):(t=null,ve=l),null!==t&&(t=new pe({type:"float",value:parseFloat(t[0].join("")+t[1])})),null===t&&(ve=o)}return we[i]={b:ve,result:t},t}function Ut(){var t,e,n,r,l,i="float_exponent@"+ve,o=we[i];if(o)return ve=o.b,o.result;if(l=r=ve,/^[Ee]/.test(p.charAt(ve))?(o=p.charAt(ve),ve++):(o=null,0===be&&d("[Ee]")),null!==o)if(/^[+\-]/.test(p.charAt(ve))?(t=p.charAt(ve),ve++):(t=null,0===be&&d("[+\\-]")),null!==(t=null!==t?t:"")){if(/^[0-9]/.test(p.charAt(ve))?(n=p.charAt(ve),ve++):(n=null,0===be&&d("[0-9]")),null!==n)for(e=[];null!==n;)e.push(n),/^[0-9]/.test(p.charAt(ve))?(n=p.charAt(ve),ve++):(n=null,0===be&&d("[0-9]"));else e=null;null!==e?o=[o,t,e]:(o=null,ve=l)}else o=null,ve=l;else o=null,ve=l;return null!==o&&(o=["e",o[1]].concat(o[2]).join("")),null===o&&(ve=r),we[i]={b:ve,result:o},o}function Ft(){var t,e,n,r,l="paren_expression@"+ve,i=we[l];return i?(ve=i.b,i.result):(r=n=ve,null!==(i=f())?null!==(t=ce())?null!==(e=x())?i=[i,t,e]:(i=null,ve=r):(i=null,ve=r):(i=null,ve=r),null!==i&&(i=i[1]),null===i&&(ve=n),we[l]={b:ve,result:i},i)}function Tt(){var t,e="bool_constant@"+ve,n=we[e];return n?(ve=n.b,n.result):(t=ve,"true"===p.substr(ve,4)?(n="true",ve+=4):(n=null,0===be&&d('"true"')),null===n&&("false"===p.substr(ve,5)?(n="false",ve+=5):(n=null,0===be&&d('"false"'))),null!==n&&(n=new pe({type:"bool",value:"true"==n})),null===n&&(ve=t),we[e]={b:ve,result:n},n)}function zt(){var t="primary_expression@"+ve,e=we[t];return e?(ve=e.b,e.result):(null===(e=Lt())&&(null===(e=xt())&&(null===(e=St())&&(null===(e=Ct())&&(null===(e=Tt())&&(e=Ft()))))),we[t]={b:ve,result:e},e)}function Ot(){var t,e,n,r,l="index_accessor@"+ve,i=we[l];return i?(ve=i.b,i.result):(r=n=ve,null!==(i=g())?null!==(t=ce())?null!==(e=w())?i=[i,t,e]:(i=null,ve=r):(i=null,ve=r):(i=null,ve=r),null!==i&&(i=new pe({type:"accessor",index:i[1]})),null===i&&(ve=n),we[l]={b:ve,result:i},i)}function Rt(){var t,e,n,r="field_selector@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=e=ve,46===p.charCodeAt(ve)?(l=".",ve+=1):(l=null,0===be&&d('"."')),null!==l?null!==(t=xt())?l=[l,t]:(l=null,ve=n):(l=null,ve=n),null!==l&&(l=new pe({type:"field_selector",selection:l[1].name})),null===l&&(ve=e),we[r]={b:ve,result:l},l)}function Dt(){var t,e,n,r,l="postfix_expression@"+ve,i=we[l];if(i)return ve=i.b,i.result;if(r=i=ve,null!==(t=zt())){for(e=[],null===(n=Rt())&&(n=Ot());null!==n;)e.push(n),null===(n=Rt())&&(n=Ot());null!==e?t=[t,e]:(t=null,ve=r)}else t=null,ve=r;if(null!==t)for(e=t[1],t=t[0],n=0;n<e.length;n++)t=new pe({type:"postfix",j:e[n],N:t});return null===t&&(ve=i),we[l]={b:ve,result:t},t}function Bt(){var t,e,n,r,l,i,o="postfix_expression_no_repeat@"+ve,s=we[o];if(s)return ve=s.b,s.result;if(i=s=ve,null!==(t=Dt()))if(null!==(e=null!==(e=v())?e:""))if("++"===p.substr(ve,2)?(n="++",ve+=2):(n=null,0===be&&d('"++"')),null===n&&("--"===p.substr(ve,2)?(n="--",ve+=2):(n=null,0===be&&d('"--"'))),null!==(n=null!==n?n:"")){for(r=[],null===(l=Rt())&&(l=Ot());null!==l;)r.push(l),null===(l=Rt())&&(l=Ot());null!==r?t=[t,e,n,r]:(t=null,ve=i)}else t=null,ve=i;else t=null,ve=i;else t=null,ve=i;if(null!==t)for(n=t[2],e=t[3],t=t[0],n&&(t=new pe({type:"postfix",j:new pe({id:ke++,type:"operator",j:n}),N:t})),n=0;n<e.length;n++)t=new pe({type:"postfix",j:e[n],N:t});return null===t&&(ve=s),we[o]={b:ve,result:t},t}function jt(){var t,e,n,r,l,i,o,s,a="parameter_list@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(r=ve,"void"===p.substr(ve,4)?(u="void",ve+=4):(u=null,0===be&&d('"void"')),null!==u&&(u=[]),null===u&&(ve=r),null===u){if(l=r=ve,null!==(u=ce())){for(t=[],i=ve,null!==(e=_())?null!==(n=ce())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==e;)t.push(e),i=ve,null!==(e=_())?null!==(n=ce())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==t?u=[u,t]:(u=null,ve=l)}else u=null,ve=l;null!==u&&(o=u[0],s=u[1],u=[o].concat(s.map(function(t){return t[1]}))),null===u&&(ve=r)}return we[a]={b:ve,result:u},u}function Lt(){var t,e,n,r,l,i="function_call@"+ve,o=we[i];return o?(ve=o.b,o.result):(l=o=ve,null!==(t=Nt())?null!==(e=f())?null!==(n=null!==(n=jt())?n:"")?null!==(r=x())?t=[t,e,n,r]:(t=null,ve=l):(t=null,ve=l):(t=null,ve=l):(t=null,ve=l),null!==t&&(e=t[2],t=new pe({type:"function_call",I:t[0],l:e}),e||(t.l=[])),null===t&&(ve=o),we[i]={b:ve,result:t},t)}function Nt(){var t,e="function_identifier@"+ve,n=we[e];return n?(ve=n.b,n.result):(t=ve,null!==(n=xt())&&(n=n.name),null===n&&(ve=t),null===n&&(n=wt()),we[e]={b:ve,result:n},n)}function Pt(){var t,e,n,r,l="unary_expression@"+ve,i=we[l];return i?(ve=i.b,i.result):(r=n=ve,"++"===p.substr(ve,2)?(i="++",ve+=2):(i=null,0===be&&d('"++"')),null===i&&("--"===p.substr(ve,2)?(i="--",ve+=2):(i=null,0===be&&d('"--"')),null===i&&(33===p.charCodeAt(ve)?(i="!",ve+=1):(i=null,0===be&&d('"!"')),null===i&&(126===p.charCodeAt(ve)?(i="~",ve+=1):(i=null,0===be&&d('"~"')),null===i&&(43===p.charCodeAt(ve)?(i="+",ve+=1):(i=null,0===be&&d('"+"')),null===i&&(45===p.charCodeAt(ve)?(i="-",ve+=1):(i=null,0===be&&d('"-"'))))))),null!==(i=null!==i?i:"")?null!==(t=null!==(t=v())?t:"")?null!==(e=Bt())?i=[i,t,e]:(i=null,ve=r):(i=null,ve=r):(i=null,ve=r),null!==i&&(t=i[0],Ae=i[2],t&&(Ae=new pe({type:"unary",N:Ae,j:new pe({type:"operator",j:t})})),i=Ae),null===i&&(ve=n),we[l]={b:ve,result:i},i)}function Mt(){var t,e,n,r,l="multiplicative_operator@"+ve,i=we[l];return i?(ve=i.b,i.result):(n=e=ve,42===p.charCodeAt(ve)?(i="*",ve+=1):(i=null,0===be&&d('"*"')),null===i&&(47===p.charCodeAt(ve)?(i="/",ve+=1):(i=null,0===be&&d('"/"')),null===i&&(37===p.charCodeAt(ve)?(i="%",ve+=1):(i=null,0===be&&d('"%"')))),null!==i?(r=ve,be++,61===p.charCodeAt(ve)?(t="=",ve+=1):(t=null,0===be&&d('"="')),be--,null===t?t="":(t=null,ve=r),null!==t?i=[i,t]:(i=null,ve=n)):(i=null,ve=n),null!==i&&(i=new pe({type:"operator",j:i[0]})),null===i&&(ve=e),we[l]={b:ve,result:i},i)}function Zt(){var t,e,n,r,l,i,o,s,a="multiplicative_expression@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,null!==(u=Pt())){for(t=[],s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Mt())?null!==(r=null!==(r=v())?r:"")?null!==(l=Pt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==e;)t.push(e),s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Mt())?null!==(r=null!==(r=v())?r:"")?null!==(l=Pt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==t?u=[u,t]:(u=null,ve=o)}else u=null,ve=o;return null!==u&&(u=de(u[0],u[1])),null===u&&(ve=i),we[a]={b:ve,result:u},u}function Vt(){var t,e,n,r,l="additive_operator@"+ve,i=we[l];return i?(ve=i.b,i.result):(n=e=ve,43===p.charCodeAt(ve)?(i="+",ve+=1):(i=null,0===be&&d('"+"')),null!==i?(r=ve,be++,43===p.charCodeAt(ve)?(t="+",ve+=1):(t=null,0===be&&d('"+"')),null===t&&(61===p.charCodeAt(ve)?(t="=",ve+=1):(t=null,0===be&&d('"="'))),be--,null===t?t="":(t=null,ve=r),null!==t?i=[i,t]:(i=null,ve=n)):(i=null,ve=n),null!==i&&(i=new pe({type:"operator",j:"+"})),null===i&&(ve=e),null===i&&(n=e=ve,45===p.charCodeAt(ve)?(i="-",ve+=1):(i=null,0===be&&d('"-"')),null!==i?(r=ve,be++,45===p.charCodeAt(ve)?(t="-",ve+=1):(t=null,0===be&&d('"-"')),null===t&&(61===p.charCodeAt(ve)?(t="=",ve+=1):(t=null,0===be&&d('"="'))),be--,null===t?t="":(t=null,ve=r),null!==t?i=[i,t]:(i=null,ve=n)):(i=null,ve=n),null!==i&&(i=new pe({type:"operator",j:"-"})),null===i&&(ve=e)),we[l]={b:ve,result:i},i)}function Wt(){var t,e,n,r,l,i,o,s,a="additive_expression@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,null!==(u=Zt())){for(t=[],s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Vt())?null!==(r=null!==(r=v())?r:"")?null!==(l=Zt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==e;)t.push(e),s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Vt())?null!==(r=null!==(r=v())?r:"")?null!==(l=Zt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==t?u=[u,t]:(u=null,ve=o)}else u=null,ve=o;return null!==u&&(u=de(u[0],u[1])),null===u&&(ve=i),we[a]={b:ve,result:u},u}function Ht(){var t,e,n,r,l="shift_operator@"+ve,i=we[l];return i?(ve=i.b,i.result):(n=e=ve,"<<"===p.substr(ve,2)?(i="<<",ve+=2):(i=null,0===be&&d('"<<"')),null===i&&(">>"===p.substr(ve,2)?(i=">>",ve+=2):(i=null,0===be&&d('">>"'))),null!==i?(r=ve,be++,61===p.charCodeAt(ve)?(t="=",ve+=1):(t=null,0===be&&d('"="')),be--,null===t?t="":(t=null,ve=r),null!==t?i=[i,t]:(i=null,ve=n)):(i=null,ve=n),null!==i&&(i=new pe({type:"operator",j:i[0]})),null===i&&(ve=e),we[l]={b:ve,result:i},i)}function Yt(){var t,e,n,r,l,i,o,s,a="shift_expression@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,null!==(u=Wt())){for(t=[],s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Ht())?null!==(r=null!==(r=v())?r:"")?null!==(l=Wt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==e;)t.push(e),s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Ht())?null!==(r=null!==(r=v())?r:"")?null!==(l=Wt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==t?u=[u,t]:(u=null,ve=o)}else u=null,ve=o;return null!==u&&(u=de(u[0],u[1])),null===u&&(ve=i),we[a]={b:ve,result:u},u}function Gt(){var t,e,n,r,l="relational_operator@"+ve,i=we[l];return i?(ve=i.b,i.result):(r=n=ve,60===p.charCodeAt(ve)?(i="<",ve+=1):(i=null,0===be&&d('"<"')),null!==i?(e=ve,be++,60===p.charCodeAt(ve)?(t="<",ve+=1):(t=null,0===be&&d('"<"')),be--,null===t?t="":(t=null,ve=e),null!==t?(61===p.charCodeAt(ve)?(e="=",ve+=1):(e=null,0===be&&d('"="')),null!==(e=null!==e?e:"")?i=[i,t,e]:(i=null,ve=r)):(i=null,ve=r)):(i=null,ve=r),null!==i&&(i=new pe({type:"operator",j:"<"+i[2]})),null===i&&(ve=n),null===i&&(r=n=ve,62===p.charCodeAt(ve)?(i=">",ve+=1):(i=null,0===be&&d('">"')),null!==i?(e=ve,be++,62===p.charCodeAt(ve)?(t=">",ve+=1):(t=null,0===be&&d('">"')),be--,null===t?t="":(t=null,ve=e),null!==t?(61===p.charCodeAt(ve)?(e="=",ve+=1):(e=null,0===be&&d('"="')),null!==(e=null!==e?e:"")?i=[i,t,e]:(i=null,ve=r)):(i=null,ve=r)):(i=null,ve=r),null!==i&&(i=new pe({type:"operator",j:">"+i[2]})),null===i&&(ve=n)),we[l]={b:ve,result:i},i)}function Jt(){var t,e,n,r,l,i,o,s,a="relational_expression@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,null!==(u=Yt())){for(t=[],s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Gt())?null!==(r=null!==(r=v())?r:"")?null!==(l=Yt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==e;)t.push(e),s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Gt())?null!==(r=null!==(r=v())?r:"")?null!==(l=Yt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==t?u=[u,t]:(u=null,ve=o)}else u=null,ve=o;return null!==u&&(u=de(u[0],u[1])),null===u&&(ve=i),we[a]={b:ve,result:u},u}function Xt(){var t,e="equality_operator@"+ve,n=we[e];return n?(ve=n.b,n.result):(t=ve,"=="===p.substr(ve,2)?(n="==",ve+=2):(n=null,0===be&&d('"=="')),null===n&&("!="===p.substr(ve,2)?(n="!=",ve+=2):(n=null,0===be&&d('"!="'))),null!==n&&(n=new pe({type:"operator",j:n})),null===n&&(ve=t),we[e]={b:ve,result:n},n)}function qt(){var t,e,n,r,l,i,o,s,a="equality_expression@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,null!==(u=Jt())){for(t=[],s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Xt())?null!==(r=null!==(r=v())?r:"")?null!==(l=Jt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==e;)t.push(e),s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Xt())?null!==(r=null!==(r=v())?r:"")?null!==(l=Jt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==t?u=[u,t]:(u=null,ve=o)}else u=null,ve=o;return null!==u&&(u=de(u[0],u[1])),null===u&&(ve=i),we[a]={b:ve,result:u},u}function Kt(){var t,e,n,r,l="bitwise_and_operator@"+ve,i=we[l];return i?(ve=i.b,i.result):(n=e=ve,38===p.charCodeAt(ve)?(i="&",ve+=1):(i=null,0===be&&d('"&"')),null!==i?(r=ve,be++,61===p.charCodeAt(ve)?(t="=",ve+=1):(t=null,0===be&&d('"="')),null===t&&(38===p.charCodeAt(ve)?(t="&",ve+=1):(t=null,0===be&&d('"&"'))),be--,null===t?t="":(t=null,ve=r),null!==t?i=[i,t]:(i=null,ve=n)):(i=null,ve=n),null!==i&&(i=new pe({type:"operator",j:"&"})),null===i&&(ve=e),we[l]={b:ve,result:i},i)}function $t(){var t,e,n,r,l,i,o,s,a="bitwise_and_expression@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,null!==(u=qt())){for(t=[],s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Kt())?null!==(r=null!==(r=v())?r:"")?null!==(l=qt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==e;)t.push(e),s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Kt())?null!==(r=null!==(r=v())?r:"")?null!==(l=qt())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==t?u=[u,t]:(u=null,ve=o)}else u=null,ve=o;return null!==u&&(u=de(u[0],u[1])),null===u&&(ve=i),we[a]={b:ve,result:u},u}function Qt(){var t,e,n,r,l="bitwise_xor_operator@"+ve,i=we[l];return i?(ve=i.b,i.result):(n=e=ve,94===p.charCodeAt(ve)?(i="^",ve+=1):(i=null,0===be&&d('"^"')),null!==i?(r=ve,be++,61===p.charCodeAt(ve)?(t="=",ve+=1):(t=null,0===be&&d('"="')),null===t&&(94===p.charCodeAt(ve)?(t="^",ve+=1):(t=null,0===be&&d('"^"'))),be--,null===t?t="":(t=null,ve=r),null!==t?i=[i,t]:(i=null,ve=n)):(i=null,ve=n),null!==i&&(i=new pe({type:"operator",j:"^"})),null===i&&(ve=e),we[l]={b:ve,result:i},i)}function te(){var t,e,n,r,l,i,o,s,a="bitwise_xor_expression@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,null!==(u=$t())){for(t=[],s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Qt())?null!==(r=null!==(r=v())?r:"")?null!==(l=$t())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==e;)t.push(e),s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=Qt())?null!==(r=null!==(r=v())?r:"")?null!==(l=$t())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==t?u=[u,t]:(u=null,ve=o)}else u=null,ve=o;return null!==u&&(u=de(u[0],u[1])),null===u&&(ve=i),we[a]={b:ve,result:u},u}function ee(){var t,e,n,r,l="bitwise_or_operator@"+ve,i=we[l];return i?(ve=i.b,i.result):(n=e=ve,124===p.charCodeAt(ve)?(i="|",ve+=1):(i=null,0===be&&d('"|"')),null!==i?(r=ve,be++,61===p.charCodeAt(ve)?(t="=",ve+=1):(t=null,0===be&&d('"="')),null===t&&(124===p.charCodeAt(ve)?(t="|",ve+=1):(t=null,0===be&&d('"|"'))),be--,null===t?t="":(t=null,ve=r),null!==t?i=[i,t]:(i=null,ve=n)):(i=null,ve=n),null!==i&&(i=new pe({type:"operator",j:"|"})),null===i&&(ve=e),we[l]={b:ve,result:i},i)}function ne(){var t,e,n,r,l,i,o,s,a="bitwise_or_expression@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,null!==(u=te())){for(t=[],s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=ee())?null!==(r=null!==(r=v())?r:"")?null!==(l=te())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==e;)t.push(e),s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=ee())?null!==(r=null!==(r=v())?r:"")?null!==(l=te())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==t?u=[u,t]:(u=null,ve=o)}else u=null,ve=o;return null!==u&&(u=de(u[0],u[1])),null===u&&(ve=i),we[a]={b:ve,result:u},u}function re(){var t,e="logical_and_operator@"+ve,n=we[e];return n?(ve=n.b,n.result):(t=ve,"&&"===p.substr(ve,2)?(n="&&",ve+=2):(n=null,0===be&&d('"&&"')),null!==n&&(n=new pe({type:"operator",j:"&&"})),null===n&&(ve=t),we[e]={b:ve,result:n},n)}function le(){var t,e,n,r,l,i,o,s,a="logical_and_expression@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,null!==(u=ne())){for(t=[],s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=re())?null!==(r=null!==(r=v())?r:"")?null!==(l=ne())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==e;)t.push(e),s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=re())?null!==(r=null!==(r=v())?r:"")?null!==(l=ne())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==t?u=[u,t]:(u=null,ve=o)}else u=null,ve=o;return null!==u&&(u=de(u[0],u[1])),null===u&&(ve=i),we[a]={b:ve,result:u},u}function ie(){var t,e="logical_xor_operator@"+ve,n=we[e];return n?(ve=n.b,n.result):(t=ve,"^^"===p.substr(ve,2)?(n="^^",ve+=2):(n=null,0===be&&d('"^^"')),null!==n&&(n=new pe({type:"operator",j:"^^"})),null===n&&(ve=t),we[e]={b:ve,result:n},n)}function oe(){var t,e,n,r,l,i,o,s,a="logical_xor_expression@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,null!==(u=le())){for(t=[],s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=ie())?null!==(r=null!==(r=v())?r:"")?null!==(l=le())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==e;)t.push(e),s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=ie())?null!==(r=null!==(r=v())?r:"")?null!==(l=le())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==t?u=[u,t]:(u=null,ve=o)}else u=null,ve=o;return null!==u&&(u=de(u[0],u[1])),null===u&&(ve=i),we[a]={b:ve,result:u},u}function se(){var t,e="logical_or_operator@"+ve,n=we[e];return n?(ve=n.b,n.result):(t=ve,"||"===p.substr(ve,2)?(n="||",ve+=2):(n=null,0===be&&d('"||"')),null!==n&&(n=new pe({type:"operator",j:"||"})),null===n&&(ve=t),we[e]={b:ve,result:n},n)}function ae(){var t,e,n,r,l,i,o,s,a="logical_or_expression@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(o=i=ve,null!==(u=oe())){for(t=[],s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=se())?null!==(r=null!==(r=v())?r:"")?null!==(l=oe())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==e;)t.push(e),s=ve,null!==(e=null!==(e=v())?e:"")?null!==(n=se())?null!==(r=null!==(r=v())?r:"")?null!==(l=oe())?e=[e,n,r,l]:(e=null,ve=s):(e=null,ve=s):(e=null,ve=s):(e=null,ve=s);null!==t?u=[u,t]:(u=null,ve=o)}else u=null,ve=o;return null!==u&&(u=de(u[0],u[1])),null===u&&(ve=i),we[a]={b:ve,result:u},u}function ue(){var t,e,n,r,l,i,o,s,a,u,c,h="conditional_expression@"+ve,f=we[h];return f?(ve=f.b,f.result):(u=f=ve,null!==(t=ae())?(c=ve,null!==(e=null!==(e=v())?e:"")?(63===p.charCodeAt(ve)?(n="?",ve+=1):(n=null,0===be&&d('"?"')),null!==n?null!==(r=null!==(r=v())?r:"")?null!==(l=ce())?null!==(i=null!==(i=v())?i:"")?(58===p.charCodeAt(ve)?(o=":",ve+=1):(o=null,0===be&&d('":"')),null!==o?null!==(s=null!==(s=v())?s:"")?null!==(a=ce())?e=[e,n,r,l,i,o,s,a]:(e=null,ve=c):(e=null,ve=c):(e=null,ve=c)):(e=null,ve=c):(e=null,ve=c):(e=null,ve=c):(e=null,ve=c)):(e=null,ve=c),null!==(e=null!==e?e:"")?t=[t,e]:(t=null,ve=u)):(t=null,ve=u),null!==t&&(e=t[0],t=t[1],Ae=e,t&&(Ae=new pe({type:"ternary",F:e,Ha:t[3],Ga:t[7]})),t=Ae),null===t&&(ve=f),we[h]={b:ve,result:t},t)}function ce(){var t,e,n,r,l,i,o="assignment_expression@"+ve,s=we[o];return s?(ve=s.b,s.result):(i=l=ve,null!==(s=ue())?null!==(t=null!==(t=v())?t:"")?(61===p.charCodeAt(ve)?(e="=",ve+=1):(e=null,0===be&&d('"="')),null===e&&("*="===p.substr(ve,2)?(e="*=",ve+=2):(e=null,0===be&&d('"*="')),null===e&&("/="===p.substr(ve,2)?(e="/=",ve+=2):(e=null,0===be&&d('"/="')),null===e&&("%="===p.substr(ve,2)?(e="%=",ve+=2):(e=null,0===be&&d('"%="')),null===e&&("+="===p.substr(ve,2)?(e="+=",ve+=2):(e=null,0===be&&d('"+="')),null===e&&("-="===p.substr(ve,2)?(e="-=",ve+=2):(e=null,0===be&&d('"-="')),null===e&&("<<="===p.substr(ve,3)?(e="<<=",ve+=3):(e=null,0===be&&d('"<<="')),null===e&&(">>="===p.substr(ve,3)?(e=">>=",ve+=3):(e=null,0===be&&d('">>="')),null===e&&("&="===p.substr(ve,2)?(e="&=",ve+=2):(e=null,0===be&&d('"&="')),null===e&&("^="===p.substr(ve,2)?(e="^=",ve+=2):(e=null,0===be&&d('"^="')),null===e&&("|="===p.substr(ve,2)?(e="|=",ve+=2):(e=null,0===be&&d('"|="')))))))))))),null!==e?null!==(n=null!==(n=v())?n:"")?null!==(r=ce())?s=[s,t,e,n,r]:(s=null,ve=i):(s=null,ve=i):(s=null,ve=i)):(s=null,ve=i):(s=null,ve=i),null!==s&&(t=s[0],e=s[4],s=new pe({type:"binary",j:new pe({type:"operator",j:s[2]}),left:t,right:e})),null===s&&(ve=l),null===s&&(s=ue()),we[o]={b:ve,result:s},s)}function he(){var t,e,n,r,l,i,o,s="condition@"+ve,a=we[s];return a?(ve=a.b,a.result):(o=ve,null!==(a=pt())?null!==(t=v())?null!==(e=xt())?null!==(n=null!==(n=v())?n:"")?(61===p.charCodeAt(ve)?(r="=",ve+=1):(r=null,0===be&&d('"="')),null!==r?null!==(l=null!==(l=v())?l:"")?null!==(i=ce())?a=[a,t,e,n,r,l,i]:(a=null,ve=o):(a=null,ve=o):(a=null,ve=o)):(a=null,ve=o):(a=null,ve=o):(a=null,ve=o):(a=null,ve=o),null===a&&(a=ce()),we[s]={b:ve,result:a},a)}function fe(){for(var t=1,e=1,n=!1,r=0;r<Math.max(ve,_e);r++){var l=p.charAt(r);n="\n"===l?(n||t++,!(e=1)):"\r"===l||"\u2028"===l||"\u2029"===l?(t++,e=1,!0):(e++,!1)}return{ka:t,Da:e}}function pe(t){for(var e in this.id=ke++,this.ka=fe().ka,t)t.hasOwnProperty(e)&&(this[e]=t[e])}function de(t,e){for(var n=t,r=0;r<e.length;r++)n=new pe({type:"binary",j:e[r][1],left:n,right:e[r][3]});return n}function me(t,e,n){n&&(e=e.concat([n])),(n=t[0]).ia=t[1].C,t=n;for(var r=0;r<e.length;r++)t.M=e[r][0],t.M.ia=e[r][1].C,t=t.M;return n}var ye={EOF:y,_:v,additive_expression:Wt,additive_operator:Vt,assignment_expression:ce,attribute_qualifier:dt,attribute_type:mt,bitwise_and_expression:$t,bitwise_and_operator:Kt,bitwise_or_expression:ne,bitwise_or_operator:ee,bitwise_xor_expression:te,bitwise_xor_operator:Qt,bool_constant:Tt,comma:_,comment:i,compound_statement:j,condition:he,conditional_expression:ue,const_qualifier:bt,declaration:q,declarator:at,declarator_array_with_size:st,declarator_list:rt,declarator_list_arrays_have_size:it,declarator_list_no_array:lt,declarator_no_array:ot,do_while:Y,equality_expression:qt,equality_operator:Xt,equals:o,expression_statement:X,external_declaration:c,external_statement:s,external_statement_list:u,field_selector:Rt,float_constant:St,float_exponent:Ut,for_loop:V,fragment_start:function(){var t,e,n,r="fragment_start@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=e=ve,Ee="fs",null!==(l="")?null!==(t=u())?l=[l,t]:(l=null,ve=n):(l=null,ve=n),null!==l&&(l=l[1]),null===l&&(ve=e),we[r]={b:ve,result:l},l)},fully_specified_type:yt,function_call:Lt,function_definition:B,function_identifier:Nt,function_prototype:Q,function_prototype_parameter_list:$,global_declaration:K,identifier:xt,index_accessor:Ot,init_declarator:ut,init_declarator_list:nt,int_constant:Ct,iteration_statement:G,jump_statement:J,keyword:kt,left_brace:h,left_bracket:g,left_paren:f,locally_specified_type:pt,logical_and_expression:le,logical_and_operator:re,logical_or_expression:ae,logical_or_operator:se,logical_xor_expression:oe,logical_xor_operator:ie,macro_call:U,macro_call_line:function(){var t,e,n,r,l="macro_call_line@"+ve,i=we[l];if(i)return ve=i.b,i.result;if(r=n=ve,null!==(i=null!==(i=U())?i:"")){for(t=[],/^[^\n]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[^\\n]"));null!==e;)t.push(e),/^[^\n]/.test(p.charAt(ve))?(e=p.charAt(ve),ve++):(e=null,0===be&&d("[^\\n]"));null!==t?i=[i,t]:(i=null,ve=r)}else i=null,ve=r;return null!==i&&(i={aa:i[0],Ja:i[1].join("")}),null===i&&(ve=n),we[l]={b:ve,result:i},i},macro_call_parameter:S,macro_call_parameter_list:function(){var t,e,n,r,l,i,o,s,a="macro_call_parameter_list@"+ve,u=we[a];if(u)return ve=u.b,u.result;if(l=r=ve,null!==(u=S())){for(t=[],i=ve,null!==(e=_())?null!==(n=S())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==e;)t.push(e),i=ve,null!==(e=_())?null!==(n=S())?e=[e,n]:(e=null,ve=i):(e=null,ve=i);null!==t?u=[u,t]:(u=null,ve=l)}else u=null,ve=l;return null!==u&&(o=u[0],s=u[1],u=[o].concat(s.map(function(t){return t[1]}))),null===u&&(ve=r),we[a]={b:ve,result:u},u},macro_identifier:A,macro_paren_parameter:C,matrix:At,member_list:ct,multiplicative_expression:Zt,multiplicative_operator:Mt,newLine:m,noNewlineComment:r,noNewlineWhitespace:a,parameter_declaration:et,parameter_list:jt,parameter_qualifier:tt,paren_expression:Ft,postfix_expression:Dt,postfix_expression_no_repeat:Bt,precision_qualifier:vt,precision_type:ft,preprocessor_define:F,preprocessor_else:O,preprocessor_else_if:z,preprocessor_end:R,preprocessor_external_branch:D,preprocessor_if:T,preprocessor_operator:E,preprocessor_parameter_list:I,preprocessor_statement_branch:n,primary_expression:zt,relational_expression:Jt,relational_operator:Gt,reserved:function(){var t,e,n,r,l="reserved@"+ve,i=we[l];if(i)return ve=i.b,i.result;for(be++,r=ve,i=[],t=It();null!==t;)i.push(t),t=It();if(null!==i)if("__"===p.substr(ve,2)?(t="__",ve+=2):(t=null,0===be&&d('"__"')),null!==t){for(e=[],/^[A-Za-z_0-9]/.test(p.charAt(ve))?(n=p.charAt(ve),ve++):(n=null,0===be&&d("[A-Za-z_0-9]"));null!==n;)e.push(n),/^[A-Za-z_0-9]/.test(p.charAt(ve))?(n=p.charAt(ve),ve++):(n=null,0===be&&d("[A-Za-z_0-9]"));null!==e?i=[i,t,e]:(i=null,ve=r)}else i=null,ve=r;else i=null,ve=r;return 0===--be&&null===i&&d("reserved name"),we[l]={b:ve,result:i},i},right_brace:k,right_bracket:w,right_paren:x,selection_statement:Z,semicolon:b,shift_expression:Yt,shift_operator:Ht,simple_statement:M,single_underscore_identifier:It,statement_list:L,statement_no_new_scope:N,statement_with_scope:P,struct_definition:ht,type_name:wt,type_qualifier:_t,unary_expression:Pt,vector:Et,vertex_start:function(){var t,e,n,r="vertex_start@"+ve,l=we[r];return l?(ve=l.b,l.result):(n=e=ve,Ee="vs",null!==(l="")?null!==(t=u())?l=[l,t]:(l=null,ve=n):(l=null,ve=n),null!==l&&(l=l[1]),null===l&&(ve=e),we[r]={b:ve,result:l},l)},void_type:gt,while_loop:H,while_statement:W};if(void 0!==t){if(void 0===ye[t])throw Error("Invalid rule name: "+l(t)+".")}else t="external_statement_list";var ve=0,be=0,_e=0,ge=[],we={},xe={},ke=0,Ee="vs",Ae=ye[t]();if(null!==Ae&&ve===p.length)return Ae;var Ie=fe();throw new la.SyntaxError(function(){var t;t:{(t=ge).sort();for(var e=null,n=[],r=0;r<t.length;r++)t[r]!==e&&(n.push(t[r]),e=t[r]);switch(n.length){case 0:t="end of input";break t;case 1:t=n[0];break t;default:t=n.slice(0,n.length-1).join(", ")+" or "+n[n.length-1]}}return"Expected "+t+" but "+(e=(e=Math.max(ve,_e))<p.length?l(p.charAt(e)):"end of input")+" found."}(),Ie.ka,Ie.Da)}function ma(t){return t.split(/_/g).map(function(t){return t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase()}).join("")}la.SyntaxError=function(t,e,n){this.name="SyntaxError",this.message=t,this.line=e,this.column=n},la.SyntaxError.prototype=Error.prototype,["varying mediump vec4 gl_FragCoord;","varying bool gl_FrontFacing;","varying mediump vec2 gl_PointCoord;"].map(function(t){return z(t,"global_declaration")});var qa=Array.prototype,D=qa.forEach?function(t,e,n){qa.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,l="string"==typeof t?t.split(""):t,i=0;i<r;i++)i in l&&e.call(n,l[i],i,t)};function ra(t,e,n){for(var r="string"==typeof t?t.split(""):t,l=t.length-1;0<=l;--l)l in r&&e.call(n,r[l],l,t)}var sa=qa.every?function(t,e,n){return qa.every.call(t,e,n)}:function(t,e,n){for(var r=t.length,l="string"==typeof t?t.split(""):t,i=0;i<r;i++)if(i in l&&!e.call(n,l[i],i,t))return!1;return!0};function Ha(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ia(){}function E(t,e){if(e&&e.type){var n=t.i(e);n&&n.apply(t,[e]),(n=t.m(e))?n.apply(t,[e]):Ja(t,e),(n=t.u(e))&&n.apply(t,[e])}}function Ka(t,e){D(e,function(t){E(this,t)},t)}function Ja(t,e){for(var n in e){var r=e[n];if("array"==ea(r))Ka(t,r);else{var l=typeof r;("object"==l&&null!=r||"function"==l)&&r.type&&E(t,r)}}}function F(t,e){this.c=t||"\n",this.h=!!e,this.a="",this.f=0}function G(t,e,n){this.a=t,this.c=e||0,this.f=n||2}Ia.prototype.i=function(t){return this["beforeVisit"+ma(t.type)]},Ia.prototype.u=function(t){return this["afterVisit"+ma(t.type)]},Ia.prototype.m=function(t){return this["visit"+ma(t.type)]},v(F,Ia),ka("glslunit.Generator",F);var La={function_call:new G(0,2),identifier:new G(0,2),float:new G(0,2),int:new G(0,2),bool:new G(0,2),postfix:new G(1,0,1),unary:new G(2,1,1),"*":new G(3,0),"/":new G(3),"%":new G(3),"+":new G(4,0),"-":new G(4),"<<":new G(5),">>":new G(5),"<":new G(6),">":new G(6),"<=":new G(6),">=":new G(6),"==":new G(7),"!=":new G(7),"&":new G(8,0),"^":new G(9,0),"|":new G(10,0),"&&":new G(11,0),"^^":new G(12,0),"||":new G(13,0),ternary:new G(14,1,3),"=":new G(15),"-=":new G(15),"+=":new G(15),"*=":new G(15),"/=":new G(15),"%=":new G(15),"<<=":new G(15),">>=":new G(15),"&=":new G(15),"^=":new G(15),"|=":new G(15)};function I(t,e,n){return E(e=new F(e,n),t),e.a}function Ma(t,e,n){return e?t+e+n:""}function Na(t,e,n){for(var r=0;r<e.length;r++)0!=r&&(t.a+=n),E(t,e[r])}function ib(t){t.h&&(t.a+=t.c+Array(t.f+1).join("  "))}function jb(t){t.h&&"  "==t.a.slice(-2)&&(t.a=t.a.slice(0,-2))}function kb(t,e){E(t,e.ma),t.a+=" "+e.name+"(",Na(t,e.l,","),t.a+=")"}function lb(t,e){t.a+="while(",E(t,e.F),t.a+=")"}function nb(t){function e(t){return t.toLowerCase().replace(/^0*|\+/g,"").replace(/(?:(\.[1-9]+)|\.)0*e/g,"$1e")}if(0==t)return"0.";var n=e(""+t);return t=e(t.toExponential()),-1==n.indexOf(".")&&-1==n.indexOf("e")&&(n+="."),n.length<=t.length?n:t}function mb(t,e,n,r){var l=La["binary"==e.type?e.j.j:e.type];n=La["binary"==n.type?n.j.j:n.type];var i;(i=l.a>n.a||l.a==n.a&&!(0==n.c&&0==r||1==n.c&&r==n.f-1))&&(t.a+="("),E(t,e),i&&(t.a+=")")}function J(t,e){this.U=t||null,this.o=!!e,this.D={},this.h=[],this.a=[],this.v={},this.c=[]}function Xb(t){var n={};return ra(t.h.concat([t.a]),function(t){D(t,function(e){"declarator"==e.type?D(e.A,function(t){da(n[t.name.name])||(n[t.name.name]=e)},this):"parameter"==e.type&&(n[e.name]=e)},this)},t),n}function Yb(t){var e=new J;return E(e,t),e.v}function Zb(t,e){var n=new J(e,!0);return E(n,t),n.D}function $b(t){this.c=[],this.a=[],this.f=t}function ac(t,e){var n=new $b(e);return E(n,t),n.c}function K(){this.a={},this.a[bc]=[],this.c=bc}F.prototype.za=function(t){this.a+=Ma("",t.qualifier," "),this.a+="struct",this.a+=Ma(" ",t.name,""),this.a+="{",this.f++,Na(this,t.Ia,""),this.f--,jb(this),this.a+="}",t.A&&Na(this,t.A,","),this.a+=";",ib(this)},F.prototype.visitStructDefinition=F.prototype.za,F.prototype.ya=function(t){this.a+="{",this.f++,ib(this),Na(this,t.C,""),this.f--,jb(this),this.a+="}",ib(this)},F.prototype.visitScope=F.prototype.ya,F.prototype.va=function(t){this.a+="precision "+t.precision+" "+t.typeName+";",ib(this)},F.prototype.visitPrecision=F.prototype.va,F.prototype.ha=function(t){this.a+="invariant ",Na(this,t.Ea,","),this.a+=";",ib(this)},F.prototype.visitInvariant=F.prototype.ha,F.prototype.ta=function(t){this.a+=Ma("",t.qa," "),this.a+=Ma("",t.la," "),this.a+=Ma("",t.precision," "),this.a+=t.Ka+" "+t.name,t.$&&(this.a+="[",E(this,t.$),this.a+="]")},F.prototype.visitParameter=F.prototype.ta,F.prototype.da=function(t){kb(this,t),this.a+=";",ib(this)},F.prototype.visitFunctionPrototype=F.prototype.da,F.prototype.ca=function(t){kb(this,t),E(this,t.body)},F.prototype.visitFunctionDeclaration=F.prototype.ca,F.prototype.wa=function(t){var e=this.a.slice(-1*this.c.length);e&&e!=this.c&&(this.a+=this.c),this.a+=t.B,"#define"==t.B?(this.a+=" "+t.identifier,t.l&&(this.a+="(",Na(this,t.l,","),this.a+=")"),this.a+=Ma(" ",t.pa,"")):this.a+=Ma(" ",t.value,""),this.a+=this.c,t.ia&&(Na(this,t.ia,""),t.M&&E(this,t.M),"#if"==t.B.slice(0,3)&&((e=this.a.slice(-1*this.c.length))!=this.c&&(this.a+=this.c),this.a+="#endif"+this.c))},F.prototype.visitPreprocessor=F.prototype.wa,F.prototype.U=function(t){this.a+="do","scope"!=t.body.type&&(this.a+=" "),E(this,t.body),lb(this,t)},F.prototype.visitDoStatement=F.prototype.U,F.prototype.Ca=function(t){lb(this,t),E(this,t.body)},F.prototype.visitWhileStatement=F.prototype.Ca,F.prototype.ba=function(t){this.a+="for(",E(this,t.H),E(this,t.F),this.a+=";",E(this,t.Fa),this.a+=")",E(this,t.body)},F.prototype.visitForStatement=F.prototype.ba,F.prototype.fa=function(t){this.a+="if(",E(this,t.F),this.a+=")",E(this,t.body),t.M&&(this.a+="else","scope"!=t.M.type&&(this.a+=" "),E(this,t.M))},F.prototype.visitIfStatement=F.prototype.fa,F.prototype.S=function(t){E(this,t.name),t.isArray&&(this.a+="[",t.$&&E(this,t.$),this.a+="]"),t.H&&(this.a+="=",E(this,t.H))},F.prototype.visitDeclaratorItem=F.prototype.S,F.prototype.K=function(t){E(this,t.w),this.a+=" ",Na(this,t.A,","),this.a+=";",ib(this)},F.prototype.visitDeclarator=F.prototype.K,F.prototype.Ba=function(t){this.a+=Ma("",t.qualifier," "),this.a+=Ma("",t.precision," "),this.a+=t.name},F.prototype.visitType=F.prototype.Ba,F.prototype.X=function(t){E(this,t.N),this.a+=";",ib(this)},F.prototype.visitExpression=F.prototype.X,F.prototype.g=function(t){this.a+=t.type,t.value&&(this.a+=" ",E(this,t.value)),this.a+=";",ib(this)},F.prototype.visitJump=F.prototype.g,F.prototype.xa=F.prototype.g,F.prototype.visitReturn=F.prototype.xa,F.prototype.W=F.prototype.g,F.prototype.visitBreak=F.prototype.W,F.prototype.T=F.prototype.g,F.prototype.visitDiscard=F.prototype.T,F.prototype.J=F.prototype.g,F.prototype.visitContinue=F.prototype.J,F.prototype.ra=function(t){this.a.slice(-1)==t.j.j&&(this.a+=" "),E(this,t.j),mb(this,t.N,t,0)},F.prototype.visitUnary=F.prototype.ra,F.prototype.ua=function(t){mb(this,t.N,t,0),E(this,t.j)},F.prototype.visitPostfix=F.prototype.ua,F.prototype.sa=function(t){this.a+=t.j},F.prototype.visitOperator=F.prototype.sa,F.prototype.Y=function(t){this.a+="."+t.selection},F.prototype.visitFieldSelector=F.prototype.Y,F.prototype.D=function(t){this.a+="[",E(this,t.index),this.a+="]"},F.prototype.visitAccessor=F.prototype.D,F.prototype.v=function(t){this.a+=t.I+"(",Na(this,t.l,","),this.a+=")"},F.prototype.visitFunctionCall=F.prototype.v,F.prototype.ea=function(t){this.a+=t.name},F.prototype.visitIdentifier=F.prototype.ea,F.prototype.Z=function(t){this.a+=nb(t.value)},F.prototype.visitFloat=F.prototype.Z,F.prototype.o=function(t){this.a+=t.value},F.prototype.visitValue=F.prototype.o,F.prototype.ga=function(t){var e=t.value;t=e.toString(10),e=(e<0?"-":"")+"0x"+Math.abs(e).toString(16).toLowerCase(),this.a+=t.length<=e.length?t:e},F.prototype.visitInt=F.prototype.ga,F.prototype.P=F.prototype.o,F.prototype.visitBool=F.prototype.P,F.prototype.O=function(t){mb(this,t.left,t,0),E(this,t.j),mb(this,t.right,t,1)},F.prototype.visitBinary=F.prototype.O,F.prototype.Aa=function(t){mb(this,t.F,t,0),this.a+="?",mb(this,t.Ha,t,1),this.a+=":",mb(this,t.Ga,t,2)},F.prototype.visitTernary=F.prototype.Aa,v(J,Ia),ka("glslunit.VariableScopeVisitor",J),J.prototype.g=function(){this.h.push(this.a),this.a=[],[].push.apply(this.a,this.c),this.c=[]},J.prototype.beforeVisitScope=J.prototype.g,J.prototype.f=function(t){this.v[t.id]=this.a,t==this.U&&(this.D=Xb(this)),this.a=this.h.pop()},J.prototype.afterVisitScope=J.prototype.f,J.prototype.K=J.prototype.g,J.prototype.beforeVisitRoot=J.prototype.K,J.prototype.O=function(t){this.o||this.f(t)},J.prototype.afterVisitPreprocessor=J.prototype.O,J.prototype.J=function(){this.o||this.g()},J.prototype.beforeVisitPreprocessor=J.prototype.J,J.prototype.P=J.prototype.f,J.prototype.afterVisitRoot=J.prototype.P,J.prototype.W=function(t){this.a.push(t)},J.prototype.beforeVisitDeclarator=J.prototype.W,J.prototype.T=function(t){this.c=t.l},J.prototype.beforeVisitFunctionDeclaration=J.prototype.T,J.prototype.S=function(){this.c=[]},J.prototype.afterVisitFunctionDeclaration=J.prototype.S,J.getScopeToDeclarationMap=Yb,v($b,Ia),$b.prototype.g=function(t){this.f(t,this.a.slice(0,-1))&&this.c.push(t),Ja(this,t)},$b.prototype.i=function(){return ia(Array.prototype.push,this.a)},$b.prototype.u=function(){return ia(Array.prototype.pop,this.a)},$b.prototype.m=function(){return this.g},v(K,Ia);var bc="#";function Oc(t){t=ac(t,function(t,e){return"declarator"==t.type&&"struct_definition"==e.slice(-1)[0].type});var e=[];return D(t,function(t){e[t.id]=!0}),e}function M(t){var e,n={};for(e in t)n[e]=t[e];return n}function N(){this.c=[]}K.prototype.g=function(t){t.name in this.a||(this.a[t.name]=[]),this.c=t.name},K.prototype.beforeVisitFunctionDeclaration=K.prototype.g,K.prototype.f=function(){this.c=bc},K.prototype.afterVisitFunctionDeclaration=K.prototype.f,K.prototype.h=function(t){this.a[this.c].push(t.I),Ja(this,t)},K.prototype.visitFunctionCall=K.prototype.h;var Pc=-1;function O(t){return(t=M(t)).id=Pc--,t}function Qc(t,e,n,r){var l=t[n+ma(e.type)];return ia(function(n){D(this.c,function(t){var e=r(t).apply(t,[n]);e&&e.apply(t,[n])}),l&&l.apply(this,[n])},t)}function P(t,e){var n=!1;(l=t.P(e))&&l.apply(t,[e]);var r,l=O(e);for(r in e){var i=e[r];if("array"==ea(i)){l[r]=[];for(var o=0;o<i.length;o++){var s=i[o],a=P(t,s);a!=s&&(n=!0),null!=a&&Array.prototype.push.apply(l[r],"array"==ea(a)?a:[a])}}else i&&i.type&&((a=P(t,i))!=i&&(n=!0,null!=a?l[r]=a:delete l[r]))}return l=n?l:e,(r=t.W(e))&&(l=r.apply(t,[l,e])),(n=t.O(e))&&n.apply(t,[e,l]),l}function Rc(t,e,n,r,l){this.c=[],this.u=l,this.i=t,this.a=e,this.h=n,this.f=r}function Sc(){this.s=this.a="",this.c=[]}function Tc(){this.f=this.s="",this.c=this.a=this.g=0}function Uc(){this.type=this.a=this.s=""}function R(){this.i=[],this.f=[],this.h={},this.L={},this.R={},this.g=[],this.a={},this.c={},this.u={}}function Vc(t){D(t.f,function(t){""==t.s&&(t.s=t.a)});var e,n={};for(e in t.L){var r=t.L[e];n[r.s]=r}for(var l in e={},t.R)e[(r=t.R[l]).s]=r;Wc(t,t.c,n,e),Wc(t,t.a,n,e)}function Wc(t,e,o,s){e=ac(e,function(t){return"declarator"==t.type&&("attribute"==t.w.qualifier||"uniform"==t.w.qualifier)}),D(e,function(i){D(i.A,function(t){t=t.name.name;var e=i.w.name;if("attribute"==i.w.qualifier){var n=o[t];if(!n){(n=new Tc).s=t,n.f=t;var r=I(i),l="".search(r);e=parseInt(e.slice(3,4),10);n.g=isNaN(e)?1:e,n.a=l,n.c=r.length,this.L[t]=n}}else(n=s[t])||((n=new Uc).s=t,n.a=t,n.type=e,this.R[t]=n)},this)},t)}function T(){this.c=[],this.a=[]}N.prototype.W=function(t){return this["transform"+ma(t.type)]},N.prototype.P=function(t){return Qc(this,t,"beforeTransform",function(t){return t.i})},N.prototype.O=function(t){return Qc(this,t,"afterTransform",function(t){return t.u})},v(Rc,N),ka("glslunit.SpliceTransformer",Rc),Rc.prototype.g=function(t){if(t!=this.i)return t;if("array"!=ea((t=O(t))[this.a]))throw this.a+" wasn't an array.";var e=this.u.map(O);return t[this.a]=Ha(t[this.a]),[].splice.apply(t[this.a],[this.h,this.f].concat(e)),t},Rc.prototype.W=function(){return this.g},Sc.prototype.clone=function(){var t=M(this);return t.c=Ha(this.c),t},R.prototype.clone=function(){var t=M(this);return t.L=M(this.L),t.R=M(this.R),t.h=M(this.h),t.i=Ha(this.i),t.u=M(this.u),t.f=this.f.map(function(t){return M(t)}),t.g=this.g.map(function(t){return t.clone()}),t},R.prototype.P=function(t){return I(this.c,t||"\\n",!1)},R.prototype.getVertexSource=R.prototype.P,R.prototype.o=function(t){return I(this.a,t||"\\n",!1)},R.prototype.getFragmentSource=R.prototype.o,R.prototype.v=function(t){return"".replace(/\n/g,t||"\\n").replace(/'/g,"\\'")},R.prototype.getOriginalFragmentSource=R.prototype.v,R.prototype.D=function(t){return"".replace(/\n/g,t||"\\n").replace(/'/g,"\\'")},R.prototype.getOriginalVertexSource=R.prototype.D,R.prototype.m=function(){var t,e=[];for(t in this.L)e.push(this.L[t]);return 0<e.length&&(e[e.length-1].last=!0),e},R.prototype.getAttributes=R.prototype.m,R.prototype.O=function(){var t,e=[];for(t in this.R)e.push(this.R[t]);return 0<e.length&&(e[e.length-1].last=!0),e},R.prototype.getUniforms=R.prototype.O,v(T,N);var Xc={vec2:2,vec3:3,vec4:4,bvec2:2,bvec3:3,bvec4:4,ivec2:2,ivec3:3,ivec4:4,mat2:4,mat3:9,mat4:16,float:1,int:1,bool:1};function Yc(t){return"function_call"==(t=t.a.slice(-2)[0]).type&&t.I in Xc}function U(){this.c=[]}function Zc(t,e){var n=t[e],r=t;return n&&"scope"==n.type&&1==n.C.length&&((r=O(t))[e]=n.C[0]),r}function V(){this.c=[],this.a={}}function $c(t,e,n){e in t.a&&!t.a[e]&&(t.a[e]=!0,D(n[e],function(t){$c(this,t,n)},t))}function W(t){this.c=[],this.J={},this.h=null,this.a=[],this.o=[],this.v=[],this.i=t}function ad(t,e,n){var r=I(e.w),l=null;return 0<t.a.length&&(l=t.a.slice(-1)[0][r]),null!=e&&(t.i||"attribute"!=e.w.qualifier)&&"const"!=e.w.qualifier&&(!l||1<l.length)&&!(e.id in t.o)&&!(e.id in t.v)&&!(n&&!sa(e.A,function(t){return!da(t.H)}))}function bd(t){this.a={},this.i=t,this.f={},this.c={},D(cd,function(t){this.a[t]=[]},this)}T.prototype.P=function(){return ia(Array.prototype.push,this.a)},T.prototype.O=function(){return ia(Array.prototype.pop,this.a)},T.prototype.i=function(t){if(Yc(this)&&Math.abs(t.value)<65536&&t.value==Math.round(t.value)){var e=O(t);return e.type="int",e.value=Number(t.value),e}return t},T.prototype.o=T.prototype.i,T.prototype.transformFloat=T.prototype.o,T.prototype.m=T.prototype.i,T.prototype.transformBool=T.prototype.m,T.prototype.h=function(t){if(r=Xc[t.I]){if(Yc(this)&&t.l.length==r)return t.l;if(t.l&&1<t.l.length){var e=I(t.l[0]),n=!1;if("mat"==t.I.slice(0,3)){if(t.l.length==r){for(var r=!0,l=parseInt(t.I.slice(-1),10),i=0;i<l&&r;i++)for(var o=0;o<l&&r;o++)r=I(t.l[i*l+o])==(i==o?e:"0");r&&(n=!0)}}else sa(t.l,function(t){return I(t)==e})&&(n=!0);if(n)return(n=O(t)).l=[t.l[0]],n}}return t},T.prototype.transformFunctionCall=T.prototype.h,T.prototype.f=function(){return"ConstructorMinifier"},T.prototype.g=function(){return[]},T.prototype.u=function(t,e){var n=new T;return e.c=P(new T,e.c),e.a=P(n,e.a),[]},v(U,N),U.prototype.h=function(t){return Zc(t=Zc(t,"body"),"elseBody")},U.prototype.transformIfStatement=U.prototype.h,U.prototype.m=function(t){return Zc(t,"body")},U.prototype.transformWhileStatement=U.prototype.m,U.prototype.a=function(t){return Zc(t,"body")},U.prototype.transformDoStatement=U.prototype.a,U.prototype.i=function(t){return Zc(t,"body")},U.prototype.transformForStatement=U.prototype.i,U.prototype.f=function(){return"BraceReducer"},U.prototype.g=function(){return[]},U.prototype.u=function(t,e){var n=new U;return e.c=P(new U,e.c),e.a=P(n,e.a),[]},v(V,N),V.prototype.h=function(t){var e=new K;for(var n in E(e,t),t=e.a,this.a={},t)this.a[n]=!1;$c(this,"main",t),$c(this,bc,t)},V.prototype.beforeTransformRoot=V.prototype.h,V.prototype.i=function(t){return this.a[t.name]?t:null},V.prototype.transformFunctionDeclaration=V.prototype.i,V.prototype.m=V.prototype.i,V.prototype.transformFunctionPrototype=V.prototype.m,V.prototype.f=function(){return"DeadFunctionRemover"},V.prototype.g=function(){return[]},V.prototype.u=function(t,e){var n=new V;return e.c=P(new V,e.c),e.a=P(n,e.a),[]},v(W,N),W.prototype.X=function(e){var t=ac(e,function(t){return"for_statement"==t.type});D(t,function(t){this.o[t.H.id]=!0},this),this.v=Oc(e);var r;t=Yb(e);for(r in t){var l={};D(t[+r],function(t){if("declarator"==t.type&&ad(this,t,r==e.id)){var n=I(t.w);l[n]||(l[n]=[]),D(t.A,function(t){var e=t;e.H&&delete(e=O(t)).H,l[n].push(e)},this)}},this),this.J[+r]=l}this.m(e)},W.prototype.beforeTransformRoot=W.prototype.X,W.prototype.U=function(t){this.h=t},W.prototype.beforeTransformDeclarator=W.prototype.U,W.prototype.T=function(){this.h=null},W.prototype.afterTransformDeclarator=W.prototype.T,W.prototype.m=function(t){this.a.push(this.J[t.id])},W.prototype.beforeTransformScope=W.prototype.m,W.prototype.S=W.prototype.m,W.prototype.beforeTransformPreprocessor=W.prototype.S,W.prototype.D=function(){this.a.pop()},W.prototype.afterTransformScope=W.prototype.D,W.prototype.K=W.prototype.D,W.prototype.afterTransformPreprocessor=W.prototype.K,W.prototype.Z=function(t){return ad(this,this.h,1==this.a.length)?t.H?{id:Pc--,type:"expression",N:{id:Pc--,type:"binary",j:{id:Pc--,type:"operator",j:"="},left:t.name,right:t.H}}:null:t},W.prototype.transformDeclaratorItem=W.prototype.Z,W.prototype.Y=function(t){if(!ad(this,t,1==this.a.length))return t;var e=[],n=I(t.w),r=this.a.slice(-1)[0],l=r[n];return l&&((e=O(t)).A=l,e=[e],delete r[n]),t.A&&0!=t.A.length&&Array.prototype.push.apply(e,t.A),e},W.prototype.transformDeclarator=W.prototype.Y,W.prototype.f=function(){return"DeclarationConsolidation"},W.prototype.g=function(){return[]},W.prototype.u=function(t,e){var n=new W(this.i);return e.c=P(new W(this.i),e.c),e.a=P(n,e.a),[]};var cd=[0,1];function dd(t,e){t.c[e.f()]=e,t.a[1].push(e)}function ed(t){return D(cd,function(t){D(this.a[t],function(t){fd(this,t,[])},this)},t),t.i}function fd(t,e,n){var r=e.f(),l=n.concat(r);if(-1!=n.indexOf(r))throw"Circular dependcy in compiler steps.  "+l.join("->");r in t.f||(D(e.g(),function(t){t in this.c&&fd(this,this.c[t],l)},t),t.f[r]=e.u(t.f,t.i))}function gd(){this.c={},this.g={},this.f=this.a=0}function hd(t){var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[t%52];for(t=Math.floor(t/52);0<t;)e+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890"[--t%62],t=Math.floor(t/62);return e}function id(t){return"_"+hd(t)}function jd(t,e){if(t.c[e])return t.c[e];for(var n=null;!n||n in t.g;)n=hd(t.a++);return t.g[n]=!0,t.c[e]=n}function kd(t,e){return t.c[e]||e}function Y(t){this.c=[],this.K=[],this.a=new gd,this.h=null,this.m=0,this.D=t,this.J=[]}function ld(t,e){if(!e)return!1;var n=e.w.qualifier;return(t.D||"uniform"!=n&&"attribute"!=n)&&!(e.id in t.J)}function Z(){this.c=[],this.a=new gd}gd.prototype.clone=function(){var t=new gd;return t.c=M(this.c),t.g=M(this.g),t.a=this.a,t.f=this.f,t},v(Y,N),Y.prototype.ea=function(t){this.J=Oc(t);var e=[];for(var n in t=Zb(t,t)){var r=t[n];ld(this,r)&&("varying"==(r=r.w.qualifier)||"uniform"==r?jd(this.a,n):e.push(n))}this.v(),D(e,function(t){jd(this.a,t)},this)},Y.prototype.beforeTransformRoot=Y.prototype.ea,Y.prototype.ba=function(t){this.h=t},Y.prototype.beforeTransformDeclarator=Y.prototype.ba,Y.prototype.Y=function(){this.h=null},Y.prototype.afterTransformDeclarator=Y.prototype.Y,Y.prototype.ha=function(t){var e=O(t);return e.name=jd(this.a,t.name),e},Y.prototype.transformParameter=Y.prototype.ha,Y.prototype.v=function(){this.K.push(this.a),this.a=this.a.clone()},Y.prototype.o=function(){this.m=Math.max(this.m,this.a.a),this.a=this.K.pop()},Y.prototype.fa=Y.prototype.v,Y.prototype.beforeTransformScope=Y.prototype.fa,Y.prototype.Z=Y.prototype.o,Y.prototype.afterTransformScope=Y.prototype.Z,Y.prototype.U=Y.prototype.o,Y.prototype.afterTransformRoot=Y.prototype.U,Y.prototype.ca=Y.prototype.v,Y.prototype.beforeTransformFunctionDeclaration=Y.prototype.ca,Y.prototype.S=Y.prototype.o,Y.prototype.afterTransformFunctionDeclaration=Y.prototype.S,Y.prototype.da=Y.prototype.v,Y.prototype.beforeTransformFunctionPrototype=Y.prototype.da,Y.prototype.T=Y.prototype.o,Y.prototype.afterTransformFunctionPrototype=Y.prototype.T,Y.prototype.X=function(t){var e,n=t.name.name;return this.h&&(e=this.h.w.qualifier),ld(this,this.h)&&(n=jd(this.a,t.name.name)),this.i&&this.h&&("attribute"==e?this.i.L[t.name.name].s=n:"uniform"==e&&(this.i.R[t.name.name].s=n)),t},Y.prototype.beforeTransformDeclaratorItem=Y.prototype.X,Y.prototype.ga=function(t){var e=kd(this.a,t.name);return t.name!=e&&((t=O(t)).name=e),t},Y.prototype.transformIdentifier=Y.prototype.ga,Y.prototype.f=function(){return"VariableMinifier"},Y.prototype.g=function(){return[]},Y.prototype.u=function(t,e){var n=new Y(this.D);(n.i=e).c=P(n,e.c);var r=new Y(this.D);return r.i=e,r.a=n.a,e.a=P(r,e.a),{vertexMaxId:n.m,fragmentMaxId:r.m}},v(Z,N);var md={main:!0};function od(t,e,n,r){this.c=t,this.a=e,this.i=n,this.h=r}function pd(t){this.c=[],this.f=!1,this.g=t,this.a=!0}function qd(t,e){t.a&&(t.a=0==ac(e,ia(function(t,e){if("function_call"==t.type||"operator"==t.type||"int"==t.type||"binary"==t.type||"unary"==t.type)return!1;if("identifier"!=t.type)return!0;var n=this.g[t.name];return(n=da(n)&&n.a)&&(this.f=!0),!(n||0<e.length&&"function_call"==e.slice(-1)[0].type)},t)).length)}function rd(c,f){var k=z(c,"condition"),n=new pd(f),k=P(n,k),g="";if(n.a&&(g=sd(I(k),f),k=z(g,"condition"),qd(n,k)),g={ja:n.a,G:n.f,value:0,na:g},n.a&&!n.f)try{g.value=Number(eval(I(k)))}catch(t){g.ja=!1}return g}Z.prototype.i=function(t){t.name in md||jd(this.a,t.name)},Z.prototype.beforeTransformFunctionDeclaration=Z.prototype.i,Z.prototype.h=function(t){var e=kd(this.a,t.name);return e!=t.name&&((t=O(t)).name=e),t},Z.prototype.transformFunctionDeclaration=Z.prototype.h,Z.prototype.o=function(t){var e=kd(this.a,t.I);return e!=t.I&&((t=O(t)).I=e),t},Z.prototype.transformFunctionCall=Z.prototype.o,Z.prototype.m=Z.prototype.i,Z.prototype.beforeTransformFunctionPrototype=Z.prototype.m,Z.prototype.v=Z.prototype.h,Z.prototype.transformFunctionPrototype=Z.prototype.v,Z.prototype.f=function(){return"Function Minifier"},Z.prototype.g=function(){return["VariableMinifier"]},Z.prototype.u=function(t,e){var n=0,r=0;"VariableMinifier"in t&&(n=t.VariableMinifier.vertexMaxId,r=t.VariableMinifier.fragmentMaxId);var l=new Z;return l.a.a=n,n=new Z,e.c=P(l,e.c),n.a.a=r,e.a=P(n,e.a),[]},v(pd,N);var td=/([\.=;,\(\)\[\]{}\+\-:?!\|&<>\/\*]|[ \t\n]+)/g,ud=/[A-Za-z_][A-Za-z_0-9]*/g;function vd(t,e){this.name=t.identifier,this.arguments=t.l?t.l.map(function(t){return t.name}):null,this.c=t.pa.split(td).filter(function(t){return 0<t.length}),this.a=e||null}function wd(t,e,n){if(t in n)return t;var r=e[t],l=t;if(da(r))if(r.a)l=r.a.s||r.name;else if(!r.arguments){var i=M(n);i[t]=!0,l=r.c.map(function(t){return wd(t,e,i)}).join("")}return l}function xd(t,e,n,r){for(var l in t){var i,o=e[t[l]];if(da(o)&&o.arguments)if((i=z(i=t.slice(l).join(""),"macro_call_line")).aa&&i.aa.l.length==o.arguments.length&&!(i.aa.oa.name in r)){var s=i.aa,a=M(r);a[i.aa.oa.name]=!0;s=s.l.map(function(t){return sd(I(t),e,n,a)});var u,c={};for(u in o.arguments)c[o.arguments[u]]=s[u];return o=sd(o.c.join(""),e,c,a),i=sd(i.Ja,e,n,r),sd(t.slice(0,l).join("")+o+i,e,n,r)}}return t.join("")}function sd(t,e,n,r){n=n||{},r=r||{};var l,i=M(e);for(l in n)i[l]=new vd(z("#define "+l+" "+n[l],"preprocessor_define"));return xd(t=t.split(td).filter(function(t){return 0<t.length}).map(function(t){return wd(t,i,{})}),e,n,r)}function yd(t,e,n){this.status=t,this.V=e,this.G=n}function zd(t,e,n){var o={};D(e,function(t){var e=z("#define "+t.a,"preprocessor_define");o[t.a]=new vd(e,t),t.s&&(e=z("#define "+t.s,"preprocessor_define"),o[t.s]=new vd(e,t))}),t=I(t);var s=[new yd(1,!0,!1)],a=0,u=[];return D(t.split(/\n/g),function(t){var e=s.slice(-1)[0],n=0==e.status;if(0!=t.search("#define")||n)if(0!=t.search("#undef")||n)if(0==t.search("#if")){if(t=z(e=t,"preprocessor_if"),n)s.push(new yd(0,!1,!1)),e=!1;else{var r=!1,l=!1;if("#ifdef"==t.B||"#ifndef"==t.B){var i=t.value.match(ud)[0];if(!da(i))throw"Invalid "+t.B+": "+e;da(i=o[i])&&i.a?(r=!0,e=t.B+" "+(i.a.s||i.name)):l=da(i)==("#ifndef"==t.B)}else{if(!(l=rd(t.value,o)).ja)throw"Invalid "+t.B+": "+e;e="#if "+l.na,r=l.G,l=0==l.value}r?s.push(new yd(2,!1,!0)):s.push(new yd(l?0:1,!l,!1)),r&&u.push(e),e=r}a+=e&&!n}else if(0==t.search("#else"))n=!1,0!=s.slice(-2,-1)[0].status&&(e=e.G&&!e.V?(n=!0,r=1,l=e.V,!0):0!=e.status||e.V?(l=!(r=0),e.G):(r=1,!(l=!0)),s[s.length-1]=new yd(r,l,e)),n&&u.push(t);else if(0==t.search("#elif")){if(n=t,t=!1,0!=s.slice(-2,-1)[0].status){if(!(r=rd((l=z(n,"preprocessor_else_if")).value,o)).ja)throw"Invalid "+l.B+": "+n;n="#elif "+r.na,l=0==r.value,e.G&&!e.V?(e=!0,l=r.G?!(r=2):l?(r=0,!1):(n="#else",r=1,!0)):e.V?(r=0,l=e.V,e=e.G):r.G?(n=n.replace(/^#elif/,"#if"),t=e=!(l=!(r=2))):(r=l?0:1,l=!l,e=e.G),s[s.length-1]=new yd(r,l,e),e&&0!=r&&u.push(n)}a+=t}else 0==t.search("#endif")?(s.pop(),e.G&&(a--,u.push(t))):n||(e=sd(t,o),u.push(e));else{if(0<a)throw"Definitions can not be changed inside of Modes: "+t;e=z(t,"preprocessor_operator"),delete o[e.value]}else{if(0<a)throw"Definitions can not be changed inside of Modes: "+t;e=new vd(e=z(t,"preprocessor_define")),o[e.name]=e}}),z(u.join("\n"),n)}function Ad(t,e){var n="statements";for(n in t)if(t[n]===t.C)break;return P(new Rc(t,n,0,0,e.C),t)}od.prototype.f=function(){return"Preprocessor"},od.prototype.g=function(){return["VariableMinifier"]},od.prototype.u=function(t,e){var n=this.a,r=new gd;if(this.h)for(var l in e.g){var i=id(r.f++);e.g[l].s=i}if(this.i)for(l in e.f)i=id(r.f++),n.push(e.f[l].a+" "+i),e.f[l].s=i;return r=this.c.map(function(t){var e=new Sc;return e.a=t,e}).concat(e.g),n=z(n.map(function(t){return"#define "+t}).join("\n")),e.c=zd(Ad(e.c,n),r,"vertex_start"),e.a=zd(Ad(e.a,n),r,"fragment_start"),[]};var Bd={};ka("glslprep.SyntaxError",la.SyntaxError),ka("glslprep.Shader",Bd),Bd.VERTEX=0,Bd.FRAGMENT=1,ka("glslprep.parseGlsl",function(t,e){return z(t,0===e?"vertex_start":"fragment_start")}),ka("glslprep.minifyGlsl",function(t,e){var n=new R;if(n.c=z(t[0],"vertex_start"),n.a=z(t[1],"fragment_start"),Vc(n),n=new bd(n),null!=e){var r,l=["GL_ES 1"],i=[];for(r in e){var o=e[r];null!=o?l.push(r+" "+o):i.push(r)}dd(n,new od(i,l,!1,!1))}return dd(n,new V),dd(n,new W(!0)),dd(n,new Y(!1)),dd(n,new Z),dd(n,new U),dd(n,new T),n=ed(n),t[0]=I(n.c),t[1]=I(n.a),t})}(),XDTHREE.HTMLGroup=function(t){XDTHREE.Group.call(this),this.type="HTMLGroup"},XDTHREE.HTMLGroup.prototype=Object.assign(Object.create(XDTHREE.Group.prototype),{constructor:XDTHREE.HTMLGroup}),XDTHREE.HTMLMesh=function(t){var e=new XDTHREE.HTMLTexture(t),n=new XDTHREE.PlaneGeometry(.05*e.image.width,.05*e.image.height),r=new XDTHREE.MeshBasicMaterial({map:e});XDTHREE.Mesh.call(this,n,r),this.type="HTMLMesh"},XDTHREE.HTMLMesh.prototype=Object.assign(Object.create(XDTHREE.Mesh.prototype),{constructor:XDTHREE.HTMLMesh}),XDTHREE.HTMLTexture=function(t){XDTHREE.CanvasTexture.call(this,html2canvas(t)),this.dom=t,this.anisotropy=16},XDTHREE.HTMLTexture.prototype=Object.assign(Object.create(XDTHREE.CanvasTexture.prototype),{constructor:XDTHREE.HTMLTexture,update:function(){console.log("yo!",this,this.dom),this.image=html2canvas(this.dom),this.needsUpdate=!0}});