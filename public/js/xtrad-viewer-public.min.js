/*! xtrad-viewer 06-12-2019 */

var xtrad_homeUrl="";jQuery(document).ready(function($){var $container=$(".xtrad-viewer"),$containerimage=$(".xtrad-viewer-image"),players=[];if(null!=$container&&0!=$container.length){for(var i=0;i<$container.length;i++){var name=$container[i].id,post_id=name.substring(name.lastIndexOf("-")+1),postm=eval("post"+post_id);xtrad_homeUrl=postm.home;var player=new XTRADPLAYER.Player;players.push(player);var width=$container[i].clientWidth;0===width&&(width=$containerimage[i].clientWidth),0===width&&(width=800);var imgsrc=postm.imgsrc;if(0<imgsrc.length){var height=width*(postm.heightratio/100),img=document.createElement("img");img.src=imgsrc,img.height=height,img.width=width;var isIE=!!document.documentMode;isIE?$containerimage[i].appendChild(img):$containerimage[i].append(img),$container[i].style.display="none",$containerimage[i].style.display="block"}!0===WEBGL.isWebGLAvailable()?player.load($container[i],$containerimage[i],width,postm.home,postm.scene_name,postm.json,postm.type,postm.orbit,0<imgsrc.length):console.log(WEBGL.getWebGLErrorMessage())}window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){var e=$(".xtrad-viewer");if(1<e.length)for(var i=0;i<e.length;i++){var t=players[i],n=e[i].clientWidth;t.setSize(n)}else{var a=players[0],r=e.clientWidth;a.setSize(r)}}});